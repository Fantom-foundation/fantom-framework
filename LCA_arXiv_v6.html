<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>LCA_arXiv_v6</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="generator" content="pdftohtml 0.36"/>
<meta name="date" content="2019-02-27T16:21:29+00:00"/>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<!-- Page 1 -->
<a name="1"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft10{font-size:23px;font-family:Times;color:#000000;}
	.ft11{font-size:18px;font-family:Times;color:#000000;}
	.ft12{font-size:12px;font-family:Times;color:#000000;}
	.ft13{font-size:9px;font-family:Times;color:#000000;}
	.ft14{font-size:15px;font-family:Times;color:#000000;}
	.ft15{font-size:12px;line-height:16px;font-family:Times;color:#000000;}
	.ft16{font-size:12px;line-height:19px;font-family:Times;color:#000000;}
-->
</style>
<div id="page1-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:149px;left:135px;white-space:nowrap" class="ft10">FANTOM:&#160;A&#160;SCALABLE&#160;FRAMEWORK&#160;FOR&#160;ASYNCHRONOUS</p>
<p style="position:absolute;top:182px;left:331px;white-space:nowrap" class="ft11">DISTRIBUTED&#160;SYSTEMS</p>
<p style="position:absolute;top:241px;left:420px;white-space:nowrap" class="ft12">A&#160;PREPRINT</p>
<p style="position:absolute;top:284px;left:242px;white-space:nowrap" class="ft14">Sang-Min&#160;Choi,&#160;Jiho&#160;Park,&#160;Quan&#160;Nguyen,&#160;and&#160;Andre&#160;Cronje</p>
<p style="position:absolute;top:319px;left:406px;white-space:nowrap" class="ft14">FANTOM&#160;Lab</p>
<p style="position:absolute;top:340px;left:379px;white-space:nowrap" class="ft14">FANTOM&#160;Foundation</p>
<p style="position:absolute;top:409px;left:404px;white-space:nowrap" class="ft12">February&#160;27,&#160;2019</p>
<p style="position:absolute;top:448px;left:416px;white-space:nowrap" class="ft14">ABSTRACT</p>
<p style="position:absolute;top:483px;left:162px;white-space:nowrap" class="ft15">We&#160;describe&#160;Fantom,&#160;a&#160;framework&#160;for&#160;asynchronous&#160;distributed&#160;systems.&#160;Fantom&#160;is&#160;based&#160;on&#160;the<br/>Lachesis&#160;Protocol&#160;[1],&#160;which&#160;uses&#160;asynchronous&#160;event&#160;transmission&#160;for&#160;practical&#160;Byzantine&#160;fault<br/>tolerance&#160;(pBFT)&#160;to&#160;create&#160;a&#160;leaderless,&#160;scalable,&#160;asynchronous&#160;Directed&#160;Acyclic&#160;Graph&#160;(DAG).<br/>We&#160;further&#160;optimize&#160;the&#160;Lachesis&#160;Protocol&#160;by&#160;introducing&#160;a&#160;permission-less&#160;network&#160;for&#160;dynamic<br/>participation.&#160;Root&#160;selection&#160;cost&#160;is&#160;further&#160;optimized&#160;by&#160;the&#160;introduction&#160;of&#160;an&#160;n-row&#160;flag&#160;table,&#160;as<br/>well&#160;as&#160;optimizing&#160;path&#160;selection&#160;by&#160;introducing&#160;domination&#160;relationships.<br/>We&#160;propose&#160;an&#160;alternative&#160;framework&#160;for&#160;distributed&#160;ledgers,&#160;based&#160;on&#160;asynchronous&#160;partially&#160;or-<br/>dered&#160;sets&#160;with&#160;logical&#160;time&#160;ordering&#160;instead&#160;of&#160;blockchains.<br/>This&#160;paper&#160;builds&#160;upon&#160;the&#160;original&#160;proposed&#160;family&#160;of&#160;Lachesis-class&#160;consensus&#160;protocols.&#160;We<br/>formalize&#160;our&#160;proofs&#160;into&#160;a&#160;model&#160;that&#160;can&#160;be&#160;applied&#160;to&#160;abstract&#160;asynchronous&#160;distributed&#160;system.</p>
<p style="position:absolute;top:672px;left:108px;white-space:nowrap" class="ft15">Keywords&#160;Consensus&#160;algorithm&#160;·&#160;Byzantine&#160;fault&#160;tolerance&#160;·&#160;Lachesis&#160;protocol&#160;·&#160;OPERA&#160;chain&#160;·&#160;Lamport&#160;timestamp&#160;·<br/>Main&#160;chain&#160;·&#160;Root&#160;·&#160;Clotho&#160;·&#160;Atropos&#160;·&#160;Distributed&#160;Ledger&#160;·&#160;Blockchain</p>
</div>
<!-- Page 2 -->
<a name="2"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page2-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft22">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:111px;left:108px;white-space:nowrap" class="ft24">Contents</p>
<p style="position:absolute;top:164px;left:108px;white-space:nowrap" class="ft22">1</p>
<p style="position:absolute;top:164px;left:130px;white-space:nowrap" class="ft22">Introduction</p>
<p style="position:absolute;top:164px;left:803px;white-space:nowrap" class="ft22">2</p>
<p style="position:absolute;top:188px;left:130px;white-space:nowrap" class="ft22">1.1</p>
<p style="position:absolute;top:188px;left:165px;white-space:nowrap" class="ft22">Contributions&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:188px;left:803px;white-space:nowrap" class="ft22">2</p>
<p style="position:absolute;top:213px;left:130px;white-space:nowrap" class="ft22">1.2</p>
<p style="position:absolute;top:213px;left:165px;white-space:nowrap" class="ft22">Paper&#160;structure</p>
<p style="position:absolute;top:213px;left:269px;white-space:nowrap" class="ft22">.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:213px;left:803px;white-space:nowrap" class="ft22">2</p>
<p style="position:absolute;top:252px;left:108px;white-space:nowrap" class="ft22">2</p>
<p style="position:absolute;top:252px;left:130px;white-space:nowrap" class="ft22">Preliminaries</p>
<p style="position:absolute;top:252px;left:803px;white-space:nowrap" class="ft22">2</p>
<p style="position:absolute;top:277px;left:130px;white-space:nowrap" class="ft22">2.1</p>
<p style="position:absolute;top:277px;left:165px;white-space:nowrap" class="ft22">Basic&#160;Definitions&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:277px;left:803px;white-space:nowrap" class="ft22">3</p>
<p style="position:absolute;top:302px;left:130px;white-space:nowrap" class="ft22">2.2</p>
<p style="position:absolute;top:302px;left:165px;white-space:nowrap" class="ft22">Lamport&#160;timestamps</p>
<p style="position:absolute;top:302px;left:302px;white-space:nowrap" class="ft22">.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:302px;left:803px;white-space:nowrap" class="ft22">4</p>
<p style="position:absolute;top:326px;left:130px;white-space:nowrap" class="ft22">2.3</p>
<p style="position:absolute;top:326px;left:165px;white-space:nowrap" class="ft22">State&#160;Definitions&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:326px;left:803px;white-space:nowrap" class="ft22">4</p>
<p style="position:absolute;top:351px;left:130px;white-space:nowrap" class="ft22">2.4</p>
<p style="position:absolute;top:351px;left:165px;white-space:nowrap" class="ft22">Consistent&#160;Cut&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:351px;left:803px;white-space:nowrap" class="ft22">5</p>
<p style="position:absolute;top:375px;left:130px;white-space:nowrap" class="ft22">2.5</p>
<p style="position:absolute;top:375px;left:165px;white-space:nowrap" class="ft22">Dominator&#160;(graph&#160;theory)&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:375px;left:803px;white-space:nowrap" class="ft22">7</p>
<p style="position:absolute;top:400px;left:130px;white-space:nowrap" class="ft22">2.6</p>
<p style="position:absolute;top:400px;left:165px;white-space:nowrap" class="ft22">OPERA&#160;chain&#160;(DAG)&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:400px;left:803px;white-space:nowrap" class="ft22">7</p>
<p style="position:absolute;top:439px;left:108px;white-space:nowrap" class="ft22">3</p>
<p style="position:absolute;top:439px;left:130px;white-space:nowrap" class="ft22">Lachesis&#160;Protocol</p>
<p style="position:absolute;top:439px;left:795px;white-space:nowrap" class="ft22">10</p>
<p style="position:absolute;top:464px;left:130px;white-space:nowrap" class="ft22">3.1</p>
<p style="position:absolute;top:464px;left:165px;white-space:nowrap" class="ft22">Peer&#160;selection&#160;algorithm</p>
<p style="position:absolute;top:464px;left:325px;white-space:nowrap" class="ft22">.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:464px;left:795px;white-space:nowrap" class="ft22">10</p>
<p style="position:absolute;top:489px;left:130px;white-space:nowrap" class="ft22">3.2</p>
<p style="position:absolute;top:489px;left:165px;white-space:nowrap" class="ft22">Dynamic&#160;participants&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:489px;left:795px;white-space:nowrap" class="ft22">10</p>
<p style="position:absolute;top:513px;left:130px;white-space:nowrap" class="ft22">3.3</p>
<p style="position:absolute;top:513px;left:165px;white-space:nowrap" class="ft22">Peer&#160;synchronization&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:513px;left:795px;white-space:nowrap" class="ft22">11</p>
<p style="position:absolute;top:538px;left:130px;white-space:nowrap" class="ft22">3.4</p>
<p style="position:absolute;top:538px;left:165px;white-space:nowrap" class="ft22">Node&#160;Structure&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:538px;left:795px;white-space:nowrap" class="ft22">11</p>
<p style="position:absolute;top:562px;left:130px;white-space:nowrap" class="ft22">3.5</p>
<p style="position:absolute;top:562px;left:165px;white-space:nowrap" class="ft22">Peer&#160;selection&#160;algorithm&#160;via&#160;Cost&#160;function&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:562px;left:795px;white-space:nowrap" class="ft22">12</p>
<p style="position:absolute;top:587px;left:130px;white-space:nowrap" class="ft22">3.6</p>
<p style="position:absolute;top:587px;left:165px;white-space:nowrap" class="ft22">Event&#160;block&#160;creation</p>
<p style="position:absolute;top:587px;left:302px;white-space:nowrap" class="ft22">.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:587px;left:795px;white-space:nowrap" class="ft22">14</p>
<p style="position:absolute;top:611px;left:130px;white-space:nowrap" class="ft22">3.7</p>
<p style="position:absolute;top:611px;left:165px;white-space:nowrap" class="ft22">Topological&#160;ordering&#160;of&#160;events&#160;using&#160;Lamport&#160;timestamps&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:611px;left:795px;white-space:nowrap" class="ft22">15</p>
<p style="position:absolute;top:636px;left:130px;white-space:nowrap" class="ft22">3.8</p>
<p style="position:absolute;top:636px;left:165px;white-space:nowrap" class="ft22">Domination&#160;Relation&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:636px;left:795px;white-space:nowrap" class="ft22">16</p>
<p style="position:absolute;top:661px;left:130px;white-space:nowrap" class="ft22">3.9</p>
<p style="position:absolute;top:661px;left:165px;white-space:nowrap" class="ft22">Examples&#160;of&#160;domination&#160;relation&#160;in&#160;DAGs&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:661px;left:795px;white-space:nowrap" class="ft22">17</p>
<p style="position:absolute;top:685px;left:130px;white-space:nowrap" class="ft22">3.10&#160;Root&#160;Selection&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:685px;left:795px;white-space:nowrap" class="ft22">19</p>
<p style="position:absolute;top:710px;left:130px;white-space:nowrap" class="ft22">3.11&#160;Clotho&#160;Selection&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:710px;left:795px;white-space:nowrap" class="ft22">20</p>
<p style="position:absolute;top:734px;left:130px;white-space:nowrap" class="ft22">3.12&#160;Atropos&#160;Selection&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:734px;left:795px;white-space:nowrap" class="ft22">23</p>
<p style="position:absolute;top:759px;left:130px;white-space:nowrap" class="ft22">3.13&#160;Lachesis&#160;Consensus&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:759px;left:795px;white-space:nowrap" class="ft22">26</p>
<p style="position:absolute;top:784px;left:130px;white-space:nowrap" class="ft22">3.14&#160;Detecting&#160;Forks&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:784px;left:795px;white-space:nowrap" class="ft22">28</p>
<p style="position:absolute;top:823px;left:108px;white-space:nowrap" class="ft22">4</p>
<p style="position:absolute;top:823px;left:130px;white-space:nowrap" class="ft22">Conclusion</p>
<p style="position:absolute;top:823px;left:795px;white-space:nowrap" class="ft22">28</p>
<p style="position:absolute;top:862px;left:108px;white-space:nowrap" class="ft22">5</p>
<p style="position:absolute;top:862px;left:130px;white-space:nowrap" class="ft22">Appendix</p>
<p style="position:absolute;top:862px;left:795px;white-space:nowrap" class="ft22">29</p>
<p style="position:absolute;top:887px;left:130px;white-space:nowrap" class="ft22">5.1</p>
<p style="position:absolute;top:887px;left:165px;white-space:nowrap" class="ft22">Preliminaries&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:887px;left:795px;white-space:nowrap" class="ft22">29</p>
<p style="position:absolute;top:912px;left:165px;white-space:nowrap" class="ft22">5.1.1</p>
<p style="position:absolute;top:912px;left:213px;white-space:nowrap" class="ft22">Domination&#160;relation</p>
<p style="position:absolute;top:912px;left:347px;white-space:nowrap" class="ft22">.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:912px;left:795px;white-space:nowrap" class="ft22">29</p>
<p style="position:absolute;top:936px;left:130px;white-space:nowrap" class="ft22">5.2</p>
<p style="position:absolute;top:936px;left:165px;white-space:nowrap" class="ft22">Proof&#160;of&#160;Lachesis&#160;Consensus&#160;Algorithm&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:936px;left:795px;white-space:nowrap" class="ft22">30</p>
<p style="position:absolute;top:961px;left:165px;white-space:nowrap" class="ft22">5.2.1</p>
<p style="position:absolute;top:961px;left:213px;white-space:nowrap" class="ft22">Proof&#160;of&#160;Byzantine&#160;Fault&#160;Tolerance&#160;for&#160;Lachesis&#160;Consensus&#160;Algorithm&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:961px;left:795px;white-space:nowrap" class="ft22">30</p>
<p style="position:absolute;top:986px;left:130px;white-space:nowrap" class="ft22">5.3</p>
<p style="position:absolute;top:986px;left:165px;white-space:nowrap" class="ft22">Semantics&#160;of&#160;Lachesis&#160;protocol&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:986px;left:795px;white-space:nowrap" class="ft22">33</p>
<p style="position:absolute;top:1025px;left:108px;white-space:nowrap" class="ft22">6</p>
<p style="position:absolute;top:1025px;left:130px;white-space:nowrap" class="ft22">Reference</p>
<p style="position:absolute;top:1025px;left:795px;white-space:nowrap" class="ft22">36</p>
<p style="position:absolute;top:1115px;left:455px;white-space:nowrap" class="ft22">1</p>
</div>
<!-- Page 3 -->
<a name="3"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft37{font-size:8px;font-family:Times;color:#000000;}
-->
</style>
<div id="page3-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft32">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:111px;left:108px;white-space:nowrap" class="ft34">1</p>
<p style="position:absolute;top:111px;left:135px;white-space:nowrap" class="ft34">Introduction</p>
<p style="position:absolute;top:154px;left:108px;white-space:nowrap" class="ft35">Blockchain&#160;has&#160;emerged&#160;as&#160;a&#160;technology&#160;for&#160;secure&#160;decentralized&#160;transaction&#160;ledgers&#160;with&#160;broad&#160;applications&#160;in&#160;finan-<br/>cial&#160;systems,&#160;supply&#160;chains&#160;and&#160;health&#160;care.&#160;Byzantine&#160;fault&#160;tolerance&#160;[2]&#160;is&#160;addressed&#160;in&#160;distributed&#160;database&#160;systems,<br/>in&#160;which&#160;up&#160;to&#160;one-third&#160;of&#160;the&#160;participant&#160;nodes&#160;may&#160;be&#160;compromised.&#160;Consensus&#160;algorithms&#160;[3]&#160;ensures&#160;the&#160;integrity<br/>of&#160;transactions&#160;between&#160;participants&#160;over&#160;a&#160;distributed&#160;network&#160;[2]&#160;and&#160;is&#160;equivalent&#160;to&#160;the&#160;proof&#160;of&#160;Byzantine&#160;fault<br/>tolerance&#160;in&#160;distributed&#160;database&#160;systems&#160;[4,&#160;5].</p>
<p style="position:absolute;top:244px;left:108px;white-space:nowrap" class="ft35">A&#160;large&#160;number&#160;of&#160;consensus&#160;algorithms&#160;have&#160;been&#160;proposed.&#160;For&#160;example;&#160;the&#160;original&#160;Nakamoto&#160;consensus&#160;protocol<br/>in&#160;Bitcoin&#160;uses&#160;Proof&#160;of&#160;Work&#160;(PoW)&#160;[6].&#160;Proof&#160;Of&#160;Stake&#160;(PoS)&#160;[7,&#160;8]&#160;uses&#160;participants’&#160;stakes&#160;to&#160;generate&#160;the&#160;blocks<br/>respectively.&#160;Our&#160;previous&#160;paper&#160;gives&#160;a&#160;survey&#160;of&#160;previous&#160;DAG-based&#160;approaches&#160;[1].</p>
<p style="position:absolute;top:301px;left:108px;white-space:nowrap" class="ft35">In&#160;the&#160;previous&#160;paper&#160;[1],&#160;we&#160;introduced&#160;a&#160;new&#160;consensus&#160;protocol,&#160;called&#160;L0.&#160;The&#160;protocol&#160;L0&#160;is&#160;a&#160;DAG-based<br/>asynchronous&#160;non-deterministic&#160;protocol&#160;that&#160;guarantees&#160;pBFT.&#160;L0&#160;generates&#160;each&#160;block&#160;asynchronously&#160;and&#160;uses&#160;the<br/>OPERA&#160;chain&#160;(DAG)&#160;for&#160;faster&#160;consensus&#160;by&#160;confirming&#160;how&#160;many&#160;nodes&#160;share&#160;the&#160;blocks.</p>
<p style="position:absolute;top:359px;left:108px;white-space:nowrap" class="ft35">The&#160;Lachesis&#160;protocol&#160;as&#160;previously&#160;proposed&#160;is&#160;a&#160;set&#160;of&#160;protocols&#160;that&#160;create&#160;a&#160;directed&#160;acyclic&#160;graph&#160;for&#160;distributed<br/>systems.&#160;Each&#160;node&#160;can&#160;receive&#160;transactions&#160;and&#160;batch&#160;them&#160;into&#160;an&#160;event&#160;block.&#160;An&#160;event&#160;block&#160;is&#160;then&#160;shared&#160;with<br/>it’s&#160;peers.&#160;When&#160;peers&#160;communicate&#160;they&#160;share&#160;this&#160;information&#160;again&#160;and&#160;thus&#160;spread&#160;this&#160;information&#160;through&#160;the<br/>network.&#160;In&#160;BFT&#160;systems&#160;we&#160;would&#160;use&#160;a&#160;broadcast&#160;voting&#160;approach&#160;and&#160;ask&#160;each&#160;node&#160;to&#160;vote&#160;on&#160;the&#160;validity&#160;of<br/>each&#160;block.&#160;This&#160;event&#160;is&#160;synchronous&#160;in&#160;nature.&#160;Instead&#160;we&#160;proposed&#160;an&#160;asynchronous&#160;system&#160;where&#160;we&#160;leverage<br/>the&#160;concepts&#160;of&#160;distributed&#160;common&#160;knowledge,&#160;dominator&#160;relations&#160;in&#160;graph&#160;theory&#160;and&#160;broadcast&#160;based&#160;gossip&#160;to<br/>achieve&#160;a&#160;local&#160;view&#160;with&#160;high&#160;probability&#160;of&#160;being&#160;a&#160;global&#160;view.&#160;It&#160;accomplishes&#160;this&#160;asynchronously,&#160;meaning&#160;that<br/>we&#160;can&#160;increase&#160;throughput&#160;near&#160;linearly&#160;as&#160;nodes&#160;enter&#160;the&#160;network.</p>
<p style="position:absolute;top:498px;left:108px;white-space:nowrap" class="ft35">In&#160;this&#160;work,&#160;we&#160;propose&#160;a&#160;further&#160;enhancement&#160;on&#160;these&#160;concepts&#160;and&#160;we&#160;formalize&#160;them&#160;so&#160;that&#160;they&#160;can&#160;be&#160;applied<br/>to&#160;any&#160;asynchronous&#160;distributed&#160;system.</p>
<p style="position:absolute;top:559px;left:108px;white-space:nowrap" class="ft32">1.1</p>
<p style="position:absolute;top:559px;left:142px;white-space:nowrap" class="ft32">Contributions</p>
<p style="position:absolute;top:593px;left:108px;white-space:nowrap" class="ft32">In&#160;summary,&#160;this&#160;paper&#160;makes&#160;the&#160;following&#160;contributions:</p>
<p style="position:absolute;top:626px;left:147px;white-space:nowrap" class="ft32">•&#160;We&#160;introduce&#160;the&#160;n-row&#160;flag&#160;table&#160;for&#160;faster&#160;root&#160;selection&#160;of&#160;the&#160;Lachesis&#160;Protocol.</p>
<p style="position:absolute;top:657px;left:147px;white-space:nowrap" class="ft32">•&#160;We&#160;define&#160;continuous&#160;consistent&#160;cuts&#160;of&#160;a&#160;local&#160;view&#160;to&#160;achieve&#160;consensus.</p>
<p style="position:absolute;top:688px;left:147px;white-space:nowrap" class="ft32">•&#160;We&#160;present&#160;proof&#160;of&#160;how&#160;domination&#160;relationships&#160;can&#160;be&#160;used&#160;for&#160;share&#160;information.</p>
<p style="position:absolute;top:718px;left:147px;white-space:nowrap" class="ft32">•&#160;We&#160;formalize&#160;our&#160;proofs&#160;that&#160;can&#160;be&#160;applied&#160;to&#160;any&#160;generic&#160;asynchronous&#160;DAG&#160;solution.</p>
<p style="position:absolute;top:764px;left:108px;white-space:nowrap" class="ft32">1.2</p>
<p style="position:absolute;top:764px;left:142px;white-space:nowrap" class="ft32">Paper&#160;structure</p>
<p style="position:absolute;top:798px;left:108px;white-space:nowrap" class="ft35">The&#160;rest&#160;of&#160;this&#160;paper&#160;is&#160;organised&#160;as&#160;follows.&#160;Section&#160;2&#160;describes&#160;our&#160;Fantom&#160;framework.&#160;Section&#160;3&#160;presents&#160;the<br/>protocol&#160;implementation.&#160;Section&#160;4&#160;concludes.&#160;Proof&#160;of&#160;Byzantine&#160;fault&#160;tolerance&#160;is&#160;described&#160;in&#160;Section&#160;5.2.</p>
<p style="position:absolute;top:863px;left:108px;white-space:nowrap" class="ft34">2</p>
<p style="position:absolute;top:863px;left:135px;white-space:nowrap" class="ft34">Preliminaries</p>
<p style="position:absolute;top:906px;left:108px;white-space:nowrap" class="ft35">The&#160;protocol&#160;is&#160;run&#160;via&#160;nodes&#160;representing&#160;users’&#160;machines&#160;which&#160;together&#160;create&#160;a&#160;network.&#160;The&#160;basic&#160;units&#160;of&#160;the<br/>protocol&#160;are&#160;called&#160;event&#160;blocks&#160;-&#160;a&#160;data&#160;structure&#160;created&#160;by&#160;a&#160;single&#160;node&#160;to&#160;share&#160;transaction&#160;and&#160;user&#160;information<br/>with&#160;the&#160;rest&#160;of&#160;the&#160;network.&#160;These&#160;event&#160;blocks&#160;reference&#160;previous&#160;event&#160;blocks&#160;that&#160;are&#160;known&#160;to&#160;the&#160;node.&#160;This&#160;flow<br/>or&#160;stream&#160;of&#160;information&#160;creates&#160;a&#160;sequence&#160;of&#160;history.</p>
<p style="position:absolute;top:980px;left:108px;white-space:nowrap" class="ft35">The&#160;history&#160;of&#160;the&#160;protocol&#160;can&#160;be&#160;represented&#160;by&#160;a&#160;directed&#160;acyclic&#160;graph&#160;G&#160;=&#160;(V,&#160;E),&#160;where&#160;V&#160;is&#160;a&#160;set&#160;of&#160;vertices<br/>and&#160;E&#160;is&#160;a&#160;set&#160;of&#160;edges.&#160;Each&#160;vertex&#160;in&#160;a&#160;row&#160;(node)&#160;represents&#160;an&#160;event.&#160;Time&#160;flows&#160;left-to-right&#160;of&#160;the&#160;graph,&#160;so&#160;left<br/>vertices&#160;represent&#160;earlier&#160;events&#160;in&#160;history.</p>
<p style="position:absolute;top:1037px;left:108px;white-space:nowrap" class="ft35">For&#160;a&#160;graph&#160;G,&#160;a&#160;path&#160;p&#160;in&#160;G&#160;is&#160;a&#160;sequence&#160;of&#160;vertices&#160;(v1,&#160;v2,&#160;.&#160;.&#160;.&#160;,&#160;vk)&#160;by&#160;following&#160;the&#160;edges&#160;in&#160;E.&#160;Let&#160;vc&#160;be&#160;a&#160;vertex<br/>in&#160;G.&#160;A&#160;vertex&#160;vp&#160;is&#160;the&#160;parent&#160;of&#160;vc&#160;if&#160;there&#160;is&#160;an&#160;edge&#160;from&#160;vp&#160;to&#160;vc.&#160;A&#160;vertex&#160;va&#160;is&#160;an&#160;ancestor&#160;of&#160;vc&#160;if&#160;there&#160;is&#160;a&#160;path<br/>from&#160;va&#160;to&#160;vc.</p>
<p style="position:absolute;top:1115px;left:455px;white-space:nowrap" class="ft32">2</p>
</div>
<!-- Page 4 -->
<a name="4"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page4-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft42">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:337px;left:338px;white-space:nowrap" class="ft42">Figure&#160;1:&#160;An&#160;Example&#160;of&#160;OPERA&#160;Chain</p>
<p style="position:absolute;top:382px;left:108px;white-space:nowrap" class="ft45">Figure&#160;1&#160;shows&#160;an&#160;example&#160;of&#160;an&#160;OPERA&#160;chain&#160;(DAG)&#160;constructed&#160;through&#160;the&#160;Lachesis&#160;protocol.&#160;Event&#160;blocks&#160;are<br/>representated&#160;by&#160;circles.&#160;Blocks&#160;of&#160;the&#160;same&#160;frame&#160;have&#160;the&#160;same&#160;color.</p>
<p style="position:absolute;top:434px;left:108px;white-space:nowrap" class="ft42">2.1</p>
<p style="position:absolute;top:434px;left:142px;white-space:nowrap" class="ft42">Basic&#160;Definitions</p>
<p style="position:absolute;top:464px;left:127px;white-space:nowrap" class="ft42">(Lachesis)&#160;The&#160;set&#160;of&#160;protocols</p>
<p style="position:absolute;top:488px;left:127px;white-space:nowrap" class="ft42">(Node)&#160;Each&#160;machine&#160;that&#160;participates&#160;in&#160;the&#160;Lachesis&#160;protocol&#160;is&#160;called&#160;a&#160;node.&#160;Let&#160;n&#160;denote&#160;the&#160;total&#160;number&#160;of</p>
<p style="position:absolute;top:505px;left:108px;white-space:nowrap" class="ft42">nodes.</p>
<p style="position:absolute;top:529px;left:127px;white-space:nowrap" class="ft42">(k)&#160;A&#160;constant&#160;defined&#160;in&#160;the&#160;system.</p>
<p style="position:absolute;top:554px;left:127px;white-space:nowrap" class="ft42">(Peer&#160;node)&#160;A&#160;node&#160;ni&#160;has&#160;k&#160;peer&#160;nodes.</p>
<p style="position:absolute;top:578px;left:126px;white-space:nowrap" class="ft42">(Process)&#160;A&#160;process&#160;pi&#160;represents&#160;a&#160;machine&#160;or&#160;a&#160;node.&#160;The&#160;process&#160;identifier&#160;of&#160;pi&#160;is&#160;i.&#160;A&#160;set&#160;P&#160;=&#160;{1,...,n}&#160;denotes</p>
<p style="position:absolute;top:595px;left:108px;white-space:nowrap" class="ft42">the&#160;set&#160;of&#160;process&#160;identifiers.</p>
<p style="position:absolute;top:619px;left:128px;white-space:nowrap" class="ft42">(Channel)&#160;A&#160;process&#160;i&#160;can&#160;send&#160;messages&#160;to&#160;process&#160;j&#160;if&#160;there&#160;is&#160;a&#160;channel&#160;(i,j).&#160;Let&#160;C&#160;⊆&#160;{(i,j)&#160;s.t.&#160;i,&#160;j&#160;∈&#160;P&#160;}</p>
<p style="position:absolute;top:636px;left:108px;white-space:nowrap" class="ft42">denote&#160;the&#160;set&#160;of&#160;channels.</p>
<p style="position:absolute;top:660px;left:127px;white-space:nowrap" class="ft42">(Event&#160;block)&#160;Each&#160;node&#160;can&#160;create&#160;event&#160;blocks,&#160;send&#160;(receive)&#160;messages&#160;to&#160;(from)&#160;other&#160;nodes.The&#160;structure&#160;of</p>
<p style="position:absolute;top:677px;left:108px;white-space:nowrap" class="ft42">an&#160;event&#160;block&#160;includes&#160;the&#160;signature,&#160;generation&#160;time,&#160;transaction&#160;history,&#160;and&#160;hash&#160;information&#160;to&#160;references.</p>
<p style="position:absolute;top:701px;left:108px;white-space:nowrap" class="ft45">All&#160;nodes&#160;can&#160;create&#160;event&#160;blocks.&#160;The&#160;information&#160;of&#160;the&#160;referenced&#160;event&#160;blocks&#160;can&#160;be&#160;copied&#160;by&#160;each&#160;node.&#160;The<br/>first&#160;event&#160;block&#160;of&#160;each&#160;node&#160;is&#160;called&#160;a&#160;leaf&#160;event.</p>
<p style="position:absolute;top:742px;left:108px;white-space:nowrap" class="ft45">Suppose&#160;a&#160;node&#160;ni&#160;creates&#160;an&#160;event&#160;vc&#160;after&#160;an&#160;event&#160;vs&#160;in&#160;ni.&#160;Each&#160;event&#160;block&#160;has&#160;exactly&#160;k&#160;references.&#160;One&#160;of&#160;the<br/>references&#160;is&#160;self-reference,&#160;and&#160;the&#160;other&#160;k-1&#160;references&#160;point&#160;to&#160;the&#160;top&#160;events&#160;of&#160;ni’s&#160;k-1&#160;peer&#160;nodes.</p>
<p style="position:absolute;top:783px;left:127px;white-space:nowrap" class="ft42">(Top&#160;event)&#160;An&#160;event&#160;v&#160;is&#160;a&#160;top&#160;event&#160;of&#160;a&#160;node&#160;ni&#160;if&#160;there&#160;is&#160;no&#160;other&#160;event&#160;in&#160;ni&#160;referencing&#160;v.</p>
<p style="position:absolute;top:808px;left:127px;white-space:nowrap" class="ft42">(Height&#160;Vector)&#160;The&#160;height&#160;vector&#160;is&#160;the&#160;number&#160;of&#160;event&#160;blocks&#160;created&#160;by&#160;the&#160;i-th&#160;node.</p>
<p style="position:absolute;top:832px;left:128px;white-space:nowrap" class="ft42">(In-degree&#160;Vector)&#160;The&#160;in-degree&#160;vector&#160;refers&#160;to&#160;the&#160;number&#160;of&#160;edges&#160;from&#160;other&#160;event&#160;blocks&#160;created&#160;by&#160;other</p>
<p style="position:absolute;top:849px;left:108px;white-space:nowrap" class="ft45">nodes&#160;to&#160;the&#160;top&#160;event&#160;block&#160;of&#160;this&#160;node.&#160;The&#160;top&#160;event&#160;block&#160;indicates&#160;the&#160;most&#160;recently&#160;created&#160;event&#160;block&#160;by&#160;this<br/>node.</p>
<p style="position:absolute;top:890px;left:126px;white-space:nowrap" class="ft42">(Ref)&#160;An&#160;event&#160;vr&#160;is&#160;called&#160;“ref”&#160;of&#160;event&#160;vc&#160;if&#160;the&#160;reference&#160;hash&#160;of&#160;vc&#160;points&#160;to&#160;the&#160;event&#160;vr.&#160;Denoted&#160;by&#160;vc&#160;,→</p>
<p style="position:absolute;top:887px;left:782px;white-space:nowrap" class="ft47">r&#160;vr.</p>
<p style="position:absolute;top:906px;left:108px;white-space:nowrap" class="ft42">For&#160;simplicity,&#160;we&#160;can&#160;use&#160;,→&#160;to&#160;denote&#160;a&#160;reference&#160;relationship&#160;(either&#160;,→r&#160;or&#160;,→s).</p>
<p style="position:absolute;top:931px;left:127px;white-space:nowrap" class="ft42">(Self-ref)&#160;An&#160;event&#160;vs&#160;is&#160;called&#160;“self-ref”&#160;of&#160;event&#160;vc,&#160;if&#160;the&#160;self-ref&#160;hash&#160;of&#160;vc&#160;points&#160;to&#160;the&#160;event&#160;vs.&#160;Denoted&#160;by</p>
<p style="position:absolute;top:947px;left:108px;white-space:nowrap" class="ft42">vc&#160;,→</p>
<p style="position:absolute;top:944px;left:142px;white-space:nowrap" class="ft47">s&#160;vs.</p>
<p style="position:absolute;top:971px;left:127px;white-space:nowrap" class="ft42">(k&#160;references)&#160;Each&#160;event&#160;block&#160;has&#160;at&#160;least&#160;k&#160;references.&#160;One&#160;of&#160;the&#160;references&#160;is&#160;self-reference,&#160;and&#160;the&#160;other&#160;k-1</p>
<p style="position:absolute;top:988px;left:108px;white-space:nowrap" class="ft42">references&#160;point&#160;to&#160;the&#160;top&#160;events&#160;of&#160;ni’s&#160;k-1&#160;peer&#160;nodes.</p>
<p style="position:absolute;top:1012px;left:128px;white-space:nowrap" class="ft42">(Self-ancestor)&#160;An&#160;event&#160;block&#160;va&#160;is&#160;self-ancestor&#160;of&#160;an&#160;event&#160;block&#160;vc&#160;if&#160;there&#160;is&#160;a&#160;sequence&#160;of&#160;events&#160;such&#160;that</p>
<p style="position:absolute;top:1029px;left:108px;white-space:nowrap" class="ft42">vc&#160;,→</p>
<p style="position:absolute;top:1026px;left:142px;white-space:nowrap" class="ft47">s&#160;v1&#160;,→s&#160;.&#160;.&#160;.&#160;,→s&#160;vm&#160;,→s&#160;va.&#160;Denoted&#160;by&#160;vc&#160;,→sa&#160;va.</p>
<p style="position:absolute;top:1053px;left:127px;white-space:nowrap" class="ft42">(Ancestor)&#160;An&#160;event&#160;block&#160;va&#160;is&#160;an&#160;ancestor&#160;of&#160;an&#160;event&#160;block&#160;vc&#160;if&#160;there&#160;is&#160;a&#160;sequence&#160;of&#160;events&#160;such&#160;that&#160;vc&#160;,→</p>
<p style="position:absolute;top:1070px;left:108px;white-space:nowrap" class="ft42">v1&#160;,→&#160;.&#160;.&#160;.&#160;,→&#160;vm&#160;,→&#160;va.&#160;Denoted&#160;by&#160;vc&#160;,→</p>
<p style="position:absolute;top:1067px;left:363px;white-space:nowrap" class="ft47">a&#160;va.</p>
<p style="position:absolute;top:1115px;left:455px;white-space:nowrap" class="ft42">3</p>
</div>
<!-- Page 5 -->
<a name="5"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft58{font-size:8px;line-height:16px;font-family:Times;color:#000000;}
	.ft59{font-size:8px;line-height:9px;font-family:Times;color:#000000;}
-->
</style>
<div id="page5-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft52">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft52">For&#160;simplicity,&#160;we&#160;simply&#160;use&#160;vc&#160;,→</p>
<p style="position:absolute;top:110px;left:336px;white-space:nowrap" class="ft57">a&#160;vs&#160;to&#160;refer&#160;both&#160;ancestor&#160;and&#160;self-ancestor&#160;relationship,&#160;unless&#160;we&#160;need&#160;to</p>
<p style="position:absolute;top:129px;left:108px;white-space:nowrap" class="ft52">distinguish&#160;the&#160;two&#160;cases.</p>
<p style="position:absolute;top:154px;left:127px;white-space:nowrap" class="ft52">(Flag&#160;Table)&#160;The&#160;flag&#160;table&#160;is&#160;a&#160;n&#160;×&#160;k&#160;matrix,&#160;where&#160;n&#160;is&#160;the&#160;number&#160;of&#160;nodes&#160;and&#160;k&#160;is&#160;the&#160;number&#160;of&#160;roots&#160;that&#160;an</p>
<p style="position:absolute;top:170px;left:108px;white-space:nowrap" class="ft55">event&#160;block&#160;can&#160;reach.&#160;If&#160;an&#160;event&#160;block&#160;e&#160;created&#160;by&#160;i-th&#160;node&#160;can&#160;reach&#160;j-th&#160;root,&#160;then&#160;the&#160;flag&#160;table&#160;stores&#160;the&#160;hash<br/>value&#160;of&#160;the&#160;j-th&#160;root.</p>
<p style="position:absolute;top:224px;left:108px;white-space:nowrap" class="ft52">2.2</p>
<p style="position:absolute;top:224px;left:142px;white-space:nowrap" class="ft52">Lamport&#160;timestamps</p>
<p style="position:absolute;top:254px;left:108px;white-space:nowrap" class="ft55">Our&#160;Lachesis&#160;protocols&#160;relies&#160;on&#160;Lamport&#160;timestamps&#160;to&#160;define&#160;a&#160;topological&#160;ordering&#160;of&#160;event&#160;blocks&#160;in&#160;OPERA<br/>chain.&#160;By&#160;using&#160;Lamport&#160;timestamps,&#160;we&#160;do&#160;not&#160;rely&#160;on&#160;physical&#160;clocks&#160;to&#160;determine&#160;a&#160;partial&#160;ordering&#160;of&#160;events.</p>
<p style="position:absolute;top:295px;left:108px;white-space:nowrap" class="ft55">The&#160;“happened&#160;before”&#160;relation,&#160;denoted&#160;by&#160;→,&#160;gives&#160;a&#160;partial&#160;ordering&#160;of&#160;events&#160;from&#160;a&#160;distributed&#160;system&#160;of&#160;nodes.<br/>Each&#160;node&#160;ni&#160;(also&#160;called&#160;a&#160;process)&#160;is&#160;identified&#160;by&#160;its&#160;process&#160;identifier&#160;i.&#160;For&#160;a&#160;pair&#160;of&#160;event&#160;blocks&#160;v&#160;and&#160;v</p>
<p style="position:absolute;top:308px;left:779px;white-space:nowrap" class="ft57">0,&#160;the</p>
<p style="position:absolute;top:328px;left:108px;white-space:nowrap" class="ft52">relation&#160;”→”&#160;satisfies:&#160;(1)&#160;If&#160;v&#160;and&#160;v0&#160;are&#160;events&#160;of&#160;process&#160;Pi,&#160;and&#160;v&#160;comes&#160;before&#160;v</p>
<p style="position:absolute;top:325px;left:628px;white-space:nowrap" class="ft57">0,&#160;then&#160;b&#160;→&#160;v0.&#160;(2)&#160;If&#160;v&#160;is&#160;the</p>
<p style="position:absolute;top:344px;left:108px;white-space:nowrap" class="ft55">send(m)&#160;by&#160;one&#160;process&#160;and&#160;v0&#160;is&#160;the&#160;receive(m)&#160;by&#160;another&#160;process,&#160;then&#160;v&#160;→&#160;v0.&#160;(3)&#160;If&#160;v&#160;→&#160;v0&#160;and&#160;v0&#160;→&#160;v00&#160;then<br/>v&#160;→&#160;v00.&#160;Two&#160;distinct&#160;events&#160;v&#160;and&#160;v0&#160;are&#160;said&#160;to&#160;be&#160;concurrent&#160;if&#160;v&#160;9&#160;v</p>
<p style="position:absolute;top:357px;left:537px;white-space:nowrap" class="ft57">0&#160;and&#160;v0&#160;9&#160;v.</p>
<p style="position:absolute;top:385px;left:108px;white-space:nowrap" class="ft55">For&#160;an&#160;arbitrary&#160;total&#160;ordering&#160;≺&#160;of&#160;the&#160;processes,&#160;a&#160;relation&#160;⇒&#160;is&#160;defined&#160;as&#160;follows:&#160;if&#160;v&#160;is&#160;an&#160;event&#160;in&#160;process&#160;Pi&#160;and<br/>v0&#160;is&#160;an&#160;event&#160;in&#160;process&#160;Pj,&#160;then&#160;v&#160;⇒&#160;v</p>
<p style="position:absolute;top:398px;left:349px;white-space:nowrap" class="ft57">0&#160;if&#160;and&#160;only&#160;if&#160;either&#160;(i)&#160;C</p>
<p style="position:absolute;top:407px;left:505px;white-space:nowrap" class="ft57">i(v)&#160;&lt;&#160;Cj&#160;(v</p>
<p style="position:absolute;top:398px;left:581px;white-space:nowrap" class="ft57">0)&#160;or&#160;(ii)&#160;C(v)&#160;=&#160;C</p>
<p style="position:absolute;top:407px;left:696px;white-space:nowrap" class="ft57">j&#160;(v</p>
<p style="position:absolute;top:398px;left:716px;white-space:nowrap" class="ft57">0)&#160;and&#160;P</p>
<p style="position:absolute;top:407px;left:765px;white-space:nowrap" class="ft57">i&#160;≺&#160;Pj&#160;.</p>
<p style="position:absolute;top:418px;left:108px;white-space:nowrap" class="ft52">This&#160;defines&#160;a&#160;total&#160;ordering,&#160;and&#160;that&#160;the&#160;Clock&#160;Condition&#160;implies&#160;that&#160;if&#160;v&#160;→&#160;v0&#160;then&#160;v&#160;⇒&#160;v0.</p>
<p style="position:absolute;top:443px;left:108px;white-space:nowrap" class="ft55">We&#160;use&#160;this&#160;total&#160;ordering&#160;in&#160;our&#160;Lachesis&#160;protocol.&#160;This&#160;ordering&#160;is&#160;used&#160;to&#160;determine&#160;consensus&#160;time,&#160;as&#160;described&#160;in<br/>Section&#160;3.</p>
<p style="position:absolute;top:483px;left:127px;white-space:nowrap" class="ft52">(Happened-Immediate-Before)&#160;An&#160;event&#160;block&#160;vx&#160;is&#160;said&#160;Happened-Immediate-Before&#160;an&#160;event&#160;block&#160;vy&#160;if&#160;vx&#160;is</p>
<p style="position:absolute;top:500px;left:108px;white-space:nowrap" class="ft52">a&#160;(self-)&#160;ref&#160;of&#160;vy.&#160;Denoted&#160;by&#160;vx&#160;7→&#160;vy.</p>
<p style="position:absolute;top:524px;left:127px;white-space:nowrap" class="ft52">(Happened-before)&#160;An&#160;event&#160;block&#160;vx&#160;is&#160;said&#160;Happened-Before&#160;an&#160;event&#160;block&#160;vy&#160;if&#160;vx&#160;is&#160;a&#160;(self-)&#160;ancestor&#160;of&#160;vy.</p>
<p style="position:absolute;top:541px;left:108px;white-space:nowrap" class="ft52">Denoted&#160;by&#160;vx&#160;→&#160;vy.</p>
<p style="position:absolute;top:565px;left:108px;white-space:nowrap" class="ft58">Happened-before&#160;is&#160;the&#160;relationship&#160;between&#160;nodes&#160;which&#160;have&#160;event&#160;blocks.&#160;If&#160;there&#160;is&#160;a&#160;path&#160;from&#160;an&#160;event&#160;block&#160;vx<br/>to&#160;vy,&#160;then&#160;vx&#160;Happened-before&#160;vy.&#160;“vx&#160;Happened-before&#160;vy”&#160;means&#160;that&#160;the&#160;node&#160;creating&#160;vy&#160;knows&#160;event&#160;block&#160;vx.<br/>This&#160;relation&#160;is&#160;the&#160;transitive&#160;closure&#160;of&#160;happens-immediately-before.&#160;Thus,&#160;an&#160;event&#160;vx&#160;happened&#160;before&#160;an&#160;event&#160;vy<br/>if&#160;one&#160;of&#160;the&#160;followings&#160;happens:&#160;(a)&#160;vy&#160;,→</p>
<p style="position:absolute;top:612px;left:373px;white-space:nowrap" class="ft57">s&#160;vx,&#160;(b)&#160;vy&#160;,→r&#160;vx,&#160;or&#160;(c)&#160;vy&#160;,→a&#160;vx.&#160;The&#160;happened-before&#160;relation&#160;of</p>
<p style="position:absolute;top:631px;left:108px;white-space:nowrap" class="ft52">events&#160;form&#160;an&#160;acyclic&#160;directed&#160;graph&#160;G0&#160;=&#160;(V,&#160;E0)&#160;such&#160;that&#160;an&#160;edge&#160;(vi,&#160;vj)&#160;∈&#160;E</p>
<p style="position:absolute;top:628px;left:598px;white-space:nowrap" class="ft57">0&#160;has&#160;a&#160;reverse&#160;direction&#160;of&#160;the&#160;same</p>
<p style="position:absolute;top:647px;left:108px;white-space:nowrap" class="ft52">edge&#160;in&#160;E.</p>
<p style="position:absolute;top:672px;left:126px;white-space:nowrap" class="ft52">(Concurrent)&#160;Two&#160;event&#160;blocks&#160;vx&#160;and&#160;vy&#160;are&#160;said&#160;concurrent&#160;if&#160;neither&#160;of&#160;them&#160;happened&#160;before&#160;the&#160;other.&#160;Denoted</p>
<p style="position:absolute;top:688px;left:108px;white-space:nowrap" class="ft52">by&#160;vx&#160;k&#160;vy.</p>
<p style="position:absolute;top:713px;left:108px;white-space:nowrap" class="ft55">Given&#160;two&#160;vertices&#160;vx&#160;and&#160;vy&#160;both&#160;contained&#160;in&#160;two&#160;OPERA&#160;chains&#160;(DAGs)&#160;G1&#160;and&#160;G2&#160;on&#160;two&#160;nodes.&#160;We&#160;have&#160;the<br/>following:</p>
<p style="position:absolute;top:760px;left:108px;white-space:nowrap" class="ft52">(1)&#160;vx&#160;→&#160;vy&#160;in&#160;G1&#160;if&#160;vx&#160;→&#160;vy&#160;in&#160;G2.</p>
<p style="position:absolute;top:784px;left:108px;white-space:nowrap" class="ft52">(2)&#160;vx&#160;k&#160;vy&#160;in&#160;G1&#160;if&#160;vx&#160;k&#160;vy&#160;in&#160;G2.</p>
<p style="position:absolute;top:821px;left:108px;white-space:nowrap" class="ft52">2.3</p>
<p style="position:absolute;top:821px;left:142px;white-space:nowrap" class="ft52">State&#160;Definitions</p>
<p style="position:absolute;top:852px;left:108px;white-space:nowrap" class="ft55">Each&#160;node&#160;has&#160;a&#160;local&#160;state,&#160;a&#160;collection&#160;of&#160;histories,&#160;messages,&#160;event&#160;blocks,&#160;and&#160;peer&#160;information,&#160;we&#160;describe&#160;the<br/>components&#160;of&#160;each.</p>
<p style="position:absolute;top:892px;left:127px;white-space:nowrap" class="ft52">(State)&#160;A&#160;state&#160;of&#160;a&#160;process&#160;i&#160;is&#160;denoted&#160;by&#160;si</p>
<p style="position:absolute;top:899px;left:391px;white-space:nowrap" class="ft57">j&#160;.</p>
<p style="position:absolute;top:920px;left:127px;white-space:nowrap" class="ft52">(Local&#160;State)&#160;A&#160;local&#160;state&#160;consists&#160;of&#160;a&#160;sequence&#160;of&#160;event&#160;blocks&#160;si</p>
<p style="position:absolute;top:927px;left:526px;white-space:nowrap" class="ft57">j&#160;=&#160;v</p>
<p style="position:absolute;top:918px;left:560px;white-space:nowrap" class="ft57">i</p>
<p style="position:absolute;top:927px;left:559px;white-space:nowrap" class="ft57">0,&#160;v</p>
<p style="position:absolute;top:918px;left:580px;white-space:nowrap" class="ft57">i</p>
<p style="position:absolute;top:927px;left:580px;white-space:nowrap" class="ft57">1,&#160;.&#160;.&#160;.&#160;,&#160;v</p>
<p style="position:absolute;top:918px;left:627px;white-space:nowrap" class="ft57">i</p>
<p style="position:absolute;top:927px;left:627px;white-space:nowrap" class="ft57">j&#160;.</p>
<p style="position:absolute;top:948px;left:108px;white-space:nowrap" class="ft52">In&#160;a&#160;DAG-based&#160;protocol,&#160;each&#160;vi</p>
<p style="position:absolute;top:955px;left:307px;white-space:nowrap" class="ft57">j&#160;event&#160;block&#160;is&#160;valid&#160;only&#160;if&#160;the&#160;reference&#160;blocks&#160;exist&#160;before&#160;it.&#160;From&#160;a&#160;local&#160;state</p>
<p style="position:absolute;top:968px;left:108px;white-space:nowrap" class="ft52">si</p>
<p style="position:absolute;top:975px;left:115px;white-space:nowrap" class="ft57">j&#160;,&#160;one&#160;can&#160;reconstruct&#160;a&#160;unique&#160;DAG.&#160;That&#160;is,&#160;the&#160;mapping&#160;from&#160;a&#160;local&#160;state&#160;s</p>
<p style="position:absolute;top:966px;left:578px;white-space:nowrap" class="ft59">i<br/>j&#160;into&#160;a&#160;DAG&#160;is&#160;injective&#160;or&#160;one-to-one.</p>
<p style="position:absolute;top:988px;left:108px;white-space:nowrap" class="ft52">Thus,&#160;for&#160;Fantom,&#160;we&#160;can&#160;simply&#160;denote&#160;the&#160;j-th&#160;local&#160;state&#160;of&#160;a&#160;process&#160;i&#160;by&#160;the&#160;DAG&#160;gi</p>
<p style="position:absolute;top:995px;left:638px;white-space:nowrap" class="ft57">j&#160;(often&#160;we&#160;simply&#160;use&#160;Gi&#160;to</p>
<p style="position:absolute;top:1004px;left:108px;white-space:nowrap" class="ft52">denote&#160;the&#160;current&#160;local&#160;state&#160;of&#160;a&#160;process&#160;i).</p>
<p style="position:absolute;top:1029px;left:127px;white-space:nowrap" class="ft52">(Action)&#160;An&#160;action&#160;is&#160;a&#160;function&#160;from&#160;one&#160;local&#160;state&#160;to&#160;another&#160;local&#160;state.</p>
<p style="position:absolute;top:1054px;left:108px;white-space:nowrap" class="ft55">Generally&#160;speaking,&#160;an&#160;action&#160;can&#160;be&#160;one&#160;of:&#160;a&#160;send(m)&#160;action&#160;where&#160;m&#160;is&#160;a&#160;message,&#160;a&#160;receive(m)&#160;action,&#160;and&#160;an<br/>internal&#160;action.&#160;A&#160;message&#160;m&#160;is&#160;a&#160;triple&#160;hi,&#160;j,&#160;Bi&#160;where&#160;i&#160;∈&#160;P&#160;is&#160;the&#160;sender&#160;of&#160;the&#160;message,&#160;j&#160;∈&#160;P&#160;is&#160;the&#160;message</p>
<p style="position:absolute;top:1115px;left:455px;white-space:nowrap" class="ft52">4</p>
</div>
<!-- Page 6 -->
<a name="6"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft610{font-size:12px;line-height:15px;font-family:Times;color:#000000;}
-->
</style>
<div id="page6-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft62">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft65">recipient,&#160;and&#160;B&#160;is&#160;the&#160;body&#160;of&#160;the&#160;message.&#160;Let&#160;M&#160;denote&#160;the&#160;set&#160;of&#160;messages.&#160;In&#160;the&#160;Lachesis&#160;protocol,&#160;B&#160;consists<br/>of&#160;the&#160;content&#160;of&#160;an&#160;event&#160;block&#160;v.</p>
<p style="position:absolute;top:170px;left:108px;white-space:nowrap" class="ft65">Semantics-wise,&#160;in&#160;Lachesis,&#160;there&#160;are&#160;two&#160;actions&#160;that&#160;can&#160;change&#160;a&#160;process’s&#160;local&#160;state:&#160;creating&#160;a&#160;new&#160;event&#160;and<br/>receiving&#160;an&#160;event&#160;from&#160;another&#160;process.</p>
<p style="position:absolute;top:227px;left:128px;white-space:nowrap" class="ft62">(Event)&#160;An&#160;event&#160;is&#160;a&#160;tuple&#160;hs,&#160;α,&#160;s0i&#160;consisting&#160;of&#160;a&#160;state,&#160;an&#160;action,&#160;and&#160;a&#160;state.&#160;Sometimes,&#160;the&#160;event&#160;can&#160;be</p>
<p style="position:absolute;top:244px;left:108px;white-space:nowrap" class="ft62">represented&#160;by&#160;the&#160;end&#160;state&#160;s0.</p>
<p style="position:absolute;top:268px;left:108px;white-space:nowrap" class="ft62">The&#160;j-th&#160;event&#160;in&#160;history&#160;hi&#160;of&#160;process&#160;i&#160;is&#160;hs</p>
<p style="position:absolute;top:266px;left:376px;white-space:nowrap" class="ft69">i<br/>j−1,&#160;α,&#160;s</p>
<p style="position:absolute;top:266px;left:427px;white-space:nowrap" class="ft69">i<br/>j&#160;i,&#160;denoted&#160;by&#160;v</p>
<p style="position:absolute;top:266px;left:524px;white-space:nowrap" class="ft67">i</p>
<p style="position:absolute;top:275px;left:524px;white-space:nowrap" class="ft67">j&#160;.</p>
<p style="position:absolute;top:293px;left:127px;white-space:nowrap" class="ft62">(Local&#160;history)&#160;A&#160;local&#160;history&#160;hi&#160;of&#160;process&#160;i&#160;is&#160;a&#160;(possibly&#160;infinite)&#160;sequence&#160;of&#160;alternating&#160;local&#160;states&#160;—&#160;begin-</p>
<p style="position:absolute;top:309px;left:108px;white-space:nowrap" class="ft62">ning&#160;with&#160;a&#160;distinguished&#160;initial&#160;state.&#160;A&#160;set&#160;Hi&#160;of&#160;possible&#160;local&#160;histories&#160;for&#160;each&#160;process&#160;i&#160;in&#160;P&#160;.</p>
<p style="position:absolute;top:334px;left:108px;white-space:nowrap" class="ft65">The&#160;state&#160;of&#160;a&#160;process&#160;can&#160;be&#160;obtained&#160;from&#160;its&#160;initial&#160;state&#160;and&#160;the&#160;sequence&#160;of&#160;actions&#160;or&#160;events&#160;that&#160;have&#160;occurred&#160;up<br/>to&#160;the&#160;current&#160;state.&#160;In&#160;the&#160;Lachesis&#160;protocol,&#160;we&#160;use&#160;append-only&#160;semantics.&#160;The&#160;local&#160;history&#160;may&#160;be&#160;equivalently<br/>described&#160;as&#160;either&#160;of&#160;the&#160;following:</p>
<p style="position:absolute;top:385px;left:390px;white-space:nowrap" class="ft62">hi&#160;=&#160;s</p>
<p style="position:absolute;top:382px;left:430px;white-space:nowrap" class="ft69">i<br/>0,&#160;α</p>
<p style="position:absolute;top:382px;left:453px;white-space:nowrap" class="ft69">i<br/>1,&#160;α</p>
<p style="position:absolute;top:382px;left:476px;white-space:nowrap" class="ft69">i<br/>2,&#160;α</p>
<p style="position:absolute;top:382px;left:499px;white-space:nowrap" class="ft69">i<br/>3&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:413px;left:393px;white-space:nowrap" class="ft62">hi&#160;=&#160;s</p>
<p style="position:absolute;top:410px;left:434px;white-space:nowrap" class="ft69">i<br/>0,&#160;v</p>
<p style="position:absolute;top:410px;left:455px;white-space:nowrap" class="ft67">i</p>
<p style="position:absolute;top:420px;left:454px;white-space:nowrap" class="ft67">1,&#160;v</p>
<p style="position:absolute;top:410px;left:476px;white-space:nowrap" class="ft67">i</p>
<p style="position:absolute;top:420px;left:475px;white-space:nowrap" class="ft67">2,&#160;v</p>
<p style="position:absolute;top:410px;left:496px;white-space:nowrap" class="ft67">i</p>
<p style="position:absolute;top:420px;left:496px;white-space:nowrap" class="ft67">3&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:441px;left:392px;white-space:nowrap" class="ft62">hi&#160;=&#160;s</p>
<p style="position:absolute;top:438px;left:432px;white-space:nowrap" class="ft69">i<br/>0,&#160;s</p>
<p style="position:absolute;top:438px;left:452px;white-space:nowrap" class="ft69">i<br/>1,&#160;s</p>
<p style="position:absolute;top:438px;left:473px;white-space:nowrap" class="ft69">i<br/>2,&#160;s</p>
<p style="position:absolute;top:438px;left:493px;white-space:nowrap" class="ft69">i<br/>3,&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:474px;left:108px;white-space:nowrap" class="ft62">In&#160;Lachesis,&#160;a&#160;local&#160;history&#160;is&#160;equivalently&#160;expressed&#160;as:</p>
<p style="position:absolute;top:502px;left:391px;white-space:nowrap" class="ft62">hi&#160;=&#160;g</p>
<p style="position:absolute;top:498px;left:433px;white-space:nowrap" class="ft67">i</p>
<p style="position:absolute;top:508px;left:432px;white-space:nowrap" class="ft67">0,&#160;g</p>
<p style="position:absolute;top:498px;left:453px;white-space:nowrap" class="ft67">i</p>
<p style="position:absolute;top:508px;left:452px;white-space:nowrap" class="ft67">1,&#160;g</p>
<p style="position:absolute;top:498px;left:473px;white-space:nowrap" class="ft67">i</p>
<p style="position:absolute;top:508px;left:473px;white-space:nowrap" class="ft67">2,&#160;g</p>
<p style="position:absolute;top:498px;left:494px;white-space:nowrap" class="ft67">i</p>
<p style="position:absolute;top:508px;left:493px;white-space:nowrap" class="ft67">3,&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:530px;left:108px;white-space:nowrap" class="ft62">where&#160;gi</p>
<p style="position:absolute;top:537px;left:155px;white-space:nowrap" class="ft67">j&#160;is&#160;the&#160;j-th&#160;local&#160;DAG&#160;(local&#160;state)&#160;of&#160;the&#160;process&#160;i.</p>
<p style="position:absolute;top:557px;left:127px;white-space:nowrap" class="ft62">(Run)&#160;Each&#160;asynchronous&#160;run&#160;is&#160;a&#160;vector&#160;of&#160;local&#160;histories.&#160;Denoted&#160;by&#160;σ&#160;=&#160;hh1,&#160;h2,&#160;h3,&#160;...hN&#160;i.</p>
<p style="position:absolute;top:581px;left:108px;white-space:nowrap" class="ft65">Let&#160;Σ&#160;denote&#160;the&#160;set&#160;of&#160;asynchronous&#160;runs.&#160;We&#160;can&#160;now&#160;use&#160;Lamport’s&#160;theory&#160;to&#160;talk&#160;about&#160;global&#160;states&#160;of&#160;an<br/>asynchronous&#160;system.&#160;A&#160;global&#160;state&#160;of&#160;run&#160;σ&#160;is&#160;an&#160;n-vector&#160;of&#160;prefixes&#160;of&#160;local&#160;histories&#160;of&#160;σ,&#160;one&#160;prefix&#160;per&#160;process.<br/>The&#160;happens-before&#160;relation&#160;can&#160;be&#160;used&#160;to&#160;define&#160;a&#160;consistent&#160;global&#160;state,&#160;often&#160;termed&#160;a&#160;consistent&#160;cut,&#160;as&#160;follows.</p>
<p style="position:absolute;top:651px;left:108px;white-space:nowrap" class="ft62">2.4</p>
<p style="position:absolute;top:651px;left:142px;white-space:nowrap" class="ft62">Consistent&#160;Cut</p>
<p style="position:absolute;top:682px;left:108px;white-space:nowrap" class="ft65">Consistent&#160;cuts&#160;represent&#160;the&#160;concept&#160;of&#160;scalar&#160;time&#160;in&#160;distributed&#160;computation,&#160;it&#160;is&#160;possible&#160;to&#160;distinguish&#160;between&#160;a<br/>“before”&#160;and&#160;an&#160;“after”.</p>
<p style="position:absolute;top:723px;left:108px;white-space:nowrap" class="ft65">In&#160;the&#160;Lachesis&#160;protocol,&#160;an&#160;OPERA&#160;chain&#160;G&#160;=&#160;(V,&#160;E)&#160;is&#160;a&#160;directed&#160;acyclic&#160;graph&#160;(DAG).&#160;V&#160;is&#160;a&#160;set&#160;of&#160;vertices&#160;and&#160;E<br/>is&#160;a&#160;set&#160;of&#160;edges.&#160;DAG&#160;is&#160;a&#160;directed&#160;graph&#160;with&#160;no&#160;cycle.&#160;There&#160;is&#160;no&#160;path&#160;that&#160;has&#160;source&#160;and&#160;destination&#160;at&#160;the&#160;same<br/>vertex.&#160;A&#160;path&#160;is&#160;a&#160;sequence&#160;of&#160;vertices&#160;(v1,&#160;v2,&#160;...,&#160;vk−1,&#160;vk)&#160;that&#160;uses&#160;no&#160;edge&#160;more&#160;than&#160;once.</p>
<p style="position:absolute;top:780px;left:108px;white-space:nowrap" class="ft65">An&#160;asynchronous&#160;system&#160;consists&#160;of&#160;the&#160;following&#160;sets:&#160;a&#160;set&#160;P&#160;of&#160;process&#160;identifiers;&#160;a&#160;set&#160;C&#160;of&#160;channels;&#160;a&#160;set&#160;Hi&#160;is<br/>the&#160;set&#160;of&#160;possible&#160;local&#160;histories&#160;for&#160;each&#160;process&#160;i;&#160;a&#160;set&#160;A&#160;of&#160;asynchronous&#160;runs;&#160;a&#160;set&#160;M&#160;of&#160;all&#160;messages.</p>
<p style="position:absolute;top:821px;left:108px;white-space:nowrap" class="ft65">Each&#160;process&#160;/&#160;node&#160;in&#160;Lachesis&#160;selects&#160;k&#160;other&#160;nodes&#160;as&#160;peers.&#160;For&#160;certain&#160;gossip&#160;protocol,&#160;nodes&#160;may&#160;be&#160;constrained<br/>to&#160;gossip&#160;with&#160;its&#160;k&#160;peers.&#160;In&#160;such&#160;a&#160;case,&#160;the&#160;set&#160;of&#160;channels&#160;C&#160;can&#160;be&#160;modelled&#160;as&#160;follows.&#160;If&#160;node&#160;i&#160;selects&#160;node&#160;j&#160;as<br/>a&#160;peer,&#160;then&#160;(i,&#160;j)&#160;∈&#160;C.&#160;In&#160;general,&#160;one&#160;can&#160;express&#160;the&#160;history&#160;of&#160;each&#160;node&#160;in&#160;DAG-based&#160;protocol&#160;in&#160;general&#160;or&#160;in<br/>Lachesis&#160;protocol&#160;in&#160;particular,&#160;in&#160;the&#160;same&#160;manner&#160;as&#160;in&#160;the&#160;CCK&#160;paper&#160;[9].</p>
<p style="position:absolute;top:895px;left:127px;white-space:nowrap" class="ft62">(Consistent&#160;cut)&#160;A&#160;consistent&#160;cut&#160;of&#160;a&#160;run&#160;σ&#160;is&#160;any&#160;global&#160;state&#160;such&#160;that&#160;if&#160;vix&#160;→&#160;v</p>
<p style="position:absolute;top:892px;left:629px;white-space:nowrap" class="ft67">j</p>
<p style="position:absolute;top:901px;left:629px;white-space:nowrap" class="ft67">y&#160;and&#160;v</p>
<p style="position:absolute;top:892px;left:674px;white-space:nowrap" class="ft67">j</p>
<p style="position:absolute;top:901px;left:673px;white-space:nowrap" class="ft67">y&#160;is&#160;in&#160;the&#160;global&#160;state,</p>
<p style="position:absolute;top:914px;left:108px;white-space:nowrap" class="ft62">then&#160;vix&#160;is&#160;also&#160;in&#160;the&#160;global&#160;state.&#160;Denoted&#160;by&#160;c(σ).</p>
<p style="position:absolute;top:939px;left:108px;white-space:nowrap" class="ft65">The&#160;concept&#160;of&#160;consistent&#160;cut&#160;formalizes&#160;such&#160;a&#160;global&#160;state&#160;of&#160;a&#160;run.&#160;A&#160;consistent&#160;cut&#160;consists&#160;of&#160;all&#160;consistent&#160;DAG<br/>chains.&#160;A&#160;received&#160;event&#160;block&#160;exists&#160;in&#160;the&#160;global&#160;state&#160;implies&#160;the&#160;existence&#160;of&#160;the&#160;original&#160;event&#160;block.&#160;Note&#160;that&#160;a<br/>consistent&#160;cut&#160;is&#160;simply&#160;a&#160;vector&#160;of&#160;local&#160;states;&#160;we&#160;will&#160;use&#160;the&#160;notation&#160;c(σ)[i]&#160;to&#160;indicate&#160;the&#160;local&#160;state&#160;of&#160;i&#160;in&#160;cut&#160;c<br/>of&#160;run&#160;σ.</p>
<p style="position:absolute;top:1013px;left:108px;white-space:nowrap" class="ft610">A&#160;message&#160;chain&#160;of&#160;an&#160;asynchronous&#160;run&#160;is&#160;a&#160;sequence&#160;of&#160;messages&#160;m1,&#160;m2,&#160;m3,&#160;.&#160;.&#160;.&#160;,&#160;such&#160;that,&#160;for&#160;all&#160;i,&#160;receive(mi)<br/>→&#160;send(mi+1).&#160;Consequently,&#160;send(m1)&#160;→&#160;receive(m1)&#160;→&#160;send(m2)&#160;→&#160;receive(m2)&#160;→&#160;send(m3)&#160;.&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:1054px;left:108px;white-space:nowrap" class="ft65">The&#160;formal&#160;semantics&#160;of&#160;an&#160;asynchronous&#160;system&#160;is&#160;given&#160;via&#160;the&#160;satisfaction&#160;relation&#160;`.&#160;Intuitively&#160;c(σ)&#160;`&#160;φ,&#160;“c(σ)<br/>satisfies&#160;φ,”&#160;if&#160;fact&#160;φ&#160;is&#160;true&#160;in&#160;cut&#160;c&#160;of&#160;run&#160;σ.</p>
<p style="position:absolute;top:1115px;left:455px;white-space:nowrap" class="ft62">5</p>
</div>
<!-- Page 7 -->
<a name="7"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page7-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft72">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft75">We&#160;assume&#160;that&#160;we&#160;are&#160;given&#160;a&#160;function&#160;π&#160;that&#160;assigns&#160;a&#160;truth&#160;value&#160;to&#160;each&#160;primitive&#160;proposition&#160;p.&#160;The&#160;truth&#160;of&#160;a<br/>primitive&#160;proposition&#160;p&#160;in&#160;c(σ)&#160;is&#160;determined&#160;by&#160;π&#160;and&#160;c.&#160;This&#160;defines&#160;c(σ)&#160;`&#160;p.</p>
<p style="position:absolute;top:170px;left:127px;white-space:nowrap" class="ft72">(Equivalent&#160;cuts)&#160;Two&#160;cuts&#160;c(σ)&#160;and&#160;c0(σ0)&#160;are&#160;equivalent&#160;with&#160;respect&#160;to&#160;i&#160;if:</p>
<p style="position:absolute;top:198px;left:346px;white-space:nowrap" class="ft72">c(σ)&#160;∼i&#160;c</p>
<p style="position:absolute;top:195px;left:407px;white-space:nowrap" class="ft77">0(σ0)&#160;⇔&#160;c(σ)[i]&#160;=&#160;c0(σ0)[i]</p>
<p style="position:absolute;top:252px;left:127px;white-space:nowrap" class="ft72">(i&#160;knows&#160;φ)&#160;Ki(φ)&#160;represents&#160;the&#160;statement&#160;“φ&#160;is&#160;true&#160;in&#160;all&#160;possible&#160;consistent&#160;global&#160;states&#160;that&#160;include&#160;i’s&#160;local</p>
<p style="position:absolute;top:268px;left:108px;white-space:nowrap" class="ft72">state”.</p>
<p style="position:absolute;top:287px;left:285px;white-space:nowrap" class="ft72">c(σ)&#160;`&#160;Ki(φ)&#160;⇔&#160;∀c</p>
<p style="position:absolute;top:283px;left:408px;white-space:nowrap" class="ft77">0(σ0)(c0(σ0)&#160;∼</p>
<p style="position:absolute;top:292px;left:496px;white-space:nowrap" class="ft77">i&#160;c(σ)&#160;⇒&#160;c</p>
<p style="position:absolute;top:283px;left:572px;white-space:nowrap" class="ft77">0(σ0)&#160;`&#160;φ)</p>
<p style="position:absolute;top:336px;left:127px;white-space:nowrap" class="ft72">(i&#160;partially&#160;knows&#160;φ)&#160;Pi(φ)&#160;represents&#160;the&#160;statement&#160;“there&#160;is&#160;some&#160;consistent&#160;global&#160;state&#160;in&#160;this&#160;run&#160;that&#160;includes</p>
<p style="position:absolute;top:352px;left:108px;white-space:nowrap" class="ft72">i’s&#160;local&#160;state,&#160;in&#160;which&#160;φ&#160;is&#160;true.”</p>
<p style="position:absolute;top:381px;left:296px;white-space:nowrap" class="ft72">c(σ)&#160;`&#160;Pi(φ)&#160;⇔&#160;∃c</p>
<p style="position:absolute;top:377px;left:416px;white-space:nowrap" class="ft77">0(σ)(c0(σ)&#160;∼</p>
<p style="position:absolute;top:386px;left:495px;white-space:nowrap" class="ft77">i&#160;c(σ)&#160;∧&#160;c</p>
<p style="position:absolute;top:377px;left:565px;white-space:nowrap" class="ft77">0(σ)&#160;`&#160;φ)</p>
<p style="position:absolute;top:434px;left:128px;white-space:nowrap" class="ft72">(Majority&#160;concurrently&#160;knows)&#160;The&#160;next&#160;modal&#160;operator&#160;is&#160;written&#160;M&#160;C&#160;and&#160;stands&#160;for&#160;“majority&#160;concurrently</p>
<p style="position:absolute;top:451px;left:108px;white-space:nowrap" class="ft72">knows.”&#160;The&#160;definition&#160;of&#160;M&#160;C&#160;(φ)&#160;is&#160;as&#160;follows.</p>
<p style="position:absolute;top:494px;left:376px;white-space:nowrap" class="ft72">M</p>
<p style="position:absolute;top:491px;left:392px;white-space:nowrap" class="ft77">C&#160;(φ)&#160;=</p>
<p style="position:absolute;top:499px;left:439px;white-space:nowrap" class="ft77">def</p>
<p style="position:absolute;top:489px;left:464px;white-space:nowrap" class="ft72">^</p>
<p style="position:absolute;top:515px;left:462px;white-space:nowrap" class="ft77">i∈S</p>
<p style="position:absolute;top:494px;left:485px;white-space:nowrap" class="ft72">KiPi(φ),</p>
<p style="position:absolute;top:535px;left:108px;white-space:nowrap" class="ft72">where&#160;S&#160;⊆&#160;P&#160;and&#160;|S|&#160;&gt;&#160;2n/3.</p>
<p style="position:absolute;top:560px;left:108px;white-space:nowrap" class="ft75">This&#160;is&#160;adapted&#160;from&#160;the&#160;“everyone&#160;concurrently&#160;knows”&#160;in&#160;CCK&#160;paper&#160;[9].&#160;In&#160;the&#160;presence&#160;of&#160;one-third&#160;of&#160;faulty<br/>nodes,&#160;the&#160;original&#160;operator&#160;“everyone&#160;concurrently&#160;knows”&#160;is&#160;sometimes&#160;not&#160;feasible.&#160;Our&#160;modal&#160;operator&#160;M&#160;C&#160;(φ)<br/>fits&#160;precisely&#160;the&#160;semantics&#160;for&#160;BFT&#160;systems,&#160;in&#160;which&#160;unreliable&#160;processes&#160;may&#160;exist.</p>
<p style="position:absolute;top:633px;left:127px;white-space:nowrap" class="ft72">(Concurrent&#160;common&#160;knowledge)&#160;The&#160;last&#160;modal&#160;operator&#160;is&#160;concurrent&#160;common&#160;knowledge&#160;(CCK),&#160;denoted&#160;by</p>
<p style="position:absolute;top:650px;left:108px;white-space:nowrap" class="ft72">CC&#160;.&#160;CC&#160;(φ)&#160;is&#160;defined&#160;as&#160;a&#160;fixed&#160;point&#160;of&#160;M&#160;C&#160;(φ&#160;∧&#160;X).</p>
<p style="position:absolute;top:674px;left:108px;white-space:nowrap" class="ft75">CCK&#160;defines&#160;a&#160;state&#160;of&#160;process&#160;knowledge&#160;that&#160;implies&#160;that&#160;all&#160;processes&#160;are&#160;in&#160;that&#160;same&#160;state&#160;of&#160;knowledge,&#160;with<br/>respect&#160;to&#160;φ,&#160;along&#160;some&#160;cut&#160;of&#160;the&#160;run.&#160;In&#160;other&#160;words,&#160;we&#160;want&#160;a&#160;state&#160;of&#160;knowledge&#160;X&#160;satisfying:&#160;X&#160;=&#160;M&#160;C&#160;(φ&#160;∧&#160;X).<br/>CC&#160;will&#160;be&#160;defined&#160;semantically&#160;as&#160;the&#160;weakest&#160;such&#160;fixed&#160;point,&#160;namely&#160;as&#160;the&#160;greatest&#160;fixed-point&#160;of&#160;M&#160;C&#160;(φ&#160;∧&#160;X).It<br/>therefore&#160;satisfies:</p>
<p style="position:absolute;top:767px;left:373px;white-space:nowrap" class="ft72">C</p>
<p style="position:absolute;top:764px;left:385px;white-space:nowrap" class="ft77">C&#160;(φ)&#160;⇔&#160;MC(φ&#160;∧&#160;CC(φ))</p>
<p style="position:absolute;top:800px;left:108px;white-space:nowrap" class="ft75">Thus,&#160;Pi(φ)&#160;states&#160;that&#160;there&#160;is&#160;some&#160;cut&#160;in&#160;the&#160;same&#160;asynchronous&#160;run&#160;σ&#160;including&#160;i’s&#160;local&#160;state,&#160;such&#160;that&#160;φ&#160;is&#160;true<br/>in&#160;that&#160;cut.</p>
<p style="position:absolute;top:857px;left:108px;white-space:nowrap" class="ft72">Note&#160;that&#160;φ&#160;implies&#160;Pi(φ).&#160;But&#160;it&#160;is&#160;not&#160;the&#160;case,&#160;in&#160;general,&#160;that&#160;Pi(φ)&#160;implies&#160;φ&#160;or&#160;even&#160;that&#160;M</p>
<p style="position:absolute;top:855px;left:686px;white-space:nowrap" class="ft77">C&#160;(φ)&#160;implies&#160;φ.&#160;The</p>
<p style="position:absolute;top:874px;left:108px;white-space:nowrap" class="ft75">truth&#160;of&#160;M&#160;C&#160;(φ)&#160;is&#160;determined&#160;with&#160;respect&#160;to&#160;some&#160;cut&#160;c(σ).&#160;A&#160;process&#160;cannot&#160;distinguish&#160;which&#160;cut,&#160;of&#160;the&#160;perhaps<br/>many&#160;cuts&#160;that&#160;are&#160;in&#160;the&#160;run&#160;and&#160;consistent&#160;with&#160;its&#160;local&#160;state,&#160;satisfies&#160;φ;&#160;it&#160;can&#160;only&#160;know&#160;the&#160;existence&#160;of&#160;such&#160;a<br/>cut.</p>
<p style="position:absolute;top:947px;left:127px;white-space:nowrap" class="ft72">(Global&#160;fact)&#160;Fact&#160;φ&#160;is&#160;valid&#160;in&#160;system&#160;Σ,&#160;denoted&#160;by&#160;Σ&#160;`&#160;φ,&#160;if&#160;φ&#160;is&#160;true&#160;in&#160;all&#160;cuts&#160;of&#160;all&#160;runs&#160;of&#160;Σ.</p>
<p style="position:absolute;top:976px;left:353px;white-space:nowrap" class="ft72">Σ&#160;`&#160;φ&#160;⇔&#160;(∀σ&#160;∈&#160;Σ)(∀c)(c(a)&#160;`&#160;φ)</p>
<p style="position:absolute;top:1029px;left:108px;white-space:nowrap" class="ft72">Fact&#160;φ&#160;is&#160;valid,&#160;denoted&#160;`&#160;φ,&#160;if&#160;φ&#160;is&#160;valid&#160;in&#160;all&#160;systems,&#160;i.e.&#160;(∀Σ)(Σ&#160;`&#160;φ).</p>
<p style="position:absolute;top:1070px;left:127px;white-space:nowrap" class="ft72">(Local&#160;fact)&#160;A&#160;fact&#160;φ&#160;is&#160;local&#160;to&#160;process&#160;i&#160;in&#160;system&#160;Σ&#160;if&#160;Σ&#160;`&#160;(φ&#160;⇒&#160;Kiφ).</p>
<p style="position:absolute;top:1115px;left:455px;white-space:nowrap" class="ft72">6</p>
</div>
<!-- Page 8 -->
<a name="8"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page8-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft82">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft82">2.5</p>
<p style="position:absolute;top:113px;left:142px;white-space:nowrap" class="ft82">Dominator&#160;(graph&#160;theory)</p>
<p style="position:absolute;top:144px;left:108px;white-space:nowrap" class="ft85">In&#160;a&#160;graph&#160;G&#160;=&#160;(V,&#160;E,&#160;r)&#160;a&#160;dominator&#160;is&#160;the&#160;relation&#160;between&#160;two&#160;vertices.&#160;A&#160;vertex&#160;v&#160;is&#160;dominated&#160;by&#160;another&#160;vertex<br/>w,&#160;if&#160;every&#160;path&#160;in&#160;the&#160;graph&#160;from&#160;the&#160;root&#160;r&#160;to&#160;v&#160;have&#160;to&#160;go&#160;through&#160;w.&#160;Furthermore,&#160;the&#160;immediate&#160;dominator&#160;for&#160;a<br/>vertex&#160;v&#160;is&#160;the&#160;last&#160;of&#160;v’s&#160;dominators,&#160;which&#160;every&#160;path&#160;in&#160;the&#160;graph&#160;have&#160;to&#160;go&#160;through&#160;to&#160;reach&#160;v.</p>
<p style="position:absolute;top:202px;left:127px;white-space:nowrap" class="ft82">(Pseudo&#160;top)&#160;A&#160;pseudo&#160;vertex,&#160;called&#160;top,&#160;is&#160;the&#160;parent&#160;of&#160;all&#160;top&#160;event&#160;blocks.&#160;Denoted&#160;by&#160;&gt;.</p>
<p style="position:absolute;top:226px;left:127px;white-space:nowrap" class="ft82">(Pseudo&#160;bottom)&#160;A&#160;pseudo&#160;vertex,&#160;called&#160;bottom,&#160;is&#160;the&#160;child&#160;of&#160;all&#160;leaf&#160;event&#160;blocks.&#160;Denoted&#160;by&#160;⊥.</p>
<p style="position:absolute;top:251px;left:108px;white-space:nowrap" class="ft85">With&#160;the&#160;pseudo&#160;vertices,&#160;we&#160;have&#160;⊥&#160;happened-before&#160;all&#160;event&#160;blocks.&#160;Also&#160;all&#160;event&#160;blocks&#160;happened-before&#160;&gt;.&#160;That<br/>is,&#160;for&#160;all&#160;event&#160;vi,&#160;⊥&#160;→&#160;vi&#160;and&#160;vi&#160;→&#160;&gt;.</p>
<p style="position:absolute;top:292px;left:127px;white-space:nowrap" class="ft82">(Dom)&#160;An&#160;event&#160;vd&#160;dominates&#160;an&#160;event&#160;vx&#160;if&#160;every&#160;path&#160;from&#160;&gt;&#160;to&#160;vx&#160;must&#160;go&#160;through&#160;vd.&#160;Denoted&#160;by&#160;vd&#160;&#160;vx.</p>
<p style="position:absolute;top:316px;left:126px;white-space:nowrap" class="ft82">(Strict&#160;dom)&#160;An&#160;event&#160;vd&#160;strictly&#160;dominates&#160;an&#160;event&#160;vx&#160;if&#160;vd&#160;&#160;vx&#160;and&#160;vd&#160;does&#160;not&#160;equal&#160;vx.&#160;Denoted&#160;by&#160;vd&#160;</p>
<p style="position:absolute;top:314px;left:781px;white-space:nowrap" class="ft87">s&#160;vx.</p>
<p style="position:absolute;top:341px;left:126px;white-space:nowrap" class="ft82">(Domfront)&#160;A&#160;vertex&#160;vd&#160;is&#160;said&#160;“domfront”&#160;a&#160;vertex&#160;vx&#160;if&#160;vd&#160;dominates&#160;an&#160;immediate&#160;predecessor&#160;of&#160;vx,&#160;but&#160;vd&#160;does</p>
<p style="position:absolute;top:357px;left:108px;white-space:nowrap" class="ft82">not&#160;strictly&#160;dominate&#160;vx.&#160;Denoted&#160;by&#160;vd&#160;</p>
<p style="position:absolute;top:355px;left:365px;white-space:nowrap" class="ft87">f&#160;vx.</p>
<p style="position:absolute;top:382px;left:126px;white-space:nowrap" class="ft82">(Dominance&#160;frontier)&#160;The&#160;dominance&#160;frontier&#160;of&#160;a&#160;vertex&#160;vd&#160;is&#160;the&#160;set&#160;of&#160;all&#160;nodes&#160;vx&#160;such&#160;that&#160;vd&#160;</p>
<p style="position:absolute;top:379px;left:724px;white-space:nowrap" class="ft87">f&#160;vx.&#160;Denoted</p>
<p style="position:absolute;top:398px;left:108px;white-space:nowrap" class="ft82">by&#160;DF&#160;(vd).</p>
<p style="position:absolute;top:424px;left:108px;white-space:nowrap" class="ft82">From&#160;the&#160;above&#160;definitions&#160;of&#160;domfront&#160;and&#160;dominance&#160;frontier,&#160;the&#160;following&#160;holds.&#160;If&#160;vd&#160;</p>
<p style="position:absolute;top:422px;left:660px;white-space:nowrap" class="ft87">f&#160;vx,&#160;then&#160;vx&#160;∈&#160;DF&#160;(vd).</p>
<p style="position:absolute;top:465px;left:108px;white-space:nowrap" class="ft82">2.6</p>
<p style="position:absolute;top:465px;left:142px;white-space:nowrap" class="ft82">OPERA&#160;chain&#160;(DAG)</p>
<p style="position:absolute;top:497px;left:108px;white-space:nowrap" class="ft85">The&#160;core&#160;idea&#160;of&#160;the&#160;Lachesis&#160;protocol&#160;is&#160;to&#160;use&#160;a&#160;DAG-based&#160;structure,&#160;called&#160;the&#160;OPERA&#160;chain&#160;for&#160;our&#160;consensus<br/>algorithm.&#160;In&#160;the&#160;Lachesis&#160;protocol,&#160;a&#160;(participant)&#160;node&#160;is&#160;a&#160;server&#160;(machine)&#160;of&#160;the&#160;distributed&#160;system.&#160;Each&#160;node<br/>can&#160;create&#160;messages,&#160;send&#160;messages&#160;to,&#160;and&#160;receive&#160;messages&#160;from,&#160;other&#160;nodes.&#160;The&#160;communication&#160;between&#160;nodes<br/>is&#160;asynchronous.</p>
<p style="position:absolute;top:570px;left:108px;white-space:nowrap" class="ft85">Let&#160;n&#160;be&#160;the&#160;number&#160;of&#160;participant&#160;nodes.&#160;For&#160;consensus,&#160;the&#160;algorithm&#160;examines&#160;whether&#160;an&#160;event&#160;block&#160;is&#160;dominated<br/>by&#160;2n/3&#160;nodes,&#160;where&#160;n&#160;is&#160;the&#160;number&#160;of&#160;all&#160;nodes.&#160;The&#160;Happen-before&#160;relation&#160;of&#160;event&#160;blocks&#160;with&#160;2n/3&#160;nodes<br/>means&#160;that&#160;more&#160;than&#160;two-thirds&#160;of&#160;all&#160;nodes&#160;in&#160;the&#160;OPERA&#160;chain&#160;know&#160;the&#160;event&#160;block.</p>
<p style="position:absolute;top:628px;left:108px;white-space:nowrap" class="ft85">The&#160;OPERA&#160;chain&#160;(DAG)&#160;is&#160;the&#160;local&#160;view&#160;of&#160;the&#160;DAG&#160;held&#160;by&#160;each&#160;node,&#160;this&#160;local&#160;view&#160;is&#160;used&#160;to&#160;identify&#160;topological<br/>ordering,&#160;select&#160;Clotho,&#160;and&#160;create&#160;time&#160;consensus&#160;through&#160;Atropos&#160;selection.&#160;OPERA&#160;chain&#160;is&#160;a&#160;DAG&#160;graph&#160;G&#160;=<br/>(V,&#160;E)&#160;consisting&#160;of&#160;V&#160;vertices&#160;and&#160;E&#160;edges.&#160;Each&#160;vertex&#160;vi&#160;∈&#160;V&#160;is&#160;an&#160;event&#160;block.&#160;An&#160;edge&#160;(vi,&#160;vj)&#160;∈&#160;E&#160;refers&#160;to&#160;a<br/>hashing&#160;reference&#160;from&#160;vi&#160;to&#160;vj;&#160;that&#160;is,&#160;vi&#160;,→&#160;vj.</p>
<p style="position:absolute;top:701px;left:127px;white-space:nowrap" class="ft82">(Leaf)&#160;The&#160;first&#160;created&#160;event&#160;block&#160;of&#160;a&#160;node&#160;is&#160;called&#160;a&#160;leaf&#160;event&#160;block.</p>
<p style="position:absolute;top:726px;left:127px;white-space:nowrap" class="ft82">(Root)&#160;The&#160;leaf&#160;event&#160;block&#160;of&#160;a&#160;node&#160;is&#160;a&#160;root.&#160;When&#160;an&#160;event&#160;block&#160;v&#160;can&#160;reach&#160;more&#160;than&#160;2n/3&#160;of&#160;the&#160;roots&#160;in</p>
<p style="position:absolute;top:742px;left:108px;white-space:nowrap" class="ft82">the&#160;previous&#160;frames,&#160;v&#160;becomes&#160;a&#160;root.</p>
<p style="position:absolute;top:767px;left:126px;white-space:nowrap" class="ft82">(Root&#160;set)&#160;The&#160;set&#160;of&#160;all&#160;first&#160;event&#160;blocks&#160;(leaf&#160;events)&#160;of&#160;all&#160;nodes&#160;form&#160;the&#160;first&#160;root&#160;set&#160;R1&#160;(|R1|&#160;=&#160;n).&#160;The&#160;root&#160;set</p>
<p style="position:absolute;top:783px;left:108px;white-space:nowrap" class="ft85">Rk&#160;consists&#160;of&#160;all&#160;roots&#160;ri&#160;such&#160;that&#160;ri&#160;6∈&#160;Ri,&#160;∀&#160;i&#160;=&#160;1..(k-1)&#160;and&#160;ri&#160;can&#160;reach&#160;more&#160;than&#160;2n/3&#160;other&#160;roots&#160;in&#160;the&#160;current<br/>frame,&#160;i&#160;=&#160;1..(k-1).</p>
<p style="position:absolute;top:824px;left:127px;white-space:nowrap" class="ft82">(Frame)&#160;Frame&#160;fi&#160;is&#160;a&#160;natural&#160;number&#160;that&#160;separates&#160;Root&#160;sets.&#160;The&#160;root&#160;set&#160;at&#160;frame&#160;fi&#160;is&#160;denoted&#160;by&#160;Ri.</p>
<p style="position:absolute;top:849px;left:127px;white-space:nowrap" class="ft82">(Consistent&#160;chains)&#160;OPERA&#160;chains&#160;G1&#160;and&#160;G2&#160;are&#160;consistent&#160;if&#160;for&#160;any&#160;event&#160;v&#160;contained&#160;in&#160;both&#160;chains,&#160;G1[v]&#160;=</p>
<p style="position:absolute;top:865px;left:108px;white-space:nowrap" class="ft82">G2[v].&#160;Denoted&#160;by&#160;G1&#160;∼&#160;G2.</p>
<p style="position:absolute;top:890px;left:108px;white-space:nowrap" class="ft85">When&#160;two&#160;consistent&#160;chains&#160;contain&#160;the&#160;same&#160;event&#160;v,&#160;both&#160;chains&#160;contain&#160;the&#160;same&#160;set&#160;of&#160;ancestors&#160;for&#160;v,&#160;with&#160;the<br/>same&#160;reference&#160;and&#160;self-ref&#160;edges&#160;between&#160;those&#160;ancestors.</p>
<p style="position:absolute;top:931px;left:108px;white-space:nowrap" class="ft85">If&#160;two&#160;nodes&#160;have&#160;OPERA&#160;chains&#160;containing&#160;event&#160;v,&#160;then&#160;they&#160;have&#160;the&#160;same&#160;k&#160;hashes&#160;contained&#160;within&#160;v.&#160;A&#160;node<br/>will&#160;not&#160;accept&#160;an&#160;event&#160;during&#160;a&#160;sync&#160;unless&#160;that&#160;node&#160;already&#160;has&#160;k&#160;references&#160;for&#160;that&#160;event,&#160;so&#160;both&#160;OPERA&#160;chains<br/>must&#160;contain&#160;k&#160;references&#160;for&#160;v.&#160;The&#160;cryptographic&#160;hashes&#160;are&#160;assumed&#160;to&#160;be&#160;secure,&#160;therefore&#160;the&#160;references&#160;must&#160;be<br/>the&#160;same.&#160;By&#160;induction,&#160;all&#160;ancestors&#160;of&#160;v&#160;must&#160;be&#160;the&#160;same.&#160;Therefore,&#160;the&#160;two&#160;OPERA&#160;chains&#160;are&#160;consistent.</p>
<p style="position:absolute;top:1021px;left:127px;white-space:nowrap" class="ft82">(Creator)&#160;If&#160;a&#160;node&#160;nx&#160;creates&#160;an&#160;event&#160;block&#160;v,&#160;then&#160;the&#160;creator&#160;of&#160;v,&#160;denoted&#160;by&#160;cr(v),&#160;is&#160;nx.</p>
<p style="position:absolute;top:1045px;left:127px;white-space:nowrap" class="ft82">(Consistent&#160;chain)&#160;A&#160;global&#160;consistent&#160;chain&#160;GC&#160;is&#160;a&#160;chain&#160;if&#160;GC&#160;∼&#160;Gi&#160;for&#160;all&#160;Gi.</p>
<p style="position:absolute;top:1070px;left:108px;white-space:nowrap" class="ft82">We&#160;denote&#160;G&#160;v&#160;G0&#160;to&#160;stand&#160;for&#160;G&#160;is&#160;a&#160;subgraph&#160;of&#160;G0.&#160;Some&#160;properties&#160;of&#160;GC&#160;are&#160;given&#160;as&#160;follows:</p>
<p style="position:absolute;top:1115px;left:455px;white-space:nowrap" class="ft82">7</p>
</div>
<!-- Page 9 -->
<a name="9"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page9-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft92">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft92">(1)&#160;∀Gi&#160;(G</p>
<p style="position:absolute;top:110px;left:178px;white-space:nowrap" class="ft97">C&#160;v&#160;Gi).</p>
<p style="position:absolute;top:149px;left:108px;white-space:nowrap" class="ft92">(2)&#160;∀v&#160;∈&#160;GC&#160;∀Gi&#160;(G</p>
<p style="position:absolute;top:146px;left:238px;white-space:nowrap" class="ft97">C&#160;[v]&#160;v&#160;Gi[v]).</p>
<p style="position:absolute;top:184px;left:108px;white-space:nowrap" class="ft92">(3)&#160;(∀vc&#160;∈&#160;G</p>
<p style="position:absolute;top:182px;left:190px;white-space:nowrap" class="ft97">C&#160;)&#160;(∀vp&#160;∈&#160;Gi)&#160;((vp&#160;→&#160;vc)&#160;⇒&#160;vp&#160;∈&#160;GC).</p>
<p style="position:absolute;top:227px;left:127px;white-space:nowrap" class="ft92">(Consistent&#160;root)&#160;Two&#160;chains&#160;G1&#160;and&#160;G2&#160;are&#160;root&#160;consistent,&#160;if&#160;for&#160;every&#160;v&#160;contained&#160;in&#160;both&#160;chains,&#160;v&#160;is&#160;a&#160;root&#160;of</p>
<p style="position:absolute;top:243px;left:108px;white-space:nowrap" class="ft92">j-th&#160;frame&#160;in&#160;G1,&#160;then&#160;v&#160;is&#160;a&#160;root&#160;of&#160;j-th&#160;frame&#160;in&#160;G2.</p>
<p style="position:absolute;top:268px;left:108px;white-space:nowrap" class="ft95">By&#160;consistent&#160;chains,&#160;if&#160;G1&#160;∼&#160;G2&#160;and&#160;v&#160;belongs&#160;to&#160;both&#160;chains,&#160;then&#160;G1[v]&#160;=&#160;G2[v].&#160;We&#160;can&#160;prove&#160;the&#160;proposition<br/>by&#160;induction.&#160;For&#160;j&#160;=&#160;0,&#160;the&#160;first&#160;root&#160;set&#160;is&#160;the&#160;same&#160;in&#160;both&#160;G1&#160;and&#160;G2.&#160;Hence,&#160;it&#160;holds&#160;for&#160;j&#160;=&#160;0.&#160;Suppose&#160;that&#160;the<br/>proposition&#160;holds&#160;for&#160;every&#160;j&#160;from&#160;0&#160;to&#160;k.&#160;We&#160;prove&#160;that&#160;it&#160;also&#160;holds&#160;for&#160;j=&#160;k&#160;+&#160;1.&#160;Suppose&#160;that&#160;v&#160;is&#160;a&#160;root&#160;of&#160;frame<br/>fk+1&#160;in&#160;G1.&#160;Then&#160;there&#160;exists&#160;a&#160;set&#160;S&#160;reaching&#160;2/3&#160;of&#160;members&#160;in&#160;G1&#160;of&#160;frame&#160;fk&#160;such&#160;that&#160;∀u&#160;∈&#160;S&#160;(u&#160;→&#160;v).&#160;As<br/>G1&#160;∼&#160;G2,&#160;and&#160;v&#160;in&#160;G2,&#160;then&#160;∀u&#160;∈&#160;S&#160;(u&#160;∈&#160;G2).&#160;Since&#160;the&#160;proposition&#160;holds&#160;for&#160;j=k,&#160;As&#160;u&#160;is&#160;a&#160;root&#160;of&#160;frame&#160;fk&#160;in&#160;G1,<br/>u&#160;is&#160;a&#160;root&#160;of&#160;frame&#160;fk&#160;in&#160;G2.&#160;Hence,&#160;the&#160;set&#160;S&#160;of&#160;2/3&#160;members&#160;u&#160;happens&#160;before&#160;v&#160;in&#160;G2.&#160;So&#160;v&#160;belongs&#160;to&#160;fk+1&#160;in&#160;G2.</p>
<p style="position:absolute;top:374px;left:108px;white-space:nowrap" class="ft95">Thus,&#160;all&#160;nodes&#160;have&#160;the&#160;same&#160;consistent&#160;root&#160;sets,&#160;which&#160;are&#160;the&#160;root&#160;sets&#160;in&#160;GC&#160;.&#160;Frame&#160;numbers&#160;are&#160;consistent&#160;for<br/>all&#160;nodes.</p>
<p style="position:absolute;top:431px;left:128px;white-space:nowrap" class="ft92">(Flag&#160;table)&#160;A&#160;flag&#160;table&#160;stores&#160;reachability&#160;from&#160;an&#160;event&#160;block&#160;to&#160;another&#160;root.&#160;The&#160;sum&#160;of&#160;all&#160;reachabilities,</p>
<p style="position:absolute;top:448px;left:108px;white-space:nowrap" class="ft92">namely&#160;all&#160;values&#160;in&#160;flag&#160;table,&#160;indicates&#160;the&#160;number&#160;of&#160;reachabilities&#160;from&#160;an&#160;event&#160;block&#160;to&#160;other&#160;roots.</p>
<p style="position:absolute;top:472px;left:127px;white-space:nowrap" class="ft92">(Consistent&#160;flag&#160;table)&#160;For&#160;any&#160;top&#160;event&#160;v&#160;in&#160;both&#160;OPERA&#160;chains&#160;G1&#160;and&#160;G2,&#160;and&#160;G1&#160;∼&#160;G2,&#160;then&#160;the&#160;flag&#160;tables</p>
<p style="position:absolute;top:489px;left:108px;white-space:nowrap" class="ft92">of&#160;v&#160;are&#160;consistent&#160;if&#160;they&#160;are&#160;the&#160;same&#160;in&#160;both&#160;chains.</p>
<p style="position:absolute;top:513px;left:108px;white-space:nowrap" class="ft95">From&#160;the&#160;above,&#160;the&#160;root&#160;sets&#160;of&#160;G1&#160;and&#160;G2&#160;are&#160;consistent.&#160;If&#160;v&#160;contained&#160;in&#160;G1,&#160;and&#160;v&#160;is&#160;a&#160;root&#160;of&#160;j-th&#160;frame&#160;in&#160;G1,<br/>then&#160;v&#160;is&#160;a&#160;root&#160;of&#160;j-th&#160;frame&#160;in&#160;Gi.&#160;Since&#160;G1&#160;∼&#160;G2,&#160;G1[v]&#160;=&#160;G2[v].&#160;The&#160;reference&#160;event&#160;blocks&#160;of&#160;v&#160;are&#160;the&#160;same&#160;in<br/>both&#160;chains.&#160;Thus&#160;the&#160;flag&#160;tables&#160;of&#160;v&#160;of&#160;both&#160;chains&#160;are&#160;the&#160;same.</p>
<p style="position:absolute;top:587px;left:127px;white-space:nowrap" class="ft92">(Clotho)&#160;A&#160;root&#160;rk&#160;in&#160;the&#160;frame&#160;fa+3&#160;can&#160;nominate&#160;a&#160;root&#160;ra&#160;as&#160;Clotho&#160;if&#160;more&#160;than&#160;2n/3&#160;roots&#160;in&#160;the&#160;frame&#160;fa+1</p>
<p style="position:absolute;top:603px;left:108px;white-space:nowrap" class="ft92">dominate&#160;ra&#160;and&#160;rk&#160;dominates&#160;the&#160;roots&#160;in&#160;the&#160;frame&#160;fa+1.</p>
<p style="position:absolute;top:628px;left:108px;white-space:nowrap" class="ft95">Each&#160;node&#160;nominates&#160;a&#160;root&#160;into&#160;Clotho&#160;via&#160;the&#160;flag&#160;table.&#160;If&#160;all&#160;nodes&#160;have&#160;an&#160;OPERA&#160;chain&#160;with&#160;same&#160;shape,&#160;the<br/>values&#160;in&#160;flag&#160;table&#160;will&#160;be&#160;equal&#160;to&#160;each&#160;other&#160;in&#160;OPERA&#160;chain.&#160;Thus,&#160;all&#160;nodes&#160;nominate&#160;the&#160;same&#160;root&#160;into&#160;Clotho<br/>since&#160;the&#160;OPERA&#160;chain&#160;of&#160;all&#160;nodes&#160;has&#160;same&#160;shape.</p>
<p style="position:absolute;top:685px;left:128px;white-space:nowrap" class="ft92">(Atropos)&#160;An&#160;Atropos&#160;is&#160;assigned&#160;consensus&#160;time&#160;through&#160;the&#160;Lachesis&#160;consensus&#160;algorithm&#160;and&#160;is&#160;utilized&#160;for</p>
<p style="position:absolute;top:701px;left:108px;white-space:nowrap" class="ft95">determining&#160;the&#160;order&#160;between&#160;event&#160;blocks.&#160;Atropos&#160;blocks&#160;form&#160;a&#160;Main-chain,&#160;which&#160;allows&#160;time&#160;consensus&#160;ordering<br/>and&#160;responses&#160;to&#160;attacks.</p>
<p style="position:absolute;top:742px;left:108px;white-space:nowrap" class="ft95">For&#160;any&#160;root&#160;set&#160;R&#160;in&#160;the&#160;frame&#160;fi,&#160;the&#160;time&#160;consensus&#160;algorithm&#160;checks&#160;whether&#160;more&#160;than&#160;2n/3&#160;roots&#160;in&#160;the&#160;frame&#160;fi−1<br/>selects&#160;the&#160;same&#160;value.&#160;However,&#160;each&#160;node&#160;selects&#160;one&#160;of&#160;the&#160;values&#160;collected&#160;from&#160;the&#160;root&#160;set&#160;in&#160;the&#160;previous&#160;frame&#160;by<br/>the&#160;time&#160;consensus&#160;algorithm&#160;and&#160;Reselection&#160;process.&#160;Based&#160;on&#160;the&#160;Reselection&#160;process,&#160;the&#160;time&#160;consensus&#160;algorithm<br/>can&#160;reach&#160;agreement.&#160;However,&#160;there&#160;is&#160;a&#160;possibility&#160;that&#160;consensus&#160;time&#160;candidate&#160;does&#160;not&#160;reach&#160;agreement&#160;[10].<br/>To&#160;solve&#160;this&#160;problem,&#160;time&#160;consensus&#160;algorithm&#160;includes&#160;minimal&#160;selection&#160;frame&#160;per&#160;next&#160;h&#160;frame.&#160;In&#160;minimal<br/>value&#160;selection&#160;algorithm,&#160;each&#160;root&#160;selects&#160;minimum&#160;value&#160;among&#160;values&#160;collected&#160;from&#160;previous&#160;root&#160;set.&#160;Thus,&#160;the<br/>consensus&#160;time&#160;reaches&#160;consensus&#160;by&#160;time&#160;consensus&#160;algorithm.</p>
<p style="position:absolute;top:865px;left:127px;white-space:nowrap" class="ft92">(Main-chain&#160;(Blockchain))&#160;For&#160;faster&#160;consensus,&#160;Main-chain&#160;is&#160;a&#160;special&#160;sub-graph&#160;of&#160;the&#160;OPERA&#160;chain&#160;(DAG).</p>
<p style="position:absolute;top:890px;left:108px;white-space:nowrap" class="ft95">The&#160;Main&#160;chain&#160;—&#160;a&#160;core&#160;subgraph&#160;of&#160;OPERA&#160;chain,&#160;plays&#160;the&#160;important&#160;role&#160;of&#160;ordering&#160;the&#160;event&#160;blocks.&#160;The&#160;Main<br/>chain&#160;stores&#160;shortcuts&#160;to&#160;connect&#160;between&#160;the&#160;Atropos.&#160;After&#160;the&#160;topological&#160;ordering&#160;is&#160;computed&#160;over&#160;all&#160;event&#160;blocks<br/>through&#160;the&#160;Lachesis&#160;protocol,&#160;Atropos&#160;blocks&#160;are&#160;determined&#160;and&#160;form&#160;the&#160;Main&#160;chain.&#160;To&#160;improve&#160;path&#160;searching,<br/>we&#160;use&#160;a&#160;flag&#160;table&#160;—&#160;a&#160;local&#160;hash&#160;table&#160;structure&#160;as&#160;a&#160;cache&#160;that&#160;is&#160;used&#160;to&#160;quickly&#160;determine&#160;the&#160;closest&#160;root&#160;to&#160;a&#160;event<br/>block.</p>
<p style="position:absolute;top:980px;left:108px;white-space:nowrap" class="ft95">In&#160;the&#160;OPERA&#160;chain,&#160;an&#160;event&#160;block&#160;is&#160;called&#160;a&#160;root&#160;if&#160;the&#160;event&#160;block&#160;is&#160;linked&#160;to&#160;more&#160;than&#160;two-thirds&#160;of&#160;previous<br/>roots.&#160;A&#160;leaf&#160;vertex&#160;is&#160;also&#160;a&#160;root&#160;itself.&#160;With&#160;root&#160;event&#160;blocks,&#160;we&#160;can&#160;keep&#160;track&#160;of&#160;“vital”&#160;blocks&#160;that&#160;2n/3&#160;of&#160;the<br/>network&#160;agree&#160;on.</p>
<p style="position:absolute;top:1037px;left:108px;white-space:nowrap" class="ft95">Figure&#160;2&#160;shows&#160;an&#160;example&#160;of&#160;the&#160;Main&#160;chain&#160;composed&#160;of&#160;Atropos&#160;event&#160;blocks.&#160;In&#160;particular,&#160;the&#160;Main&#160;chain<br/>consists&#160;of&#160;Atropos&#160;blocks&#160;that&#160;are&#160;derived&#160;from&#160;root&#160;blocks&#160;and&#160;so&#160;are&#160;agreed&#160;by&#160;2n/3&#160;of&#160;the&#160;network&#160;nodes.&#160;Thus,<br/>this&#160;guarantees&#160;that&#160;at&#160;least&#160;2n/3&#160;of&#160;nodes&#160;have&#160;come&#160;to&#160;consensus&#160;on&#160;this&#160;Main&#160;chain.</p>
<p style="position:absolute;top:1115px;left:455px;white-space:nowrap" class="ft92">8</p>
</div>
<!-- Page 10 -->
<a name="10"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page10-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft102">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:465px;left:348px;white-space:nowrap" class="ft102">Figure&#160;2:&#160;An&#160;Example&#160;of&#160;Main-chain</p>
<p style="position:absolute;top:513px;left:108px;white-space:nowrap" class="ft105">Each&#160;participant&#160;node&#160;has&#160;a&#160;copy&#160;of&#160;the&#160;Main&#160;chain&#160;and&#160;can&#160;search&#160;consensus&#160;position&#160;of&#160;its&#160;own&#160;event&#160;blocks.&#160;Each<br/>event&#160;block&#160;can&#160;compute&#160;its&#160;own&#160;consensus&#160;position&#160;by&#160;checking&#160;the&#160;nearest&#160;Atropos&#160;event&#160;block.&#160;Assigning&#160;and<br/>searching&#160;consensus&#160;position&#160;are&#160;introduced&#160;in&#160;the&#160;consensus&#160;time&#160;selection&#160;section.</p>
<p style="position:absolute;top:570px;left:108px;white-space:nowrap" class="ft105">The&#160;Main&#160;chain&#160;provides&#160;quick&#160;access&#160;to&#160;the&#160;previous&#160;transaction&#160;history&#160;to&#160;efficiently&#160;process&#160;new&#160;incoming&#160;event<br/>blocks.&#160;From&#160;the&#160;Main&#160;chain,&#160;information&#160;about&#160;unknown&#160;participants&#160;or&#160;attackers&#160;can&#160;be&#160;easily&#160;viewed.&#160;The&#160;Main<br/>chain&#160;can&#160;be&#160;used&#160;efficiently&#160;in&#160;transaction&#160;information&#160;management&#160;by&#160;providing&#160;quick&#160;access&#160;to&#160;new&#160;event&#160;blocks<br/>that&#160;have&#160;been&#160;agreed&#160;on&#160;by&#160;the&#160;majority&#160;of&#160;nodes.&#160;In&#160;short,&#160;the&#160;Main-chain&#160;gives&#160;the&#160;following&#160;advantages:</p>
<p style="position:absolute;top:644px;left:108px;white-space:nowrap" class="ft102">-&#160;All&#160;event&#160;blocks&#160;or&#160;nodes&#160;do&#160;not&#160;need&#160;to&#160;store&#160;all&#160;information.&#160;It&#160;is&#160;efficient&#160;for&#160;data&#160;management.</p>
<p style="position:absolute;top:668px;left:108px;white-space:nowrap" class="ft102">-&#160;Access&#160;to&#160;previous&#160;information&#160;is&#160;efficient&#160;and&#160;fast.</p>
<p style="position:absolute;top:693px;left:108px;white-space:nowrap" class="ft105">Based&#160;on&#160;these&#160;advantages,&#160;OPERA&#160;chain&#160;can&#160;respond&#160;strongly&#160;to&#160;efficient&#160;transaction&#160;treatment&#160;and&#160;attacks&#160;through<br/>its&#160;Main-chain.</p>
<p style="position:absolute;top:1115px;left:455px;white-space:nowrap" class="ft102">9</p>
</div>
<!-- Page 11 -->
<a name="11"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1111{font-size:11px;font-family:Times;color:#000000;}
-->
</style>
<div id="page11-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft112">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:111px;left:108px;white-space:nowrap" class="ft114">3</p>
<p style="position:absolute;top:111px;left:135px;white-space:nowrap" class="ft114">Lachesis&#160;Protocol</p>
<p style="position:absolute;top:162px;left:108px;white-space:nowrap" class="ft112">Algorithm&#160;1&#160;Main&#160;Procedure</p>
<p style="position:absolute;top:183px;left:115px;white-space:nowrap" class="ft1111">1:</p>
<p style="position:absolute;top:182px;left:133px;white-space:nowrap" class="ft112">procedure&#160;MAIN&#160;PROCEDURE</p>
<p style="position:absolute;top:200px;left:115px;white-space:nowrap" class="ft1111">2:&#160;loop</p>
<p style="position:absolute;top:199px;left:160px;white-space:nowrap" class="ft112">:</p>
<p style="position:absolute;top:216px;left:115px;white-space:nowrap" class="ft1111">3:</p>
<p style="position:absolute;top:215px;left:156px;white-space:nowrap" class="ft112">A,&#160;B&#160;=&#160;k-node&#160;Selection&#160;algorithm()</p>
<p style="position:absolute;top:232px;left:115px;white-space:nowrap" class="ft1111">4:</p>
<p style="position:absolute;top:231px;left:156px;white-space:nowrap" class="ft112">Request&#160;sync&#160;to&#160;node&#160;A&#160;and&#160;B</p>
<p style="position:absolute;top:249px;left:115px;white-space:nowrap" class="ft1111">5:</p>
<p style="position:absolute;top:248px;left:156px;white-space:nowrap" class="ft112">Sync&#160;all&#160;known&#160;events&#160;by&#160;Lachesis&#160;protocol</p>
<p style="position:absolute;top:265px;left:115px;white-space:nowrap" class="ft1111">6:</p>
<p style="position:absolute;top:264px;left:156px;white-space:nowrap" class="ft112">Event&#160;block&#160;creation</p>
<p style="position:absolute;top:282px;left:115px;white-space:nowrap" class="ft1111">7:</p>
<p style="position:absolute;top:280px;left:156px;white-space:nowrap" class="ft112">(optional)&#160;Broadcast&#160;out&#160;the&#160;message</p>
<p style="position:absolute;top:298px;left:115px;white-space:nowrap" class="ft1111">8:</p>
<p style="position:absolute;top:297px;left:156px;white-space:nowrap" class="ft112">Root&#160;selection</p>
<p style="position:absolute;top:314px;left:115px;white-space:nowrap" class="ft1111">9:</p>
<p style="position:absolute;top:313px;left:156px;white-space:nowrap" class="ft112">Clotho&#160;selection</p>
<p style="position:absolute;top:331px;left:109px;white-space:nowrap" class="ft1111">10:</p>
<p style="position:absolute;top:330px;left:156px;white-space:nowrap" class="ft112">Atropos&#160;time&#160;consensus</p>
<p style="position:absolute;top:347px;left:109px;white-space:nowrap" class="ft1111">11:&#160;loop</p>
<p style="position:absolute;top:346px;left:160px;white-space:nowrap" class="ft112">:</p>
<p style="position:absolute;top:363px;left:109px;white-space:nowrap" class="ft1111">12:</p>
<p style="position:absolute;top:362px;left:156px;white-space:nowrap" class="ft112">Request&#160;sync&#160;from&#160;a&#160;node</p>
<p style="position:absolute;top:380px;left:109px;white-space:nowrap" class="ft1111">13:</p>
<p style="position:absolute;top:379px;left:156px;white-space:nowrap" class="ft112">Sync&#160;all&#160;known&#160;events&#160;by&#160;Lachesis&#160;protocol</p>
<p style="position:absolute;top:431px;left:108px;white-space:nowrap" class="ft115">Algorithm&#160;1&#160;shows&#160;the&#160;pseudo&#160;algorithm&#160;for&#160;the&#160;Lachesis&#160;core&#160;procedure.&#160;The&#160;algorithm&#160;consists&#160;of&#160;two&#160;parts&#160;and<br/>runs&#160;them&#160;in&#160;parallel.</p>
<p style="position:absolute;top:472px;left:108px;white-space:nowrap" class="ft115">-&#160;In&#160;part&#160;one,&#160;each&#160;node&#160;requests&#160;synchronization&#160;and&#160;creates&#160;event&#160;blocks.&#160;In&#160;line&#160;3,&#160;a&#160;node&#160;runs&#160;the&#160;Node&#160;Selection<br/>Algorithm.&#160;The&#160;Node&#160;Selection&#160;Algorithm&#160;returns&#160;the&#160;k&#160;IDs&#160;of&#160;other&#160;nodes&#160;to&#160;communicate&#160;with.&#160;In&#160;line&#160;4&#160;and&#160;5,&#160;the<br/>node&#160;synchronizes&#160;the&#160;OPERA&#160;chain&#160;(DAG)&#160;with&#160;the&#160;other&#160;nodes.&#160;Line&#160;6&#160;runs&#160;the&#160;Event&#160;block&#160;creation,&#160;at&#160;which&#160;step<br/>the&#160;node&#160;creates&#160;an&#160;event&#160;block&#160;and&#160;checks&#160;whether&#160;it&#160;is&#160;a&#160;root.&#160;The&#160;node&#160;then&#160;broadcasts&#160;the&#160;created&#160;event&#160;block&#160;to<br/>all&#160;other&#160;known&#160;nodes&#160;in&#160;line&#160;7.&#160;The&#160;step&#160;in&#160;this&#160;line&#160;is&#160;optional.&#160;In&#160;line&#160;8&#160;and&#160;9,&#160;Clotho&#160;selection&#160;and&#160;Atropos&#160;time<br/>consensus&#160;algorithms&#160;are&#160;invoked.&#160;The&#160;algorithms&#160;determines&#160;whether&#160;the&#160;specified&#160;root&#160;can&#160;be&#160;a&#160;Clotho,&#160;assign&#160;the<br/>consensus&#160;time,&#160;and&#160;then&#160;confirm&#160;the&#160;Atropos.</p>
<p style="position:absolute;top:595px;left:108px;white-space:nowrap" class="ft115">-&#160;The&#160;second&#160;part&#160;is&#160;to&#160;respond&#160;to&#160;synchronization&#160;requests.&#160;In&#160;line&#160;10&#160;and&#160;11,&#160;the&#160;node&#160;receives&#160;a&#160;synchronization<br/>request&#160;and&#160;then&#160;sends&#160;its&#160;response&#160;about&#160;the&#160;OPERA&#160;chain.</p>
<p style="position:absolute;top:647px;left:108px;white-space:nowrap" class="ft112">3.1</p>
<p style="position:absolute;top:647px;left:142px;white-space:nowrap" class="ft112">Peer&#160;selection&#160;algorithm</p>
<p style="position:absolute;top:677px;left:108px;white-space:nowrap" class="ft115">In&#160;order&#160;to&#160;create&#160;an&#160;event&#160;block,&#160;a&#160;node&#160;needs&#160;to&#160;select&#160;k&#160;other&#160;nodes.&#160;Lachesis&#160;protocols&#160;does&#160;not&#160;depend&#160;on&#160;how&#160;peer<br/>nodes&#160;are&#160;selected.&#160;One&#160;simple&#160;approach&#160;can&#160;use&#160;a&#160;random&#160;selection&#160;from&#160;the&#160;pool&#160;of&#160;n&#160;nodes.&#160;The&#160;other&#160;approach&#160;is<br/>to&#160;define&#160;some&#160;criteria&#160;or&#160;cost&#160;function&#160;to&#160;select&#160;other&#160;peers&#160;of&#160;a&#160;node.</p>
<p style="position:absolute;top:734px;left:108px;white-space:nowrap" class="ft115">Within&#160;distributed&#160;system,&#160;a&#160;node&#160;can&#160;select&#160;other&#160;nodes&#160;with&#160;low&#160;communication&#160;costs,&#160;low&#160;network&#160;latency,&#160;high<br/>bandwidth,&#160;high&#160;successful&#160;transaction&#160;throughputs.</p>
<p style="position:absolute;top:787px;left:108px;white-space:nowrap" class="ft112">3.2</p>
<p style="position:absolute;top:787px;left:142px;white-space:nowrap" class="ft112">Dynamic&#160;participants</p>
<p style="position:absolute;top:817px;left:108px;white-space:nowrap" class="ft115">Our&#160;Lachesis&#160;protocol&#160;allows&#160;an&#160;arbitrary&#160;number&#160;of&#160;participants&#160;to&#160;dynamically&#160;join&#160;the&#160;system.&#160;The&#160;OPERA&#160;chain<br/>(DAG)&#160;can&#160;still&#160;operate&#160;with&#160;new&#160;participants.&#160;Computation&#160;on&#160;flag&#160;tables&#160;is&#160;set&#160;based&#160;and&#160;independent&#160;of&#160;which&#160;and<br/>how&#160;many&#160;participants&#160;have&#160;joined&#160;the&#160;system.&#160;Algorithms&#160;for&#160;selection&#160;of&#160;Roots,&#160;Clothos&#160;and&#160;Atroposes&#160;are&#160;flexible<br/>enough&#160;and&#160;not&#160;dependence&#160;on&#160;a&#160;fixed&#160;number&#160;of&#160;participants.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft112">10</p>
</div>
<!-- Page 12 -->
<a name="12"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1212{font-size:6px;font-family:Times;color:#000000;}
	.ft1213{font-size:4px;font-family:Times;color:#000000;}
	.ft1214{font-size:4px;font-family:Times;color:#000000;}
	.ft1215{font-size:12px;font-family:Times;color:#000000;}
	.ft1216{font-size:12px;font-family:Times;color:#000000;}
-->
</style>
<div id="page12-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft122">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft122">3.3</p>
<p style="position:absolute;top:113px;left:142px;white-space:nowrap" class="ft122">Peer&#160;synchronization</p>
<p style="position:absolute;top:143px;left:108px;white-space:nowrap" class="ft122">We&#160;describe&#160;an&#160;algorithm&#160;that&#160;synchronizes&#160;events&#160;between&#160;the&#160;nodes.</p>
<p style="position:absolute;top:178px;left:108px;white-space:nowrap" class="ft122">Algorithm&#160;2&#160;EventSync</p>
<p style="position:absolute;top:199px;left:115px;white-space:nowrap" class="ft1211">1:</p>
<p style="position:absolute;top:198px;left:133px;white-space:nowrap" class="ft122">procedure&#160;SYNC-EVENTS()</p>
<p style="position:absolute;top:215px;left:115px;white-space:nowrap" class="ft1211">2:</p>
<p style="position:absolute;top:214px;left:156px;white-space:nowrap" class="ft122">Node&#160;n1&#160;selects&#160;random&#160;peer&#160;to&#160;synchronize&#160;with</p>
<p style="position:absolute;top:232px;left:115px;white-space:nowrap" class="ft1211">3:</p>
<p style="position:absolute;top:230px;left:156px;white-space:nowrap" class="ft122">n1&#160;gets&#160;local&#160;known&#160;events&#160;(map[int]int)</p>
<p style="position:absolute;top:248px;left:115px;white-space:nowrap" class="ft1211">4:</p>
<p style="position:absolute;top:247px;left:156px;white-space:nowrap" class="ft122">n1&#160;sends&#160;RPC&#160;request&#160;Sync&#160;request&#160;to&#160;peer</p>
<p style="position:absolute;top:264px;left:115px;white-space:nowrap" class="ft1211">5:</p>
<p style="position:absolute;top:263px;left:156px;white-space:nowrap" class="ft122">n2&#160;receives&#160;RPC&#160;requestSync&#160;request</p>
<p style="position:absolute;top:281px;left:115px;white-space:nowrap" class="ft1211">6:</p>
<p style="position:absolute;top:279px;left:156px;white-space:nowrap" class="ft122">n2&#160;does&#160;an&#160;EventDiff&#160;check&#160;on&#160;the&#160;known&#160;map&#160;(map[int]int)</p>
<p style="position:absolute;top:297px;left:115px;white-space:nowrap" class="ft1211">7:</p>
<p style="position:absolute;top:296px;left:156px;white-space:nowrap" class="ft122">n2&#160;returns&#160;unknown&#160;events,&#160;and&#160;map[int]int&#160;of&#160;known&#160;events&#160;to&#160;n1</p>
<p style="position:absolute;top:346px;left:108px;white-space:nowrap" class="ft125">The&#160;algorithm&#160;assumes&#160;that&#160;a&#160;node&#160;always&#160;needs&#160;the&#160;events&#160;in&#160;topological&#160;ordering&#160;(specifically&#160;in&#160;reference&#160;to&#160;the<br/>lamport&#160;timestamps),&#160;an&#160;alternative&#160;would&#160;be&#160;to&#160;use&#160;an&#160;inverse&#160;bloom&#160;lookup&#160;table&#160;(IBLT)&#160;for&#160;completely&#160;potential<br/>randomized&#160;events.</p>
<p style="position:absolute;top:420px;left:108px;white-space:nowrap" class="ft122">Alternatively,&#160;one&#160;can&#160;simply&#160;use&#160;a&#160;fixed&#160;incrementing&#160;index&#160;to&#160;keep&#160;track&#160;of&#160;the&#160;top&#160;event&#160;for&#160;each&#160;node.</p>
<p style="position:absolute;top:472px;left:108px;white-space:nowrap" class="ft122">3.4</p>
<p style="position:absolute;top:472px;left:142px;white-space:nowrap" class="ft122">Node&#160;Structure</p>
<p style="position:absolute;top:502px;left:108px;white-space:nowrap" class="ft122">This&#160;section&#160;gives&#160;an&#160;overview&#160;of&#160;the&#160;node&#160;structure&#160;in&#160;Lachesis.</p>
<p style="position:absolute;top:526px;left:108px;white-space:nowrap" class="ft125">Each&#160;node&#160;has&#160;a&#160;height&#160;vector,&#160;in-degree&#160;vector,&#160;flag&#160;table,&#160;frames,&#160;clotho&#160;check&#160;list,&#160;max-min&#160;value,&#160;main-chain<br/>(blockchain),&#160;and&#160;their&#160;own&#160;local&#160;view&#160;of&#160;the&#160;OPERA&#160;chain&#160;(DAG).&#160;The&#160;height&#160;vector&#160;is&#160;the&#160;number&#160;of&#160;event&#160;blocks<br/>created&#160;by&#160;the&#160;i-th&#160;node.&#160;The&#160;in-degree&#160;vector&#160;refers&#160;to&#160;the&#160;number&#160;of&#160;edges&#160;from&#160;other&#160;event&#160;blocks&#160;created&#160;by&#160;other<br/>nodes&#160;to&#160;the&#160;top&#160;event&#160;block&#160;of&#160;this&#160;node.&#160;The&#160;top&#160;event&#160;block&#160;indicates&#160;the&#160;most&#160;recently&#160;created&#160;event&#160;block&#160;by&#160;this<br/>node.&#160;The&#160;flag&#160;table&#160;is&#160;a&#160;nxk&#160;matrix,&#160;where&#160;n&#160;is&#160;the&#160;number&#160;of&#160;nodes&#160;and&#160;k&#160;is&#160;the&#160;number&#160;of&#160;roots&#160;that&#160;an&#160;event&#160;block<br/>can&#160;reach.&#160;If&#160;an&#160;event&#160;block&#160;e&#160;created&#160;by&#160;i-th&#160;node&#160;can&#160;reach&#160;j-th&#160;root,&#160;then&#160;the&#160;flag&#160;table&#160;stores&#160;the&#160;hash&#160;value&#160;of&#160;the<br/>j-th&#160;root.&#160;Each&#160;node&#160;maintains&#160;the&#160;flag&#160;table&#160;of&#160;each&#160;top&#160;event&#160;block.</p>
<p style="position:absolute;top:649px;left:108px;white-space:nowrap" class="ft125">Frames&#160;store&#160;the&#160;root&#160;set&#160;in&#160;each&#160;frame.&#160;Clotho&#160;check&#160;list&#160;has&#160;two&#160;types&#160;of&#160;check&#160;points;&#160;Clotho&#160;candidate&#160;(CC)&#160;and<br/>Clotho&#160;(C).&#160;If&#160;a&#160;root&#160;in&#160;a&#160;frame&#160;is&#160;a&#160;CC,&#160;a&#160;node&#160;check&#160;the&#160;CC&#160;part&#160;and&#160;if&#160;a&#160;root&#160;becomes&#160;Clotho,&#160;a&#160;node&#160;check&#160;C<br/>part.&#160;Max-min&#160;value&#160;is&#160;timestamp&#160;that&#160;addresses&#160;for&#160;Atropos&#160;selection.&#160;The&#160;Main-chain&#160;is&#160;a&#160;data&#160;structure&#160;storing&#160;hash<br/>values&#160;of&#160;the&#160;Atropos&#160;blocks.</p>
<p style="position:absolute;top:875px;left:319px;white-space:nowrap" class="ft1212"><b>Flag&#160;Table</b></p>
<p style="position:absolute;top:939px;left:447px;white-space:nowrap" class="ft1212"><b>OPERA&#160;chain&#160;</b></p>
<p style="position:absolute;top:894px;left:336px;white-space:nowrap" class="ft1213"><b>A</b></p>
<p style="position:absolute;top:894px;left:375px;white-space:nowrap" class="ft1213"><b>{a0, b0,&#160;&#160;c0}</b></p>
<p style="position:absolute;top:913px;left:336px;white-space:nowrap" class="ft1213"><b>B</b></p>
<p style="position:absolute;top:913px;left:385px;white-space:nowrap" class="ft1213"><b>{b0}</b></p>
<p style="position:absolute;top:933px;left:336px;white-space:nowrap" class="ft1213"><b>C</b></p>
<p style="position:absolute;top:933px;left:385px;white-space:nowrap" class="ft1213"><b>{c0}</b></p>
<p style="position:absolute;top:953px;left:336px;white-space:nowrap" class="ft1213"><b>D</b></p>
<p style="position:absolute;top:953px;left:385px;white-space:nowrap" class="ft1213"><b>{d0}</b></p>
<p style="position:absolute;top:972px;left:336px;white-space:nowrap" class="ft1213"><b>E</b></p>
<p style="position:absolute;top:972px;left:385px;white-space:nowrap" class="ft1213"><b>{e0}</b></p>
<p style="position:absolute;top:795px;left:447px;white-space:nowrap" class="ft1212"><b>Clotho&#160;Check&#160;List</b></p>
<p style="position:absolute;top:812px;left:511px;white-space:nowrap" class="ft1213"><b>a0</b></p>
<p style="position:absolute;top:812px;left:535px;white-space:nowrap" class="ft1213"><b>b0</b></p>
<p style="position:absolute;top:812px;left:560px;white-space:nowrap" class="ft1213"><b>c0</b></p>
<p style="position:absolute;top:812px;left:585px;white-space:nowrap" class="ft1213"><b>d0</b></p>
<p style="position:absolute;top:812px;left:610px;white-space:nowrap" class="ft1213"><b>e0</b></p>
<p style="position:absolute;top:825px;left:512px;white-space:nowrap" class="ft1213"><b>-</b></p>
<p style="position:absolute;top:825px;left:537px;white-space:nowrap" class="ft1213"><b>-</b></p>
<p style="position:absolute;top:825px;left:562px;white-space:nowrap" class="ft1213"><b>-</b></p>
<p style="position:absolute;top:825px;left:587px;white-space:nowrap" class="ft1213"><b>-</b></p>
<p style="position:absolute;top:825px;left:611px;white-space:nowrap" class="ft1213"><b>-</b></p>
<p style="position:absolute;top:839px;left:512px;white-space:nowrap" class="ft1213"><b>-</b></p>
<p style="position:absolute;top:839px;left:537px;white-space:nowrap" class="ft1213"><b>-</b></p>
<p style="position:absolute;top:839px;left:562px;white-space:nowrap" class="ft1213"><b>-</b></p>
<p style="position:absolute;top:839px;left:587px;white-space:nowrap" class="ft1213"><b>-</b></p>
<p style="position:absolute;top:839px;left:611px;white-space:nowrap" class="ft1213"><b>-</b></p>
<p style="position:absolute;top:812px;left:483px;white-space:nowrap" class="ft1213"><b>Root</b></p>
<p style="position:absolute;top:825px;left:486px;white-space:nowrap" class="ft1213"><b>CC</b></p>
<p style="position:absolute;top:839px;left:488px;white-space:nowrap" class="ft1213"><b>C</b></p>
<p style="position:absolute;top:825px;left:462px;white-space:nowrap" class="ft1213"><b>f1</b></p>
<p style="position:absolute;top:758px;left:320px;white-space:nowrap" class="ft1212"><b>Height&#160;vector</b></p>
<p style="position:absolute;top:816px;left:319px;white-space:nowrap" class="ft1212"><b>In-degree&#160;&#160;vector</b></p>
<p style="position:absolute;top:777px;left:334px;white-space:nowrap" class="ft1213"><b>A</b></p>
<p style="position:absolute;top:777px;left:356px;white-space:nowrap" class="ft1213"><b>B</b></p>
<p style="position:absolute;top:777px;left:376px;white-space:nowrap" class="ft1213"><b>C</b></p>
<p style="position:absolute;top:777px;left:397px;white-space:nowrap" class="ft1213"><b>D</b></p>
<p style="position:absolute;top:777px;left:419px;white-space:nowrap" class="ft1213"><b>E</b></p>
<p style="position:absolute;top:797px;left:335px;white-space:nowrap" class="ft1213"><b>2</b></p>
<p style="position:absolute;top:797px;left:356px;white-space:nowrap" class="ft1213"><b>1</b></p>
<p style="position:absolute;top:797px;left:377px;white-space:nowrap" class="ft1213"><b>1</b></p>
<p style="position:absolute;top:797px;left:398px;white-space:nowrap" class="ft1213"><b>1</b></p>
<p style="position:absolute;top:797px;left:419px;white-space:nowrap" class="ft1213"><b>1</b></p>
<p style="position:absolute;top:835px;left:333px;white-space:nowrap" class="ft1213"><b>A</b></p>
<p style="position:absolute;top:835px;left:355px;white-space:nowrap" class="ft1213"><b>B</b></p>
<p style="position:absolute;top:835px;left:375px;white-space:nowrap" class="ft1213"><b>C</b></p>
<p style="position:absolute;top:835px;left:396px;white-space:nowrap" class="ft1213"><b>D</b></p>
<p style="position:absolute;top:835px;left:418px;white-space:nowrap" class="ft1213"><b>E</b></p>
<p style="position:absolute;top:854px;left:334px;white-space:nowrap" class="ft1213"><b>1</b></p>
<p style="position:absolute;top:854px;left:355px;white-space:nowrap" class="ft1213"><b>1</b></p>
<p style="position:absolute;top:854px;left:376px;white-space:nowrap" class="ft1213"><b>1</b></p>
<p style="position:absolute;top:854px;left:398px;white-space:nowrap" class="ft1213"><b>-</b></p>
<p style="position:absolute;top:854px;left:419px;white-space:nowrap" class="ft1213"><b>-</b></p>
<p style="position:absolute;top:758px;left:448px;white-space:nowrap" class="ft1212"><b>Frames</b></p>
<p style="position:absolute;top:777px;left:468px;white-space:nowrap" class="ft1213"><b>f1</b></p>
<p style="position:absolute;top:777px;left:515px;white-space:nowrap" class="ft1213"><b>{a0, b0,&#160;&#160;c0, d0, e0}</b></p>
<p style="position:absolute;top:858px;left:447px;white-space:nowrap" class="ft1212"><b>Main&#160;Chain</b></p>
<p style="position:absolute;top:877px;left:563px;white-space:nowrap" class="ft1214">...</p>
<p style="position:absolute;top:898px;left:447px;white-space:nowrap" class="ft1212"><b>Min&#160;time</b></p>
<p style="position:absolute;top:739px;left:568px;white-space:nowrap" class="ft1215"><b>Node&#160;<i>A</i></b></p>
<p style="position:absolute;top:1010px;left:337px;white-space:nowrap" class="ft122">Figure&#160;3:&#160;An&#160;Example&#160;of&#160;Node&#160;Structure</p>
<p style="position:absolute;top:1054px;left:108px;white-space:nowrap" class="ft125">Figure&#160;3&#160;shows&#160;an&#160;example&#160;of&#160;the&#160;node&#160;structure&#160;component&#160;of&#160;a&#160;node&#160;A.&#160;In&#160;the&#160;figure,&#160;each&#160;value&#160;excluding&#160;self<br/>height&#160;in&#160;the&#160;height&#160;vector&#160;is&#160;1&#160;since&#160;the&#160;initial&#160;state&#160;is&#160;shared&#160;to&#160;all&#160;nodes.&#160;In&#160;the&#160;in-degree&#160;vector,&#160;node&#160;A&#160;stores&#160;the</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft122">11</p>
</div>
<!-- Page 13 -->
<a name="13"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1317{font-size:6px;font-family:Times;color:#000000;}
	.ft1318{font-size:7px;font-family:Times;color:#000000;}
	.ft1319{font-size:8px;font-family:Times;color:#000000;}
	.ft1320{font-size:8px;font-family:Times;color:#000000;}
	.ft1321{font-size:7px;font-family:Times;color:#000000;}
	.ft1322{font-size:4px;font-family:Times;color:#000000;}
	.ft1323{font-size:6px;font-family:Times;color:#000000;}
	.ft1324{font-size:2px;font-family:Times;color:#000000;}
	.ft1325{font-size:7px;line-height:13px;font-family:Times;color:#000000;}
-->
</style>
<div id="page13-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft132">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft135">number&#160;of&#160;edges&#160;from&#160;other&#160;event&#160;blocks&#160;created&#160;by&#160;other&#160;nodes&#160;to&#160;the&#160;top&#160;event&#160;block.&#160;The&#160;in-degrees&#160;of&#160;node&#160;A,&#160;B,<br/>and&#160;C&#160;are&#160;1.&#160;In&#160;flag&#160;table,&#160;node&#160;A&#160;knows&#160;other&#160;two&#160;root&#160;hashes&#160;since&#160;the&#160;top&#160;event&#160;block&#160;can&#160;reach&#160;those&#160;two&#160;roots.<br/>Node&#160;A&#160;also&#160;knows&#160;that&#160;other&#160;nodes&#160;know&#160;their&#160;own&#160;roots.&#160;In&#160;the&#160;example&#160;situation&#160;there&#160;is&#160;no&#160;clotho&#160;candidate&#160;and<br/>Clotho,&#160;and&#160;thus&#160;clotho&#160;check&#160;list&#160;is&#160;empty.&#160;The&#160;main-chain&#160;and&#160;max-min&#160;value&#160;are&#160;empty&#160;for&#160;the&#160;same&#160;reason&#160;as<br/>clotho&#160;check&#160;list.</p>
<p style="position:absolute;top:240px;left:108px;white-space:nowrap" class="ft132">3.5</p>
<p style="position:absolute;top:240px;left:142px;white-space:nowrap" class="ft132">Peer&#160;selection&#160;algorithm&#160;via&#160;Cost&#160;function</p>
<p style="position:absolute;top:280px;left:108px;white-space:nowrap" class="ft135">We&#160;define&#160;three&#160;versions&#160;of&#160;the&#160;Cost&#160;Function&#160;(CF&#160;).&#160;Version&#160;one&#160;is&#160;focused&#160;around&#160;updated&#160;information&#160;share&#160;and<br/>is&#160;discussed&#160;below.&#160;The&#160;other&#160;two&#160;versions&#160;are&#160;focused&#160;on&#160;root&#160;creation&#160;and&#160;consensus&#160;facilitation,&#160;these&#160;will&#160;be<br/>discussed&#160;in&#160;a&#160;following&#160;paper.</p>
<p style="position:absolute;top:338px;left:108px;white-space:nowrap" class="ft135">We&#160;define&#160;a&#160;Cost&#160;Function&#160;(CF&#160;)&#160;for&#160;preventing&#160;the&#160;creation&#160;of&#160;lazy&#160;nodes.&#160;A&#160;lazy&#160;node&#160;is&#160;a&#160;node&#160;that&#160;has&#160;a&#160;lower&#160;work<br/>portion&#160;in&#160;the&#160;OPERA&#160;chain&#160;(has&#160;created&#160;fewer&#160;event&#160;blocks).&#160;When&#160;a&#160;node&#160;creates&#160;an&#160;event&#160;block,&#160;the&#160;node&#160;selects<br/>other&#160;nodes&#160;with&#160;low&#160;value&#160;outputs&#160;from&#160;the&#160;cost&#160;function&#160;and&#160;refers&#160;to&#160;the&#160;top&#160;event&#160;blocks&#160;of&#160;the&#160;reference&#160;nodes.<br/>An&#160;equation&#160;(1)&#160;of&#160;CF&#160;is&#160;as&#160;follows,</p>
<p style="position:absolute;top:464px;left:424px;white-space:nowrap" class="ft132">CF&#160;=&#160;I/H</p>
<p style="position:absolute;top:464px;left:793px;white-space:nowrap" class="ft132">(1)</p>
<p style="position:absolute;top:531px;left:108px;white-space:nowrap" class="ft135">where&#160;I&#160;and&#160;H&#160;denote&#160;values&#160;of&#160;in-degree&#160;vector&#160;and&#160;height&#160;vector&#160;respectively.&#160;If&#160;the&#160;number&#160;of&#160;nodes&#160;with&#160;the&#160;lowest<br/>CF&#160;is&#160;more&#160;than&#160;k,&#160;one&#160;of&#160;the&#160;nodes&#160;is&#160;selected&#160;at&#160;random.&#160;The&#160;reason&#160;for&#160;selecting&#160;high&#160;H&#160;is&#160;that&#160;we&#160;can&#160;expect&#160;a<br/>high&#160;possibility&#160;to&#160;create&#160;a&#160;root&#160;because&#160;the&#160;high&#160;H&#160;indicates&#160;that&#160;the&#160;communication&#160;frequency&#160;of&#160;the&#160;node&#160;had&#160;more<br/>opportunities&#160;than&#160;others&#160;with&#160;low&#160;H.&#160;Otherwise,&#160;the&#160;nodes&#160;that&#160;have&#160;high&#160;CF&#160;(the&#160;case&#160;of&#160;I&#160;&gt;&#160;H)&#160;have&#160;generated<br/>fewer&#160;event&#160;blocks&#160;than&#160;the&#160;nodes&#160;that&#160;have&#160;low&#160;CF&#160;..</p>
<p style="position:absolute;top:726px;left:220px;white-space:nowrap" class="ft1317">b0</p>
<p style="position:absolute;top:764px;left:220px;white-space:nowrap" class="ft1317">c0</p>
<p style="position:absolute;top:688px;left:269px;white-space:nowrap" class="ft1317">a1</p>
<p style="position:absolute;top:802px;left:220px;white-space:nowrap" class="ft1317">d0</p>
<p style="position:absolute;top:688px;left:221px;white-space:nowrap" class="ft1317">a0</p>
<p style="position:absolute;top:840px;left:220px;white-space:nowrap" class="ft1317">e0</p>
<p style="position:absolute;top:698px;left:184px;white-space:nowrap" class="ft1312"><b>node&#160;A</b></p>
<p style="position:absolute;top:734px;left:184px;white-space:nowrap" class="ft1312"><b>node&#160;B</b></p>
<p style="position:absolute;top:772px;left:184px;white-space:nowrap" class="ft1312"><b>node&#160;C</b></p>
<p style="position:absolute;top:810px;left:184px;white-space:nowrap" class="ft1312"><b>node&#160;D</b></p>
<p style="position:absolute;top:848px;left:184px;white-space:nowrap" class="ft1312"><b>node&#160;E</b></p>
<p style="position:absolute;top:729px;left:302px;white-space:nowrap" class="ft1318">Height&#160;vector</p>
<p style="position:absolute;top:793px;left:303px;white-space:nowrap" class="ft1318">In-degree&#160;vector</p>
<p style="position:absolute;top:753px;left:316px;white-space:nowrap" class="ft1317">A</p>
<p style="position:absolute;top:753px;left:342px;white-space:nowrap" class="ft1317">B</p>
<p style="position:absolute;top:753px;left:368px;white-space:nowrap" class="ft1317">C</p>
<p style="position:absolute;top:753px;left:394px;white-space:nowrap" class="ft1317">D</p>
<p style="position:absolute;top:753px;left:419px;white-space:nowrap" class="ft1317">E</p>
<p style="position:absolute;top:774px;left:317px;white-space:nowrap" class="ft1317">1</p>
<p style="position:absolute;top:774px;left:343px;white-space:nowrap" class="ft1317">1</p>
<p style="position:absolute;top:774px;left:369px;white-space:nowrap" class="ft1317">1</p>
<p style="position:absolute;top:774px;left:394px;white-space:nowrap" class="ft1317">1</p>
<p style="position:absolute;top:774px;left:420px;white-space:nowrap" class="ft1317">1</p>
<p style="position:absolute;top:813px;left:316px;white-space:nowrap" class="ft1317">A</p>
<p style="position:absolute;top:813px;left:342px;white-space:nowrap" class="ft1317">B</p>
<p style="position:absolute;top:813px;left:368px;white-space:nowrap" class="ft1317">C</p>
<p style="position:absolute;top:813px;left:394px;white-space:nowrap" class="ft1317">D</p>
<p style="position:absolute;top:813px;left:419px;white-space:nowrap" class="ft1317">E</p>
<p style="position:absolute;top:834px;left:318px;white-space:nowrap" class="ft1317">-</p>
<p style="position:absolute;top:834px;left:343px;white-space:nowrap" class="ft1317">0</p>
<p style="position:absolute;top:834px;left:369px;white-space:nowrap" class="ft1317">0</p>
<p style="position:absolute;top:834px;left:394px;white-space:nowrap" class="ft1317">0</p>
<p style="position:absolute;top:834px;left:420px;white-space:nowrap" class="ft1317">0</p>
<p style="position:absolute;top:701px;left:390px;white-space:nowrap" class="ft1319"><b>Node&#160;<i>A</i></b></p>
<p style="position:absolute;top:663px;left:298px;white-space:nowrap" class="ft1325">Cost&#160;function:&#160;&#160;<i>Cf&#160;=&#160;I/H&#160;<br/></i>(<i>I</i>:&#160;In-degree&#160;&#160;vector&#160;&#160;/&#160;<i>H</i>:&#160;Height&#160;vector)</p>
<p style="position:absolute;top:875px;left:287px;white-space:nowrap" class="ft1315"><b>Step&#160;1</b></p>
<p style="position:absolute;top:849px;left:617px;white-space:nowrap" class="ft1322"><i>Cf&#160;</i>(B)<i>=&#160;0&#160;&#160;Cf&#160;</i>(C)<i>=&#160;0&#160;&#160;Cf&#160;</i>(D)<i>=&#160;0&#160;Cf&#160;</i>(E)<i>=&#160;0&#160;</i></p>
<p style="position:absolute;top:725px;left:509px;white-space:nowrap" class="ft1317">b0</p>
<p style="position:absolute;top:762px;left:509px;white-space:nowrap" class="ft1317">c0</p>
<p style="position:absolute;top:688px;left:558px;white-space:nowrap" class="ft1317">a1</p>
<p style="position:absolute;top:798px;left:510px;white-space:nowrap" class="ft1317">d0</p>
<p style="position:absolute;top:689px;left:509px;white-space:nowrap" class="ft1317">a0</p>
<p style="position:absolute;top:836px;left:510px;white-space:nowrap" class="ft1317">e0</p>
<p style="position:absolute;top:699px;left:474px;white-space:nowrap" class="ft1312"><b>node&#160;A</b></p>
<p style="position:absolute;top:734px;left:474px;white-space:nowrap" class="ft1312"><b>node&#160;B</b></p>
<p style="position:absolute;top:770px;left:474px;white-space:nowrap" class="ft1312"><b>node&#160;C</b></p>
<p style="position:absolute;top:807px;left:474px;white-space:nowrap" class="ft1312"><b>node&#160;D</b></p>
<p style="position:absolute;top:844px;left:474px;white-space:nowrap" class="ft1312"><b>node&#160;E</b></p>
<p style="position:absolute;top:717px;left:591px;white-space:nowrap" class="ft1318">Height&#160;vector</p>
<p style="position:absolute;top:779px;left:590px;white-space:nowrap" class="ft1318">In-degree&#160;vector</p>
<p style="position:absolute;top:740px;left:604px;white-space:nowrap" class="ft1317">A</p>
<p style="position:absolute;top:740px;left:630px;white-space:nowrap" class="ft1317">B</p>
<p style="position:absolute;top:740px;left:655px;white-space:nowrap" class="ft1317">C</p>
<p style="position:absolute;top:740px;left:681px;white-space:nowrap" class="ft1317">D</p>
<p style="position:absolute;top:740px;left:707px;white-space:nowrap" class="ft1317">E</p>
<p style="position:absolute;top:762px;left:605px;white-space:nowrap" class="ft1317">1</p>
<p style="position:absolute;top:762px;left:631px;white-space:nowrap" class="ft1317">1</p>
<p style="position:absolute;top:762px;left:656px;white-space:nowrap" class="ft1317">1</p>
<p style="position:absolute;top:762px;left:682px;white-space:nowrap" class="ft1317">1</p>
<p style="position:absolute;top:762px;left:707px;white-space:nowrap" class="ft1317">1</p>
<p style="position:absolute;top:798px;left:604px;white-space:nowrap" class="ft1317">A</p>
<p style="position:absolute;top:798px;left:630px;white-space:nowrap" class="ft1317">B</p>
<p style="position:absolute;top:798px;left:655px;white-space:nowrap" class="ft1317">C</p>
<p style="position:absolute;top:798px;left:681px;white-space:nowrap" class="ft1317">D</p>
<p style="position:absolute;top:798px;left:707px;white-space:nowrap" class="ft1317">E</p>
<p style="position:absolute;top:820px;left:606px;white-space:nowrap" class="ft1317">-</p>
<p style="position:absolute;top:820px;left:631px;white-space:nowrap" class="ft1317">0</p>
<p style="position:absolute;top:820px;left:656px;white-space:nowrap" class="ft1317">0</p>
<p style="position:absolute;top:820px;left:682px;white-space:nowrap" class="ft1317">0</p>
<p style="position:absolute;top:820px;left:707px;white-space:nowrap" class="ft1317">0</p>
<p style="position:absolute;top:700px;left:682px;white-space:nowrap" class="ft1319"><b>Node&#160;<i>A</i></b></p>
<p style="position:absolute;top:665px;left:588px;white-space:nowrap" class="ft1325">Cost&#160;function:&#160;&#160;<i>Cf&#160;=&#160;I/H&#160;<br/></i>(<i>I</i>:&#160;In-degree&#160;&#160;vector&#160;&#160;/&#160;<i>H</i>:&#160;Height&#160;vector)</p>
<p style="position:absolute;top:876px;left:574px;white-space:nowrap" class="ft1315"><b>Step&#160;2</b></p>
<p style="position:absolute;top:918px;left:334px;white-space:nowrap" class="ft132">Figure&#160;4:&#160;An&#160;Example&#160;of&#160;Cost&#160;Function&#160;1</p>
<p style="position:absolute;top:988px;left:108px;white-space:nowrap" class="ft135">Figure&#160;4&#160;shows&#160;an&#160;example&#160;of&#160;the&#160;node&#160;selection&#160;based&#160;on&#160;the&#160;cost&#160;function&#160;after&#160;the&#160;creation&#160;of&#160;leaf&#160;events&#160;by&#160;all<br/>nodes.&#160;In&#160;this&#160;example,&#160;there&#160;are&#160;five&#160;nodes&#160;and&#160;each&#160;node&#160;created&#160;leaf&#160;events.&#160;All&#160;nodes&#160;know&#160;other&#160;leaf&#160;events.&#160;Node<br/>A&#160;creates&#160;an&#160;event&#160;block&#160;v1&#160;and&#160;A&#160;calculates&#160;the&#160;cost&#160;functions.&#160;Step&#160;2&#160;in&#160;Figure&#160;4&#160;shows&#160;the&#160;results&#160;of&#160;cost&#160;functions<br/>based&#160;on&#160;the&#160;height&#160;and&#160;in-degree&#160;vectors&#160;of&#160;node&#160;A.&#160;In&#160;the&#160;initial&#160;step,&#160;each&#160;value&#160;in&#160;the&#160;vectors&#160;are&#160;same&#160;because&#160;all<br/>nodes&#160;have&#160;only&#160;leaf&#160;events.&#160;Node&#160;A&#160;randomly&#160;selects&#160;k&#160;nodes&#160;and&#160;connects&#160;v1&#160;to&#160;the&#160;leaf&#160;events&#160;of&#160;selected&#160;nodes.&#160;In<br/>this&#160;example,&#160;we&#160;set&#160;k=3&#160;and&#160;assume&#160;that&#160;node&#160;A&#160;selects&#160;node&#160;B&#160;and&#160;C.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft132">12</p>
</div>
<!-- Page 14 -->
<a name="14"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1426{font-size:3px;font-family:Times;color:#000000;}
	.ft1427{font-size:7px;font-family:Times;color:#000000;}
	.ft1428{font-size:14px;font-family:Times;color:#000000;}
	.ft1429{font-size:14px;font-family:Times;color:#000000;}
	.ft1430{font-size:8px;font-family:Times;color:#000000;}
	.ft1431{font-size:5px;font-family:Times;color:#000000;}
	.ft1432{font-size:5px;font-family:Times;color:#000000;}
	.ft1433{font-size:8px;line-height:15px;font-family:Times;color:#000000;}
-->
</style>
<div id="page14-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft142">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:365px;left:563px;white-space:nowrap" class="ft1423"><i>Cf&#160;</i>(B)<i>=&#160;0.5&#160;&#160;Cf&#160;</i>(C)<i>=&#160;3&#160;Cf&#160;</i>(D)<i>=&#160;0.5&#160;Cf&#160;</i>(E)<i>=&#160;1</i></p>
<p style="position:absolute;top:188px;left:238px;white-space:nowrap" class="ft1418">b0</p>
<p style="position:absolute;top:238px;left:238px;white-space:nowrap" class="ft1418">c0</p>
<p style="position:absolute;top:140px;left:314px;white-space:nowrap" class="ft1418">a1</p>
<p style="position:absolute;top:287px;left:238px;white-space:nowrap" class="ft1418">d0</p>
<p style="position:absolute;top:139px;left:239px;white-space:nowrap" class="ft1418">a0</p>
<p style="position:absolute;top:336px;left:238px;white-space:nowrap" class="ft1418">e0</p>
<p style="position:absolute;top:150px;left:185px;white-space:nowrap" class="ft1427"><b>node&#160;A</b></p>
<p style="position:absolute;top:197px;left:185px;white-space:nowrap" class="ft1427"><b>node&#160;B</b></p>
<p style="position:absolute;top:246px;left:185px;white-space:nowrap" class="ft1427"><b>node&#160;C</b></p>
<p style="position:absolute;top:295px;left:185px;white-space:nowrap" class="ft1427"><b>node&#160;D</b></p>
<p style="position:absolute;top:345px;left:185px;white-space:nowrap" class="ft1427"><b>node&#160;E</b></p>
<p style="position:absolute;top:187px;left:511px;white-space:nowrap" class="ft147">Height&#160;vector</p>
<p style="position:absolute;top:269px;left:511px;white-space:nowrap" class="ft147">In-degree&#160;vector</p>
<p style="position:absolute;top:217px;left:539px;white-space:nowrap" class="ft1418">A</p>
<p style="position:absolute;top:217px;left:580px;white-space:nowrap" class="ft1418">B</p>
<p style="position:absolute;top:217px;left:621px;white-space:nowrap" class="ft1418">C</p>
<p style="position:absolute;top:217px;left:662px;white-space:nowrap" class="ft1418">D</p>
<p style="position:absolute;top:217px;left:703px;white-space:nowrap" class="ft1418">E</p>
<p style="position:absolute;top:241px;left:540px;white-space:nowrap" class="ft1418">3</p>
<p style="position:absolute;top:241px;left:581px;white-space:nowrap" class="ft1418">2</p>
<p style="position:absolute;top:241px;left:622px;white-space:nowrap" class="ft1418">1</p>
<p style="position:absolute;top:241px;left:663px;white-space:nowrap" class="ft1418">2</p>
<p style="position:absolute;top:241px;left:703px;white-space:nowrap" class="ft1418">1</p>
<p style="position:absolute;top:294px;left:539px;white-space:nowrap" class="ft1418">A</p>
<p style="position:absolute;top:294px;left:580px;white-space:nowrap" class="ft1418">B</p>
<p style="position:absolute;top:294px;left:621px;white-space:nowrap" class="ft1418">C</p>
<p style="position:absolute;top:294px;left:662px;white-space:nowrap" class="ft1418">D</p>
<p style="position:absolute;top:294px;left:703px;white-space:nowrap" class="ft1418">E</p>
<p style="position:absolute;top:319px;left:541px;white-space:nowrap" class="ft1418">-</p>
<p style="position:absolute;top:319px;left:581px;white-space:nowrap" class="ft1418">1</p>
<p style="position:absolute;top:319px;left:622px;white-space:nowrap" class="ft1418">3</p>
<p style="position:absolute;top:319px;left:663px;white-space:nowrap" class="ft1418">1</p>
<p style="position:absolute;top:319px;left:703px;white-space:nowrap" class="ft1418">1</p>
<p style="position:absolute;top:162px;left:671px;white-space:nowrap" class="ft1428"><b>Node&#160;<i>A</i></b></p>
<p style="position:absolute;top:119px;left:495px;white-space:nowrap" class="ft1433">Cost&#160;function:&#160;&#160;<i>Cf&#160;=&#160;I/H&#160;<br/></i>(<i>I</i>:&#160;In-degree&#160;&#160;vector&#160;&#160;/&#160;<i>H</i>:&#160;Height&#160;vector)</p>
<p style="position:absolute;top:188px;left:342px;white-space:nowrap" class="ft1418">b1</p>
<p style="position:absolute;top:140px;left:406px;white-space:nowrap" class="ft1418">a2</p>
<p style="position:absolute;top:140px;left:462px;white-space:nowrap" class="ft1418">a3</p>
<p style="position:absolute;top:287px;left:432px;white-space:nowrap" class="ft1418">d1</p>
<p style="position:absolute;top:397px;left:334px;white-space:nowrap" class="ft142">Figure&#160;5:&#160;An&#160;Example&#160;of&#160;Cost&#160;Function&#160;2</p>
<p style="position:absolute;top:454px;left:108px;white-space:nowrap" class="ft145">Figure&#160;5&#160;shows&#160;an&#160;example&#160;of&#160;the&#160;node&#160;selection&#160;after&#160;a&#160;few&#160;steps&#160;of&#160;the&#160;simulation&#160;in&#160;Figure&#160;4.&#160;In&#160;Figure&#160;5,&#160;the&#160;recent<br/>event&#160;block&#160;is&#160;v5&#160;created&#160;by&#160;node&#160;A.&#160;Node&#160;A&#160;calculates&#160;the&#160;cost&#160;function&#160;and&#160;selects&#160;the&#160;other&#160;two&#160;nodes&#160;that&#160;have&#160;the<br/>lowest&#160;results&#160;of&#160;the&#160;cost&#160;function.&#160;In&#160;this&#160;example,&#160;node&#160;B&#160;has&#160;0.5&#160;as&#160;the&#160;result&#160;and&#160;other&#160;nodes&#160;have&#160;the&#160;same&#160;values.<br/>Because&#160;of&#160;this,&#160;node&#160;A&#160;first&#160;selects&#160;node&#160;B&#160;and&#160;randomly&#160;selects&#160;other&#160;nodes&#160;among&#160;nodes&#160;C,&#160;D,&#160;and&#160;E.</p>
<p style="position:absolute;top:528px;left:108px;white-space:nowrap" class="ft145">The&#160;height&#160;of&#160;node&#160;D&#160;in&#160;the&#160;example&#160;is&#160;2&#160;(leaf&#160;event&#160;and&#160;event&#160;block&#160;v4).&#160;On&#160;the&#160;other&#160;hand,&#160;the&#160;height&#160;of&#160;node&#160;D&#160;in<br/>node&#160;structure&#160;of&#160;A&#160;is&#160;1.&#160;Node&#160;A&#160;is&#160;still&#160;not&#160;aware&#160;of&#160;the&#160;presence&#160;of&#160;the&#160;event&#160;block&#160;v4.&#160;It&#160;means&#160;that&#160;there&#160;is&#160;no&#160;path<br/>from&#160;the&#160;event&#160;blocks&#160;created&#160;by&#160;node&#160;A&#160;to&#160;the&#160;event&#160;block&#160;v4.&#160;Thus,&#160;node&#160;A&#160;has&#160;1&#160;as&#160;the&#160;height&#160;of&#160;node&#160;D.</p>
<p style="position:absolute;top:610px;left:108px;white-space:nowrap" class="ft142">Algorithm&#160;3&#160;k-neighbor&#160;Node&#160;Selection</p>
<p style="position:absolute;top:631px;left:115px;white-space:nowrap" class="ft1411">1:</p>
<p style="position:absolute;top:630px;left:133px;white-space:nowrap" class="ft142">procedure&#160;k-NODE&#160;SELECTION</p>
<p style="position:absolute;top:647px;left:115px;white-space:nowrap" class="ft1411">2:</p>
<p style="position:absolute;top:646px;left:156px;white-space:nowrap" class="ft142">Input:&#160;Height&#160;Vector&#160;H,&#160;In-degree&#160;Vector&#160;I</p>
<p style="position:absolute;top:664px;left:115px;white-space:nowrap" class="ft1411">3:</p>
<p style="position:absolute;top:663px;left:156px;white-space:nowrap" class="ft142">Output:&#160;reference&#160;node&#160;ref</p>
<p style="position:absolute;top:680px;left:115px;white-space:nowrap" class="ft1411">4:</p>
<p style="position:absolute;top:679px;left:156px;white-space:nowrap" class="ft142">min&#160;cost&#160;←&#160;IN&#160;F</p>
<p style="position:absolute;top:696px;left:115px;white-space:nowrap" class="ft1411">5:</p>
<p style="position:absolute;top:695px;left:156px;white-space:nowrap" class="ft142">sref&#160;←&#160;None</p>
<p style="position:absolute;top:713px;left:115px;white-space:nowrap" class="ft1411">6:</p>
<p style="position:absolute;top:712px;left:156px;white-space:nowrap" class="ft142">for&#160;k&#160;∈&#160;N&#160;ode&#160;Set&#160;do</p>
<p style="position:absolute;top:729px;left:115px;white-space:nowrap" class="ft1411">7:</p>
<p style="position:absolute;top:728px;left:178px;white-space:nowrap" class="ft142">cf&#160;←</p>
<p style="position:absolute;top:725px;left:219px;white-space:nowrap" class="ft147">Ik</p>
<p style="position:absolute;top:736px;left:217px;white-space:nowrap" class="ft147">Hk</p>
<p style="position:absolute;top:748px;left:115px;white-space:nowrap" class="ft1411">8:</p>
<p style="position:absolute;top:747px;left:178px;white-space:nowrap" class="ft142">if&#160;min&#160;cost&#160;&gt;&#160;cf&#160;then</p>
<p style="position:absolute;top:764px;left:115px;white-space:nowrap" class="ft1411">9:</p>
<p style="position:absolute;top:763px;left:201px;white-space:nowrap" class="ft142">min&#160;cost&#160;←&#160;cf</p>
<p style="position:absolute;top:780px;left:109px;white-space:nowrap" class="ft1411">10:</p>
<p style="position:absolute;top:779px;left:201px;white-space:nowrap" class="ft142">sref&#160;←&#160;k</p>
<p style="position:absolute;top:797px;left:109px;white-space:nowrap" class="ft1411">11:</p>
<p style="position:absolute;top:796px;left:178px;white-space:nowrap" class="ft142">else&#160;if&#160;min&#160;cost&#160;equal&#160;cf&#160;then</p>
<p style="position:absolute;top:813px;left:109px;white-space:nowrap" class="ft1411">12:</p>
<p style="position:absolute;top:812px;left:201px;white-space:nowrap" class="ft142">sref&#160;←&#160;sref&#160;∪&#160;k</p>
<p style="position:absolute;top:834px;left:109px;white-space:nowrap" class="ft1411">13:</p>
<p style="position:absolute;top:833px;left:156px;white-space:nowrap" class="ft142">ref&#160;←&#160;random&#160;select&#160;in&#160;sref</p>
<p style="position:absolute;top:898px;left:108px;white-space:nowrap" class="ft145">Algorithm&#160;3&#160;shows&#160;the&#160;selecting&#160;algorithm&#160;for&#160;selecting&#160;reference&#160;nodes.&#160;The&#160;algorithm&#160;operates&#160;for&#160;each&#160;node&#160;to<br/>select&#160;a&#160;communication&#160;partner&#160;from&#160;other&#160;nodes.&#160;Line&#160;4&#160;and&#160;5&#160;set&#160;min&#160;cost&#160;and&#160;Sref&#160;to&#160;initial&#160;state.&#160;Line&#160;7&#160;calculates<br/>the&#160;cost&#160;function&#160;cf&#160;for&#160;each&#160;node.&#160;In&#160;line&#160;8,&#160;9,&#160;and&#160;10,&#160;we&#160;find&#160;the&#160;minimum&#160;value&#160;of&#160;the&#160;cost&#160;function&#160;and&#160;set&#160;min&#160;cost<br/>and&#160;Sref&#160;to&#160;cf&#160;and&#160;the&#160;ID&#160;of&#160;each&#160;node&#160;respectively.&#160;Line&#160;11&#160;and&#160;12&#160;append&#160;the&#160;ID&#160;of&#160;each&#160;node&#160;to&#160;Sref&#160;if&#160;min&#160;cost<br/>equals&#160;cf&#160;.&#160;Finally,&#160;line&#160;13&#160;selects&#160;randomly&#160;k&#160;node&#160;IDs&#160;from&#160;Sref&#160;as&#160;communication&#160;partners.&#160;The&#160;time&#160;complexity<br/>of&#160;Algorithm&#160;2&#160;is&#160;O(n),&#160;where&#160;n&#160;is&#160;the&#160;number&#160;of&#160;nodes.</p>
<p style="position:absolute;top:1004px;left:108px;white-space:nowrap" class="ft145">After&#160;the&#160;reference&#160;node&#160;is&#160;selected,&#160;each&#160;node&#160;communicates&#160;and&#160;shares&#160;information&#160;of&#160;all&#160;event&#160;blocks&#160;known&#160;by<br/>them.&#160;A&#160;node&#160;creates&#160;an&#160;event&#160;block&#160;by&#160;referring&#160;to&#160;the&#160;top&#160;event&#160;block&#160;of&#160;the&#160;reference&#160;node.&#160;The&#160;Lachesis&#160;protocol<br/>works&#160;and&#160;communicates&#160;asynchronously.&#160;This&#160;allows&#160;a&#160;node&#160;to&#160;create&#160;an&#160;event&#160;block&#160;asynchronously&#160;even&#160;when<br/>another&#160;node&#160;creates&#160;an&#160;event&#160;block.&#160;The&#160;communication&#160;between&#160;nodes&#160;does&#160;not&#160;allow&#160;simultaneous&#160;communication<br/>with&#160;the&#160;same&#160;node.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft142">13</p>
</div>
<!-- Page 15 -->
<a name="15"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1534{font-size:9px;font-family:Times;color:#000000;}
-->
</style>
<div id="page15-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft152">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:168px;left:165px;white-space:nowrap" class="ft153">b0</p>
<p style="position:absolute;top:218px;left:166px;white-space:nowrap" class="ft153">c0</p>
<p style="position:absolute;top:118px;left:232px;white-space:nowrap" class="ft153">a1</p>
<p style="position:absolute;top:269px;left:165px;white-space:nowrap" class="ft153">d0</p>
<p style="position:absolute;top:118px;left:166px;white-space:nowrap" class="ft153">a0</p>
<p style="position:absolute;top:318px;left:165px;white-space:nowrap" class="ft153">e0</p>
<p style="position:absolute;top:133px;left:116px;white-space:nowrap" class="ft1534"><b>node&#160;A</b></p>
<p style="position:absolute;top:180px;left:116px;white-space:nowrap" class="ft1534"><b>node&#160;B</b></p>
<p style="position:absolute;top:230px;left:116px;white-space:nowrap" class="ft1534"><b>node&#160;C</b></p>
<p style="position:absolute;top:281px;left:116px;white-space:nowrap" class="ft1534"><b>node&#160;D</b></p>
<p style="position:absolute;top:330px;left:116px;white-space:nowrap" class="ft1534"><b>node&#160;E</b></p>
<p style="position:absolute;top:380px;left:153px;white-space:nowrap" class="ft1515"><b>Step&#160;1</b></p>
<p style="position:absolute;top:167px;left:337px;white-space:nowrap" class="ft153">b0</p>
<p style="position:absolute;top:218px;left:337px;white-space:nowrap" class="ft153">c0</p>
<p style="position:absolute;top:116px;left:403px;white-space:nowrap" class="ft153">a1</p>
<p style="position:absolute;top:268px;left:337px;white-space:nowrap" class="ft153">d0</p>
<p style="position:absolute;top:118px;left:337px;white-space:nowrap" class="ft153">a0</p>
<p style="position:absolute;top:317px;left:337px;white-space:nowrap" class="ft153">e0</p>
<p style="position:absolute;top:132px;left:287px;white-space:nowrap" class="ft1534"><b>node&#160;A</b></p>
<p style="position:absolute;top:179px;left:287px;white-space:nowrap" class="ft1534"><b>node&#160;B</b></p>
<p style="position:absolute;top:230px;left:287px;white-space:nowrap" class="ft1534"><b>node&#160;C</b></p>
<p style="position:absolute;top:279px;left:287px;white-space:nowrap" class="ft1534"><b>node&#160;D</b></p>
<p style="position:absolute;top:329px;left:287px;white-space:nowrap" class="ft1534"><b>node&#160;E</b></p>
<p style="position:absolute;top:380px;left:325px;white-space:nowrap" class="ft1515"><b>Step&#160;2</b></p>
<p style="position:absolute;top:167px;left:504px;white-space:nowrap" class="ft153">b0</p>
<p style="position:absolute;top:218px;left:504px;white-space:nowrap" class="ft153">c0</p>
<p style="position:absolute;top:116px;left:570px;white-space:nowrap" class="ft153">a1</p>
<p style="position:absolute;top:268px;left:504px;white-space:nowrap" class="ft153">d0</p>
<p style="position:absolute;top:118px;left:504px;white-space:nowrap" class="ft153">a0</p>
<p style="position:absolute;top:317px;left:504px;white-space:nowrap" class="ft153">e0</p>
<p style="position:absolute;top:132px;left:454px;white-space:nowrap" class="ft1534"><b>node&#160;A</b></p>
<p style="position:absolute;top:179px;left:454px;white-space:nowrap" class="ft1534"><b>node&#160;B</b></p>
<p style="position:absolute;top:230px;left:454px;white-space:nowrap" class="ft1534"><b>node&#160;C</b></p>
<p style="position:absolute;top:279px;left:454px;white-space:nowrap" class="ft1534"><b>node&#160;D</b></p>
<p style="position:absolute;top:329px;left:454px;white-space:nowrap" class="ft1534"><b>node&#160;E</b></p>
<p style="position:absolute;top:380px;left:492px;white-space:nowrap" class="ft1515"><b>Step&#160;3</b></p>
<p style="position:absolute;top:167px;left:597px;white-space:nowrap" class="ft153">b1</p>
<p style="position:absolute;top:167px;left:695px;white-space:nowrap" class="ft153">b0</p>
<p style="position:absolute;top:218px;left:695px;white-space:nowrap" class="ft153">c0</p>
<p style="position:absolute;top:116px;left:762px;white-space:nowrap" class="ft153">a1</p>
<p style="position:absolute;top:268px;left:695px;white-space:nowrap" class="ft153">d0</p>
<p style="position:absolute;top:118px;left:696px;white-space:nowrap" class="ft153">a0</p>
<p style="position:absolute;top:317px;left:695px;white-space:nowrap" class="ft153">e0</p>
<p style="position:absolute;top:132px;left:646px;white-space:nowrap" class="ft1534"><b>node&#160;A</b></p>
<p style="position:absolute;top:179px;left:646px;white-space:nowrap" class="ft1534"><b>node&#160;B</b></p>
<p style="position:absolute;top:230px;left:646px;white-space:nowrap" class="ft1534"><b>node&#160;C</b></p>
<p style="position:absolute;top:279px;left:646px;white-space:nowrap" class="ft1534"><b>node&#160;D</b></p>
<p style="position:absolute;top:329px;left:646px;white-space:nowrap" class="ft1534"><b>node&#160;E</b></p>
<p style="position:absolute;top:380px;left:683px;white-space:nowrap" class="ft1515"><b>Step&#160;4</b></p>
<p style="position:absolute;top:167px;left:789px;white-space:nowrap" class="ft153">b1</p>
<p style="position:absolute;top:422px;left:336px;white-space:nowrap" class="ft152">Figure&#160;6:&#160;An&#160;Example&#160;of&#160;Node&#160;Selection</p>
<p style="position:absolute;top:468px;left:108px;white-space:nowrap" class="ft152">Figure&#160;6&#160;shows&#160;an&#160;example&#160;of&#160;the&#160;node&#160;selection&#160;in&#160;Lachesis&#160;protocol.</p>
<p style="position:absolute;top:468px;left:575px;white-space:nowrap" class="ft152">In&#160;this&#160;example,&#160;there&#160;are&#160;five&#160;nodes</p>
<p style="position:absolute;top:484px;left:108px;white-space:nowrap" class="ft155">(A,&#160;B,&#160;C,&#160;D,&#160;and&#160;E)&#160;and&#160;each&#160;node&#160;generates&#160;the&#160;first&#160;event&#160;blocks,&#160;called&#160;leaf&#160;events.&#160;All&#160;nodes&#160;share&#160;other&#160;leaf<br/>events&#160;with&#160;each&#160;other.&#160;In&#160;the&#160;first&#160;step,&#160;node&#160;A&#160;generates&#160;new&#160;event&#160;block&#160;a1.&#160;Then&#160;node&#160;A&#160;calculates&#160;the&#160;cost<br/>function&#160;to&#160;connect&#160;other&#160;nodes.&#160;In&#160;this&#160;initial&#160;situation,&#160;all&#160;nodes&#160;have&#160;one&#160;event&#160;block&#160;called&#160;leaf&#160;event,&#160;thus&#160;the<br/>height&#160;vector&#160;and&#160;the&#160;in-degree&#160;vector&#160;in&#160;node&#160;A&#160;has&#160;same&#160;values.&#160;In&#160;other&#160;words,&#160;the&#160;heights&#160;of&#160;each&#160;node&#160;are&#160;1&#160;and<br/>in-degrees&#160;are&#160;0.&#160;Node&#160;A&#160;randomly&#160;select&#160;the&#160;other&#160;two&#160;nodes&#160;and&#160;connects&#160;a1&#160;to&#160;the&#160;top&#160;two&#160;event&#160;blocks&#160;from&#160;the<br/>other&#160;two&#160;nodes.&#160;Step&#160;2&#160;shows&#160;the&#160;situation&#160;after&#160;connections.&#160;In&#160;this&#160;example,&#160;node&#160;A&#160;select&#160;node&#160;B&#160;and&#160;C&#160;to&#160;connect<br/>a1&#160;and&#160;the&#160;event&#160;block&#160;a1&#160;is&#160;connected&#160;to&#160;the&#160;top&#160;event&#160;blocks&#160;of&#160;node&#160;B&#160;and&#160;C.&#160;Node&#160;A&#160;only&#160;knows&#160;the&#160;situation&#160;of<br/>the&#160;step&#160;2.</p>
<p style="position:absolute;top:624px;left:108px;white-space:nowrap" class="ft155">After&#160;that,&#160;in&#160;the&#160;example,&#160;node&#160;B&#160;generates&#160;a&#160;new&#160;event&#160;block&#160;b1&#160;and&#160;also&#160;calculates&#160;the&#160;cost&#160;function.&#160;B&#160;randomly<br/>select&#160;the&#160;other&#160;two&#160;nodes;&#160;A,&#160;and&#160;D,&#160;since&#160;B&#160;only&#160;has&#160;information&#160;of&#160;the&#160;leaf&#160;events.&#160;Node&#160;B&#160;requests&#160;to&#160;A&#160;and&#160;D<br/>to&#160;connect&#160;b1,&#160;then&#160;nodes&#160;A&#160;and&#160;D&#160;send&#160;information&#160;for&#160;their&#160;top&#160;event&#160;blocks&#160;to&#160;node&#160;B&#160;as&#160;response.&#160;The&#160;top&#160;event<br/>block&#160;of&#160;node&#160;A&#160;is&#160;a1&#160;and&#160;node&#160;D&#160;is&#160;the&#160;leaf&#160;event.&#160;The&#160;event&#160;block&#160;b1&#160;is&#160;connected&#160;to&#160;a1&#160;and&#160;leaf&#160;event&#160;from&#160;node&#160;D.<br/>Step&#160;4&#160;shows&#160;these&#160;connections.</p>
<p style="position:absolute;top:725px;left:108px;white-space:nowrap" class="ft152">3.6</p>
<p style="position:absolute;top:725px;left:142px;white-space:nowrap" class="ft152">Event&#160;block&#160;creation</p>
<p style="position:absolute;top:755px;left:108px;white-space:nowrap" class="ft155">In&#160;the&#160;Lachesis&#160;protocol,&#160;every&#160;node&#160;can&#160;create&#160;an&#160;event&#160;block.&#160;Each&#160;event&#160;block&#160;refers&#160;to&#160;other&#160;k&#160;event&#160;blocks&#160;using<br/>their&#160;hash&#160;values.&#160;In&#160;the&#160;Lachesis&#160;protocol,&#160;a&#160;new&#160;event&#160;block&#160;refers&#160;to&#160;k-neighbor&#160;event&#160;blocks&#160;under&#160;the&#160;following<br/>conditions:</p>
<p style="position:absolute;top:820px;left:143px;white-space:nowrap" class="ft152">1.&#160;Each&#160;of&#160;the&#160;k&#160;reference&#160;event&#160;blocks&#160;is&#160;the&#160;top&#160;event&#160;blocks&#160;of&#160;its&#160;own&#160;node.</p>
<p style="position:absolute;top:842px;left:143px;white-space:nowrap" class="ft152">2.&#160;One&#160;reference&#160;should&#160;be&#160;made&#160;to&#160;a&#160;self-ref&#160;that&#160;references&#160;to&#160;an&#160;event&#160;block&#160;of&#160;the&#160;same&#160;node.</p>
<p style="position:absolute;top:864px;left:143px;white-space:nowrap" class="ft152">3.&#160;The&#160;other&#160;k-1&#160;reference&#160;refers&#160;to&#160;the&#160;other&#160;k-1&#160;top&#160;event&#160;nodes&#160;on&#160;other&#160;nodes.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft152">14</p>
</div>
<!-- Page 16 -->
<a name="16"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1635{font-size:10px;font-family:Times;color:#000000;}
	.ft1636{font-size:10px;font-family:Times;color:#000000;}
	.ft1637{font-size:19px;font-family:Times;color:#000000;}
	.ft1638{font-size:19px;font-family:Times;color:#000000;}
	.ft1639{font-size:9px;line-height:13px;font-family:Times;color:#000000;}
	.ft1640{font-size:9px;line-height:14px;font-family:Times;color:#000000;}
-->
</style>
<div id="page16-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft162">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:124px;left:117px;white-space:nowrap" class="ft1635">a0</p>
<p style="position:absolute;top:194px;left:116px;white-space:nowrap" class="ft1635">b0</p>
<p style="position:absolute;top:264px;left:117px;white-space:nowrap" class="ft1635">c0</p>
<p style="position:absolute;top:334px;left:118px;white-space:nowrap" class="ft1635">d0</p>
<p style="position:absolute;top:404px;left:118px;white-space:nowrap" class="ft1635">e0</p>
<p style="position:absolute;top:124px;left:173px;white-space:nowrap" class="ft1635">a1</p>
<p style="position:absolute;top:264px;left:199px;white-space:nowrap" class="ft1635">c1</p>
<p style="position:absolute;top:194px;left:258px;white-space:nowrap" class="ft1635">b1</p>
<p style="position:absolute;top:157px;left:355px;white-space:nowrap" class="ft1636"><b>Flag&#160;Table</b></p>
<p style="position:absolute;top:330px;left:534px;white-space:nowrap" class="ft1636"><b>OPERA&#160;chain&#160;</b></p>
<p style="position:absolute;top:184px;left:380px;white-space:nowrap" class="ft1627"><b>A</b></p>
<p style="position:absolute;top:184px;left:437px;white-space:nowrap" class="ft1627"><b>{a0, b0,&#160;&#160;c0}</b></p>
<p style="position:absolute;top:214px;left:380px;white-space:nowrap" class="ft1627"><b>B</b></p>
<p style="position:absolute;top:214px;left:430px;white-space:nowrap" class="ft1627"><b>{a0, b0,&#160;&#160;c0, d0}</b></p>
<p style="position:absolute;top:243px;left:380px;white-space:nowrap" class="ft1627"><b>C</b></p>
<p style="position:absolute;top:243px;left:438px;white-space:nowrap" class="ft1627"><b>{b0,&#160;&#160;c0, d0}</b></p>
<p style="position:absolute;top:272px;left:380px;white-space:nowrap" class="ft1627"><b>D</b></p>
<p style="position:absolute;top:272px;left:452px;white-space:nowrap" class="ft1627"><b>{d0}</b></p>
<p style="position:absolute;top:301px;left:380px;white-space:nowrap" class="ft1627"><b>E</b></p>
<p style="position:absolute;top:301px;left:452px;white-space:nowrap" class="ft1627"><b>{e0}</b></p>
<p style="position:absolute;top:239px;left:536px;white-space:nowrap" class="ft1636"><b>Clotho&#160;Check&#160;List</b></p>
<p style="position:absolute;top:263px;left:629px;white-space:nowrap" class="ft1627"><b>a0</b></p>
<p style="position:absolute;top:263px;left:666px;white-space:nowrap" class="ft1627"><b>b0</b></p>
<p style="position:absolute;top:263px;left:703px;white-space:nowrap" class="ft1627"><b>c0</b></p>
<p style="position:absolute;top:263px;left:739px;white-space:nowrap" class="ft1627"><b>d0</b></p>
<p style="position:absolute;top:263px;left:776px;white-space:nowrap" class="ft1627"><b>e0</b></p>
<p style="position:absolute;top:284px;left:632px;white-space:nowrap" class="ft1627"><b>-</b></p>
<p style="position:absolute;top:284px;left:668px;white-space:nowrap" class="ft1627"><b>-</b></p>
<p style="position:absolute;top:284px;left:705px;white-space:nowrap" class="ft1627"><b>-</b></p>
<p style="position:absolute;top:284px;left:742px;white-space:nowrap" class="ft1627"><b>-</b></p>
<p style="position:absolute;top:284px;left:778px;white-space:nowrap" class="ft1627"><b>-</b></p>
<p style="position:absolute;top:305px;left:632px;white-space:nowrap" class="ft1627"><b>-</b></p>
<p style="position:absolute;top:305px;left:668px;white-space:nowrap" class="ft1627"><b>-</b></p>
<p style="position:absolute;top:305px;left:705px;white-space:nowrap" class="ft1627"><b>-</b></p>
<p style="position:absolute;top:305px;left:742px;white-space:nowrap" class="ft1627"><b>-</b></p>
<p style="position:absolute;top:305px;left:778px;white-space:nowrap" class="ft1627"><b>-</b></p>
<p style="position:absolute;top:263px;left:589px;white-space:nowrap" class="ft1627"><b>Root</b></p>
<p style="position:absolute;top:284px;left:592px;white-space:nowrap" class="ft1627"><b>CC</b></p>
<p style="position:absolute;top:305px;left:596px;white-space:nowrap" class="ft1627"><b>C</b></p>
<p style="position:absolute;top:284px;left:557px;white-space:nowrap" class="ft1627"><b>f1</b></p>
<p style="position:absolute;top:155px;left:537px;white-space:nowrap" class="ft1636"><b>Frames</b></p>
<p style="position:absolute;top:183px;left:567px;white-space:nowrap" class="ft1627"><b>f1</b></p>
<p style="position:absolute;top:183px;left:636px;white-space:nowrap" class="ft1627"><b>{a0, b0,&#160;&#160;c0, d0, e0}</b></p>
<p style="position:absolute;top:212px;left:567px;white-space:nowrap" class="ft1627"><b>f2</b></p>
<p style="position:absolute;top:212px;left:666px;white-space:nowrap" class="ft1627"><b>{b1}</b></p>
<p style="position:absolute;top:127px;left:713px;white-space:nowrap" class="ft1637"><b>Node&#160;<i>B</i></b></p>
<p style="position:absolute;top:443px;left:269px;white-space:nowrap" class="ft162">Figure&#160;7:&#160;An&#160;Example&#160;of&#160;Event&#160;Block&#160;Creation&#160;with&#160;Flag&#160;Table</p>
<p style="position:absolute;top:496px;left:108px;white-space:nowrap" class="ft165">Figure&#160;7&#160;shows&#160;the&#160;example&#160;of&#160;an&#160;event&#160;block&#160;creation&#160;with&#160;a&#160;flag&#160;table.&#160;In&#160;this&#160;example&#160;the&#160;recent&#160;created&#160;event&#160;block<br/>is&#160;b1&#160;by&#160;node&#160;B.&#160;The&#160;figure&#160;shows&#160;the&#160;node&#160;structure&#160;of&#160;node&#160;B.&#160;We&#160;omit&#160;the&#160;other&#160;information&#160;such&#160;as&#160;height&#160;and<br/>in-degree&#160;vectors&#160;since&#160;we&#160;only&#160;focus&#160;on&#160;the&#160;change&#160;of&#160;the&#160;flag&#160;table&#160;with&#160;the&#160;event&#160;block&#160;creation&#160;in&#160;this&#160;example.<br/>The&#160;flag&#160;table&#160;of&#160;b1&#160;in&#160;Figure&#160;7&#160;is&#160;updated&#160;with&#160;the&#160;information&#160;of&#160;the&#160;previous&#160;connected&#160;event&#160;blocks&#160;a1,&#160;b0,&#160;and&#160;c1.<br/>Thus,&#160;the&#160;set&#160;of&#160;the&#160;flag&#160;table&#160;is&#160;the&#160;results&#160;of&#160;OR&#160;operation&#160;among&#160;the&#160;three&#160;root&#160;sets&#160;for&#160;a1&#160;(a0,&#160;b0,&#160;and&#160;c0),&#160;b0&#160;(b0),<br/>and&#160;c1&#160;(b0,&#160;c0,&#160;and&#160;d0).</p>
<p style="position:absolute;top:796px;left:291px;white-space:nowrap" class="ft1639">Step 1. A&#160;requests&#160;to&#160;B<br/>Step 2. B&#160;responses&#160;to A<br/>Step 3. A&#160;sends&#160;to B&#160;that&#160;A&#160;knows&#160;the&#160;information&#160;&#160;of&#160;B<br/>Step 4. B&#160;is&#160;sent&#160;to A&#160;by adding&#160;the&#160;information&#160;&#160;received&#160;&#160;and its&#160;latest&#160;information<br/>Step 5. Termination</p>
<p style="position:absolute;top:627px;left:224px;white-space:nowrap" class="ft164">node&#160;A</p>
<p style="position:absolute;top:627px;left:492px;white-space:nowrap" class="ft164">node&#160;B</p>
<p style="position:absolute;top:654px;left:349px;white-space:nowrap" class="ft1618">Request&#160;to&#160;B&#160;(C1)</p>
<p style="position:absolute;top:686px;left:345px;white-space:nowrap" class="ft1618">Response&#160;to&#160;A&#160;(C2)</p>
<p style="position:absolute;top:731px;left:349px;white-space:nowrap" class="ft1618">Synchronous&#160;(C3)</p>
<p style="position:absolute;top:796px;left:251px;white-space:nowrap" class="ft1634"><b>C1</b></p>
<p style="position:absolute;top:808px;left:251px;white-space:nowrap" class="ft1634"><b>C2</b></p>
<p style="position:absolute;top:831px;left:251px;white-space:nowrap" class="ft1634"><b>C3</b></p>
<p style="position:absolute;top:890px;left:309px;white-space:nowrap" class="ft162">Figure&#160;8:&#160;An&#160;Example&#160;of&#160;Communication&#160;Process</p>
<p style="position:absolute;top:943px;left:108px;white-space:nowrap" class="ft165">Figure&#160;8,&#160;shows&#160;the&#160;communication&#160;process&#160;is&#160;divided&#160;into&#160;five&#160;steps&#160;for&#160;two&#160;nodes&#160;to&#160;create&#160;an&#160;event&#160;block.&#160;Simply,<br/>a&#160;node&#160;A&#160;requests&#160;to&#160;B.&#160;then,&#160;B&#160;responds&#160;to&#160;A&#160;directly.</p>
<p style="position:absolute;top:1004px;left:108px;white-space:nowrap" class="ft162">3.7</p>
<p style="position:absolute;top:1004px;left:142px;white-space:nowrap" class="ft162">Topological&#160;ordering&#160;of&#160;events&#160;using&#160;Lamport&#160;timestamps</p>
<p style="position:absolute;top:1037px;left:108px;white-space:nowrap" class="ft165">Every&#160;node&#160;has&#160;a&#160;physical&#160;clock&#160;and&#160;it&#160;needs&#160;physical&#160;time&#160;to&#160;create&#160;an&#160;event&#160;block.&#160;However,&#160;for&#160;consensus,&#160;Lachesis<br/>protocols&#160;relies&#160;on&#160;a&#160;logical&#160;clock&#160;for&#160;each&#160;node.&#160;For&#160;the&#160;purpose,&#160;we&#160;use&#160;”Lamport&#160;timestamps”&#160;[11]&#160;to&#160;determine<br/>the&#160;time&#160;ordering&#160;between&#160;event&#160;blocks&#160;in&#160;a&#160;asynchronous&#160;distributed&#160;system.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft162">15</p>
</div>
<!-- Page 17 -->
<a name="17"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1741{font-size:8px;font-family:Times;color:#0000ff;}
	.ft1742{font-size:8px;font-family:Times;color:#01ff00;}
	.ft1743{font-size:8px;font-family:Times;color:#ff0000;}
	.ft1744{font-size:8px;font-family:Times;color:#ff00ff;}
	.ft1745{font-size:8px;line-height:11px;font-family:Times;color:#000000;}
-->
</style>
<div id="page17-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft172">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:116px;left:119px;white-space:nowrap" class="ft177">1</p>
<p style="position:absolute;top:174px;left:118px;white-space:nowrap" class="ft177">1’</p>
<p style="position:absolute;top:232px;left:116px;white-space:nowrap" class="ft177">1’’</p>
<p style="position:absolute;top:290px;left:115px;white-space:nowrap" class="ft177">1’’</p>
<p style="position:absolute;top:349px;left:115px;white-space:nowrap" class="ft177">1’’&#160;’</p>
<p style="position:absolute;top:116px;left:167px;white-space:nowrap" class="ft177">2</p>
<p style="position:absolute;top:117px;left:306px;white-space:nowrap" class="ft177">4</p>
<p style="position:absolute;top:116px;left:454px;white-space:nowrap" class="ft177">7</p>
<p style="position:absolute;top:116px;left:589px;white-space:nowrap" class="ft177">9</p>
<p style="position:absolute;top:117px;left:721px;white-space:nowrap" class="ft177">11</p>
<p style="position:absolute;top:174px;left:235px;white-space:nowrap" class="ft177">3</p>
<p style="position:absolute;top:174px;left:413px;white-space:nowrap" class="ft177">6</p>
<p style="position:absolute;top:174px;left:525px;white-space:nowrap" class="ft177">8</p>
<p style="position:absolute;top:174px;left:644px;white-space:nowrap" class="ft177">10</p>
<p style="position:absolute;top:232px;left:187px;white-space:nowrap" class="ft177">2’</p>
<p style="position:absolute;top:290px;left:261px;white-space:nowrap" class="ft177">3’</p>
<p style="position:absolute;top:233px;left:328px;white-space:nowrap" class="ft177">5</p>
<p style="position:absolute;top:232px;left:496px;white-space:nowrap" class="ft177">7’</p>
<p style="position:absolute;top:291px;left:451px;white-space:nowrap" class="ft177">6’</p>
<p style="position:absolute;top:232px;left:611px;white-space:nowrap" class="ft177">9’</p>
<p style="position:absolute;top:232px;left:742px;white-space:nowrap" class="ft177">12</p>
<p style="position:absolute;top:291px;left:676px;white-space:nowrap" class="ft177">10’</p>
<p style="position:absolute;top:348px;left:427px;white-space:nowrap" class="ft177">5’</p>
<p style="position:absolute;top:348px;left:544px;white-space:nowrap" class="ft177">7’’</p>
<p style="position:absolute;top:349px;left:788px;white-space:nowrap" class="ft177">13</p>
<p style="position:absolute;top:383px;left:119px;white-space:nowrap" class="ft1741">f1</p>
<p style="position:absolute;top:383px;left:309px;white-space:nowrap" class="ft1742">f2</p>
<p style="position:absolute;top:383px;left:496px;white-space:nowrap" class="ft1743">f3</p>
<p style="position:absolute;top:383px;left:696px;white-space:nowrap" class="ft1744">f4</p>
<p style="position:absolute;top:416px;left:322px;white-space:nowrap" class="ft172">Figure&#160;9:&#160;An&#160;example&#160;of&#160;Lamport&#160;timestamps</p>
<p style="position:absolute;top:467px;left:108px;white-space:nowrap" class="ft172">The&#160;Lamport&#160;timestamps&#160;algorithm&#160;is&#160;as&#160;follows:</p>
<p style="position:absolute;top:503px;left:143px;white-space:nowrap" class="ft172">1.&#160;Each&#160;node&#160;increments&#160;its&#160;count&#160;value&#160;before&#160;creating&#160;an&#160;event&#160;block.</p>
<p style="position:absolute;top:531px;left:143px;white-space:nowrap" class="ft172">2.&#160;When&#160;sending&#160;a&#160;message&#160;include&#160;its&#160;count&#160;value,&#160;receiver&#160;should&#160;consider&#160;which&#160;sender’s&#160;message&#160;is&#160;received</p>
<p style="position:absolute;top:547px;left:162px;white-space:nowrap" class="ft172">and&#160;increments&#160;its&#160;count&#160;value.</p>
<p style="position:absolute;top:575px;left:143px;white-space:nowrap" class="ft172">3.&#160;If&#160;current&#160;counter&#160;is&#160;less&#160;than&#160;or&#160;equal&#160;to&#160;the&#160;received&#160;count&#160;value&#160;from&#160;another&#160;node,&#160;then&#160;the&#160;count&#160;value&#160;of</p>
<p style="position:absolute;top:591px;left:162px;white-space:nowrap" class="ft172">the&#160;recipient&#160;is&#160;updated.</p>
<p style="position:absolute;top:619px;left:143px;white-space:nowrap" class="ft172">4.&#160;If&#160;current&#160;counter&#160;is&#160;greater&#160;than&#160;the&#160;received&#160;count&#160;value&#160;from&#160;another&#160;node,&#160;then&#160;the&#160;current&#160;count&#160;value&#160;is</p>
<p style="position:absolute;top:635px;left:162px;white-space:nowrap" class="ft172">updated.</p>
<p style="position:absolute;top:671px;left:108px;white-space:nowrap" class="ft175">We&#160;use&#160;the&#160;Lamport’s&#160;algorithm&#160;to&#160;enforce&#160;a&#160;topological&#160;ordering&#160;of&#160;event&#160;blocks&#160;and&#160;use&#160;it&#160;in&#160;the&#160;Atropos&#160;selection<br/>algorithm.</p>
<p style="position:absolute;top:712px;left:108px;white-space:nowrap" class="ft175">Since&#160;an&#160;event&#160;block&#160;is&#160;created&#160;based&#160;on&#160;logical&#160;time,&#160;the&#160;sequence&#160;between&#160;each&#160;event&#160;blocks&#160;is&#160;immediately&#160;deter-<br/>mined.&#160;Because&#160;the&#160;Lamport&#160;timestamps&#160;algorithm&#160;gives&#160;a&#160;partial&#160;order&#160;of&#160;all&#160;events,&#160;the&#160;whole&#160;time&#160;ordering&#160;process<br/>can&#160;be&#160;used&#160;for&#160;Byzantine&#160;fault&#160;tolerance.</p>
<p style="position:absolute;top:786px;left:108px;white-space:nowrap" class="ft172">3.8</p>
<p style="position:absolute;top:786px;left:142px;white-space:nowrap" class="ft172">Domination&#160;Relation</p>
<p style="position:absolute;top:818px;left:108px;white-space:nowrap" class="ft172">Here,&#160;we&#160;introduce&#160;a&#160;new&#160;idea&#160;that&#160;extends&#160;the&#160;concept&#160;of&#160;domination.</p>
<p style="position:absolute;top:859px;left:108px;white-space:nowrap" class="ft175">For&#160;a&#160;vertex&#160;v&#160;in&#160;a&#160;DAG&#160;G,&#160;let&#160;G[v]&#160;=&#160;(Vv,&#160;Ev)&#160;denote&#160;an&#160;induced-subgraph&#160;of&#160;G&#160;such&#160;that&#160;Vv&#160;consists&#160;of&#160;all&#160;ancestors<br/>of&#160;v&#160;including&#160;v,&#160;and&#160;Ev&#160;is&#160;the&#160;induced&#160;edges&#160;of&#160;Vv&#160;in&#160;G.</p>
<p style="position:absolute;top:917px;left:108px;white-space:nowrap" class="ft172">For&#160;a&#160;set&#160;S&#160;of&#160;vertices,&#160;an&#160;event&#160;vd</p>
<p style="position:absolute;top:914px;left:317px;white-space:nowrap" class="ft1745">2<br/>3&#160;-dominates&#160;S&#160;if&#160;there&#160;are&#160;more&#160;than&#160;2/3&#160;of&#160;vertices&#160;vx&#160;in&#160;S&#160;such&#160;that&#160;vd&#160;dominates</p>
<p style="position:absolute;top:936px;left:108px;white-space:nowrap" class="ft172">vx.&#160;Recall&#160;that&#160;R1&#160;is&#160;the&#160;set&#160;of&#160;all&#160;leaf&#160;vertices&#160;in&#160;G.&#160;The</p>
<p style="position:absolute;top:933px;left:451px;white-space:nowrap" class="ft1745">2<br/>3&#160;-dom&#160;set&#160;D0&#160;is&#160;the&#160;same&#160;as&#160;the&#160;set&#160;R1.The</p>
<p style="position:absolute;top:933px;left:716px;white-space:nowrap" class="ft1745">2<br/>3&#160;-dom&#160;set&#160;Di&#160;is</p>
<p style="position:absolute;top:952px;left:108px;white-space:nowrap" class="ft172">defined&#160;as&#160;follows:</p>
<p style="position:absolute;top:993px;left:108px;white-space:nowrap" class="ft172">A&#160;vertex&#160;vd&#160;belongs&#160;to&#160;a</p>
<p style="position:absolute;top:990px;left:261px;white-space:nowrap" class="ft1745">2<br/>3&#160;-dom&#160;set&#160;within&#160;the&#160;graph&#160;G[vd],&#160;if&#160;vd</p>
<p style="position:absolute;top:990px;left:504px;white-space:nowrap" class="ft1745">2<br/>3&#160;-dominates&#160;R1.&#160;The</p>
<p style="position:absolute;top:990px;left:639px;white-space:nowrap" class="ft1745">2<br/>3&#160;-dom&#160;set&#160;Dk&#160;consists&#160;of&#160;all</p>
<p style="position:absolute;top:1013px;left:108px;white-space:nowrap" class="ft172">roots&#160;di&#160;such&#160;that&#160;di&#160;6∈&#160;Di,&#160;∀&#160;i&#160;=&#160;1..(k-1),&#160;and&#160;di</p>
<p style="position:absolute;top:1010px;left:400px;white-space:nowrap" class="ft1745">2<br/>3&#160;-dominates&#160;Di−1.</p>
<p style="position:absolute;top:1054px;left:108px;white-space:nowrap" class="ft172">The</p>
<p style="position:absolute;top:1050px;left:137px;white-space:nowrap" class="ft1745">2<br/>3&#160;-dom&#160;set&#160;Di&#160;is&#160;the&#160;same&#160;with&#160;the&#160;root&#160;set&#160;Ri,&#160;for&#160;all&#160;nodes.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft172">16</p>
</div>
<!-- Page 18 -->
<a name="18"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page18-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft182">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft182">3.9</p>
<p style="position:absolute;top:113px;left:142px;white-space:nowrap" class="ft182">Examples&#160;of&#160;domination&#160;relation&#160;in&#160;DAGs</p>
<p style="position:absolute;top:160px;left:108px;white-space:nowrap" class="ft182">This&#160;section&#160;gives&#160;several&#160;examples&#160;of&#160;DAGs&#160;and&#160;the&#160;domination&#160;relation&#160;between&#160;their&#160;event&#160;blocks.</p>
<p style="position:absolute;top:414px;left:117px;white-space:nowrap" class="ft182">(a)</p>
<p style="position:absolute;top:600px;left:117px;white-space:nowrap" class="ft182">(b)</p>
<p style="position:absolute;top:627px;left:285px;white-space:nowrap" class="ft182">Figure&#160;10:&#160;Examples&#160;of&#160;OPERA&#160;chain&#160;and&#160;dominator&#160;tree</p>
<p style="position:absolute;top:709px;left:108px;white-space:nowrap" class="ft182">Figure&#160;10&#160;shows&#160;an&#160;examples&#160;of&#160;a&#160;DAG&#160;and&#160;dominator&#160;trees.</p>
<p style="position:absolute;top:982px;left:142px;white-space:nowrap" class="ft182">Figure&#160;11:&#160;An&#160;example&#160;of&#160;OPERA&#160;chain&#160;and&#160;its&#160;2/3&#160;domination&#160;graph.&#160;The</p>
<p style="position:absolute;top:979px;left:598px;white-space:nowrap" class="ft1845">2<br/>3&#160;-dom&#160;sets&#160;are&#160;shown&#160;in&#160;grey.</p>
<p style="position:absolute;top:1070px;left:108px;white-space:nowrap" class="ft182">Figure&#160;11&#160;depicts&#160;an&#160;example&#160;of&#160;a&#160;DAG&#160;and&#160;2/3&#160;dom&#160;sets.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft182">17</p>
</div>
<!-- Page 19 -->
<a name="19"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page19-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft192">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:279px;left:133px;white-space:nowrap" class="ft192">(a)</p>
<p style="position:absolute;top:457px;left:133px;white-space:nowrap" class="ft192">(b)</p>
<p style="position:absolute;top:638px;left:133px;white-space:nowrap" class="ft192">(c)</p>
<p style="position:absolute;top:665px;left:108px;white-space:nowrap" class="ft195">Figure&#160;12:&#160;An&#160;example&#160;of&#160;dependency&#160;graphs&#160;on&#160;individual&#160;nodes.&#160;From&#160;(a)-(c)&#160;there&#160;is&#160;one&#160;new&#160;event&#160;block&#160;appended.<br/>There&#160;is&#160;no&#160;fork,&#160;the&#160;simplified&#160;dependency&#160;graphs&#160;become&#160;trees.</p>
<p style="position:absolute;top:727px;left:108px;white-space:nowrap" class="ft195">Figure&#160;12&#160;shows&#160;an&#160;example&#160;an&#160;dependency&#160;graphs.&#160;On&#160;each&#160;row,&#160;the&#160;left&#160;most&#160;figure&#160;shows&#160;the&#160;latest&#160;OPERA&#160;chain.<br/>The&#160;left&#160;figures&#160;on&#160;each&#160;row&#160;depict&#160;the&#160;dependency&#160;graphs&#160;of&#160;each&#160;node,&#160;which&#160;are&#160;in&#160;their&#160;compact&#160;form.&#160;When&#160;no<br/>fork&#160;presents,&#160;each&#160;of&#160;the&#160;compact&#160;dependency&#160;graphs&#160;is&#160;a&#160;tree.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft192">18</p>
</div>
<!-- Page 20 -->
<a name="20"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page20-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft202">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:306px;left:135px;white-space:nowrap" class="ft202">(a)</p>
<p style="position:absolute;top:474px;left:134px;white-space:nowrap" class="ft202">(b)</p>
<p style="position:absolute;top:641px;left:135px;white-space:nowrap" class="ft202">(c)</p>
<p style="position:absolute;top:668px;left:108px;white-space:nowrap" class="ft205">Figure&#160;13:&#160;An&#160;example&#160;of&#160;a&#160;pair&#160;of&#160;fork&#160;events&#160;in&#160;an&#160;OPERA&#160;chain.&#160;The&#160;fork&#160;events&#160;are&#160;shown&#160;in&#160;red&#160;and&#160;green.&#160;The<br/>OPERA&#160;chains&#160;from&#160;(a)&#160;to&#160;(d)&#160;are&#160;different&#160;by&#160;adding&#160;one&#160;single&#160;event&#160;at&#160;a&#160;time.</p>
<p style="position:absolute;top:764px;left:108px;white-space:nowrap" class="ft205">Figure&#160;13&#160;shows&#160;an&#160;example&#160;of&#160;a&#160;pair&#160;of&#160;fork&#160;events.&#160;Each&#160;row&#160;shows&#160;an&#160;OPERA&#160;chain&#160;(left&#160;most)&#160;and&#160;the&#160;compact<br/>dependency&#160;graphs&#160;on&#160;each&#160;node&#160;(right).&#160;The&#160;fork&#160;events&#160;are&#160;shown&#160;in&#160;red&#160;and&#160;green&#160;vertices</p>
<p style="position:absolute;top:853px;left:108px;white-space:nowrap" class="ft202">3.10</p>
<p style="position:absolute;top:853px;left:149px;white-space:nowrap" class="ft202">Root&#160;Selection</p>
<p style="position:absolute;top:898px;left:108px;white-space:nowrap" class="ft205">All&#160;nodes&#160;can&#160;create&#160;event&#160;blocks&#160;and&#160;an&#160;event&#160;block&#160;can&#160;be&#160;a&#160;root&#160;when&#160;satisfying&#160;specific&#160;conditions.&#160;Not&#160;all&#160;event<br/>blocks&#160;can&#160;be&#160;roots.&#160;First,&#160;the&#160;first&#160;created&#160;event&#160;blocks&#160;are&#160;themselves&#160;roots.&#160;These&#160;leaf&#160;event&#160;blocks&#160;form&#160;the&#160;first<br/>root&#160;set&#160;RS</p>
<p style="position:absolute;top:939px;left:174px;white-space:nowrap" class="ft2032">1&#160;of&#160;the&#160;first&#160;frame&#160;f1&#160;.&#160;If&#160;there&#160;are&#160;total&#160;n&#160;nodes&#160;and&#160;these&#160;nodes&#160;create&#160;the&#160;event&#160;blocks,&#160;then&#160;the&#160;cardinality</p>
<p style="position:absolute;top:947px;left:108px;white-space:nowrap" class="ft202">of&#160;the&#160;first&#160;root&#160;set&#160;|RS</p>
<p style="position:absolute;top:956px;left:247px;white-space:nowrap" class="ft2032">1&#160;|&#160;is&#160;n.&#160;Second,&#160;if&#160;an&#160;event&#160;block&#160;e&#160;can&#160;reach&#160;at&#160;least&#160;2n/3&#160;roots,&#160;then&#160;e&#160;is&#160;called&#160;a&#160;root.&#160;This</p>
<p style="position:absolute;top:963px;left:108px;white-space:nowrap" class="ft202">event&#160;e&#160;does&#160;not&#160;belong&#160;to&#160;RS1,&#160;but&#160;the&#160;next&#160;root&#160;set&#160;RS</p>
<p style="position:absolute;top:972px;left:447px;white-space:nowrap" class="ft2032">2&#160;of&#160;the&#160;next&#160;frame&#160;f2&#160;.&#160;Thus,&#160;excluding&#160;the&#160;first&#160;root&#160;set,&#160;the</p>
<p style="position:absolute;top:980px;left:108px;white-space:nowrap" class="ft202">range&#160;of&#160;cardinality&#160;of&#160;root&#160;set&#160;RS</p>
<p style="position:absolute;top:989px;left:317px;white-space:nowrap" class="ft2032">k&#160;is&#160;2n/3&#160;&lt;&#160;|RSk&#160;|&#160;≤&#160;n.</p>
<p style="position:absolute;top:980px;left:475px;white-space:nowrap" class="ft202">The&#160;event&#160;blocks&#160;including&#160;RS</p>
<p style="position:absolute;top:989px;left:663px;white-space:nowrap" class="ft2032">k&#160;before&#160;RSk+1&#160;is&#160;in&#160;the</p>
<p style="position:absolute;top:996px;left:108px;white-space:nowrap" class="ft202">frame&#160;fk.&#160;The&#160;roots&#160;in&#160;RS</p>
<p style="position:absolute;top:1005px;left:272px;white-space:nowrap" class="ft2032">k+1&#160;does&#160;not&#160;belong&#160;to&#160;the&#160;frame&#160;fk&#160;.</p>
<p style="position:absolute;top:996px;left:503px;white-space:nowrap" class="ft202">Those&#160;are&#160;included&#160;in&#160;the&#160;frame&#160;fk+1&#160;when&#160;a&#160;root</p>
<p style="position:absolute;top:1013px;left:108px;white-space:nowrap" class="ft202">belonging&#160;to&#160;RS</p>
<p style="position:absolute;top:1021px;left:206px;white-space:nowrap" class="ft2032">k+2&#160;occurs.</p>
<p style="position:absolute;top:1037px;left:108px;white-space:nowrap" class="ft205">We&#160;introduce&#160;the&#160;use&#160;of&#160;a&#160;flag&#160;table&#160;to&#160;quickly&#160;determine&#160;whether&#160;a&#160;new&#160;event&#160;block&#160;becomes&#160;a&#160;root.&#160;Each&#160;node<br/>maintains&#160;a&#160;flag&#160;table&#160;of&#160;the&#160;top&#160;event&#160;block.&#160;Every&#160;event&#160;block&#160;that&#160;is&#160;newly&#160;created&#160;is&#160;assigned&#160;k&#160;hashes&#160;for&#160;its&#160;k<br/>referenced&#160;event&#160;blocks.&#160;We&#160;apply&#160;an&#160;OR&#160;operation&#160;on&#160;each&#160;set&#160;in&#160;the&#160;flag&#160;table&#160;of&#160;the&#160;referenced&#160;event&#160;blocks.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft202">19</p>
</div>
<!-- Page 21 -->
<a name="21"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2146{font-size:13px;font-family:Times;color:#000000;}
	.ft2147{font-size:13px;font-family:Times;color:#000000;}
-->
</style>
<div id="page21-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft212">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:153px;left:116px;white-space:nowrap" class="ft2117">a0</p>
<p style="position:absolute;top:202px;left:116px;white-space:nowrap" class="ft2117">b0</p>
<p style="position:absolute;top:250px;left:116px;white-space:nowrap" class="ft2117">c0</p>
<p style="position:absolute;top:299px;left:116px;white-space:nowrap" class="ft2117">d0</p>
<p style="position:absolute;top:348px;left:116px;white-space:nowrap" class="ft2117">e0</p>
<p style="position:absolute;top:153px;left:162px;white-space:nowrap" class="ft2117">a1</p>
<p style="position:absolute;top:250px;left:183px;white-space:nowrap" class="ft2117">c1</p>
<p style="position:absolute;top:202px;left:230px;white-space:nowrap" class="ft2117">b1</p>
<p style="position:absolute;top:176px;left:440px;white-space:nowrap" class="ft2112"><b>Flag&#160;Table</b></p>
<p style="position:absolute;top:296px;left:587px;white-space:nowrap" class="ft2112"><b>OPERA&#160;chain&#160;</b></p>
<p style="position:absolute;top:195px;left:460px;white-space:nowrap" class="ft2113"><b>A</b></p>
<p style="position:absolute;top:195px;left:507px;white-space:nowrap" class="ft2113"><b>{a0, b0,&#160;&#160;c0}</b></p>
<p style="position:absolute;top:215px;left:460px;white-space:nowrap" class="ft2113"><b>B</b></p>
<p style="position:absolute;top:215px;left:501px;white-space:nowrap" class="ft2113"><b>{a0, b0,&#160;&#160;c0, d0}</b></p>
<p style="position:absolute;top:235px;left:460px;white-space:nowrap" class="ft2113"><b>C</b></p>
<p style="position:absolute;top:235px;left:508px;white-space:nowrap" class="ft2113"><b>{b0,&#160;&#160;c0, d0}</b></p>
<p style="position:absolute;top:256px;left:460px;white-space:nowrap" class="ft2113"><b>D</b></p>
<p style="position:absolute;top:256px;left:519px;white-space:nowrap" class="ft2113"><b>{d0}</b></p>
<p style="position:absolute;top:276px;left:460px;white-space:nowrap" class="ft2113"><b>E</b></p>
<p style="position:absolute;top:276px;left:519px;white-space:nowrap" class="ft2113"><b>{e0}</b></p>
<p style="position:absolute;top:233px;left:587px;white-space:nowrap" class="ft2112"><b>Clotho&#160;Check&#160;List</b></p>
<p style="position:absolute;top:250px;left:664px;white-space:nowrap" class="ft2113"><b>a0</b></p>
<p style="position:absolute;top:250px;left:694px;white-space:nowrap" class="ft2113"><b>b0</b></p>
<p style="position:absolute;top:250px;left:723px;white-space:nowrap" class="ft2113"><b>c0</b></p>
<p style="position:absolute;top:250px;left:753px;white-space:nowrap" class="ft2113"><b>d0</b></p>
<p style="position:absolute;top:250px;left:783px;white-space:nowrap" class="ft2113"><b>e0</b></p>
<p style="position:absolute;top:264px;left:666px;white-space:nowrap" class="ft2113"><b>-</b></p>
<p style="position:absolute;top:264px;left:696px;white-space:nowrap" class="ft2113"><b>-</b></p>
<p style="position:absolute;top:264px;left:725px;white-space:nowrap" class="ft2113"><b>-</b></p>
<p style="position:absolute;top:264px;left:755px;white-space:nowrap" class="ft2113"><b>-</b></p>
<p style="position:absolute;top:264px;left:785px;white-space:nowrap" class="ft2113"><b>-</b></p>
<p style="position:absolute;top:279px;left:666px;white-space:nowrap" class="ft2113"><b>-</b></p>
<p style="position:absolute;top:279px;left:696px;white-space:nowrap" class="ft2113"><b>-</b></p>
<p style="position:absolute;top:279px;left:725px;white-space:nowrap" class="ft2113"><b>-</b></p>
<p style="position:absolute;top:279px;left:755px;white-space:nowrap" class="ft2113"><b>-</b></p>
<p style="position:absolute;top:279px;left:785px;white-space:nowrap" class="ft2113"><b>-</b></p>
<p style="position:absolute;top:250px;left:631px;white-space:nowrap" class="ft2113"><b>Root</b></p>
<p style="position:absolute;top:264px;left:634px;white-space:nowrap" class="ft2113"><b>CC</b></p>
<p style="position:absolute;top:279px;left:637px;white-space:nowrap" class="ft2113"><b>C</b></p>
<p style="position:absolute;top:264px;left:605px;white-space:nowrap" class="ft2113"><b>f1</b></p>
<p style="position:absolute;top:175px;left:588px;white-space:nowrap" class="ft2112"><b>Frames</b></p>
<p style="position:absolute;top:194px;left:612px;white-space:nowrap" class="ft2113"><b>f1</b></p>
<p style="position:absolute;top:194px;left:669px;white-space:nowrap" class="ft2113"><b>{a0, b0,&#160;&#160;c0, d0, e0}</b></p>
<p style="position:absolute;top:214px;left:612px;white-space:nowrap" class="ft2113"><b>f2</b></p>
<p style="position:absolute;top:214px;left:693px;white-space:nowrap" class="ft2113"><b>{b1}</b></p>
<p style="position:absolute;top:155px;left:738px;white-space:nowrap" class="ft2146"><b>Node&#160;<i>B</i></b></p>
<p style="position:absolute;top:137px;left:208px;white-space:nowrap" class="ft2114">A</p>
<p style="position:absolute;top:137px;left:250px;white-space:nowrap" class="ft2114">{a0, b0, c0}</p>
<p style="position:absolute;top:116px;left:184px;white-space:nowrap" class="ft217">(1)</p>
<p style="position:absolute;top:199px;left:267px;white-space:nowrap" class="ft2114">B</p>
<p style="position:absolute;top:199px;left:304px;white-space:nowrap" class="ft2114">{a0, b0, c0, d0}</p>
<p style="position:absolute;top:274px;left:234px;white-space:nowrap" class="ft2114">C</p>
<p style="position:absolute;top:274px;left:276px;white-space:nowrap" class="ft2114">{b0, c0, d0}</p>
<p style="position:absolute;top:176px;left:233px;white-space:nowrap" class="ft217">(1)&#160;</p>
<p style="position:absolute;top:175px;left:249px;white-space:nowrap" class="ft217">⋃&#160;(2)</p>
<p style="position:absolute;top:254px;left:210px;white-space:nowrap" class="ft217">(2)</p>
<p style="position:absolute;top:221px;left:265px;white-space:nowrap" class="ft217">|FT_B|&#160;&gt;&#160; 2n/3 &#160; &#160;</p>
<p style="position:absolute;top:220px;left:346px;white-space:nowrap" class="ft217">∴&#160;b1 is&#160;Root</p>
<p style="position:absolute;top:380px;left:335px;white-space:nowrap" class="ft212">Figure&#160;14:&#160;An&#160;Example&#160;of&#160;Root&#160;selection</p>
<p style="position:absolute;top:450px;left:108px;white-space:nowrap" class="ft215">Figure&#160;14&#160;shows&#160;an&#160;example&#160;of&#160;how&#160;to&#160;use&#160;flag&#160;tables&#160;to&#160;determine&#160;a&#160;root.&#160;In&#160;this&#160;example,&#160;b1&#160;is&#160;the&#160;most&#160;recently<br/>created&#160;event&#160;block.&#160;We&#160;apply&#160;an&#160;OR&#160;operation&#160;on&#160;each&#160;set&#160;of&#160;the&#160;flag&#160;tables&#160;for&#160;b1’s&#160;k&#160;referenced&#160;event&#160;blocks.&#160;The<br/>result&#160;is&#160;the&#160;flag&#160;table&#160;of&#160;b1.&#160;If&#160;the&#160;cardinality&#160;of&#160;the&#160;root&#160;set&#160;in&#160;b1’s&#160;flag&#160;table&#160;is&#160;more&#160;than&#160;2n/3,&#160;b1&#160;is&#160;a&#160;root.&#160;In&#160;this<br/>example,&#160;the&#160;cardinality&#160;of&#160;the&#160;root&#160;set&#160;in&#160;b1&#160;is&#160;4,&#160;which&#160;is&#160;greater&#160;than&#160;2n/3&#160;(n=5).&#160;Thus,&#160;b1&#160;becomes&#160;root.&#160;In&#160;this<br/>example,&#160;b1&#160;is&#160;added&#160;to&#160;frame&#160;f2&#160;since&#160;b1&#160;becomes&#160;new&#160;root.</p>
<p style="position:absolute;top:540px;left:108px;white-space:nowrap" class="ft212">The&#160;root&#160;selection&#160;algorithm&#160;is&#160;as&#160;follows:</p>
<p style="position:absolute;top:590px;left:143px;white-space:nowrap" class="ft212">1.&#160;The&#160;first&#160;event&#160;blocks&#160;are&#160;considered&#160;as&#160;roots.</p>
<p style="position:absolute;top:637px;left:143px;white-space:nowrap" class="ft212">2.&#160;When&#160;a&#160;new&#160;event&#160;block&#160;is&#160;added&#160;in&#160;the&#160;OPERA&#160;chain&#160;(DAG),&#160;we&#160;check&#160;whether&#160;the&#160;event&#160;block&#160;is&#160;a&#160;root&#160;by</p>
<p style="position:absolute;top:654px;left:162px;white-space:nowrap" class="ft215">applying&#160;an&#160;OR&#160;operation&#160;on&#160;each&#160;set&#160;of&#160;the&#160;flag&#160;tables&#160;connected&#160;to&#160;the&#160;new&#160;event&#160;block.&#160;If&#160;the&#160;cardinality<br/>of&#160;the&#160;root&#160;set&#160;in&#160;the&#160;flag&#160;table&#160;for&#160;the&#160;new&#160;event&#160;block&#160;is&#160;more&#160;than&#160;2n/3,&#160;the&#160;new&#160;event&#160;block&#160;becomes&#160;a&#160;root.</p>
<p style="position:absolute;top:717px;left:143px;white-space:nowrap" class="ft212">3.&#160;When&#160;a&#160;new&#160;root&#160;appears&#160;on&#160;the&#160;OPERA&#160;chain,&#160;nodes&#160;update&#160;their&#160;frames.&#160;If&#160;one&#160;of&#160;the&#160;new&#160;event&#160;blocks</p>
<p style="position:absolute;top:733px;left:162px;white-space:nowrap" class="ft212">becomes&#160;a&#160;root,&#160;all&#160;nodes&#160;that&#160;share&#160;the&#160;new&#160;event&#160;block&#160;add&#160;the&#160;hash&#160;value&#160;of&#160;the&#160;event&#160;block&#160;to&#160;their&#160;frames.</p>
<p style="position:absolute;top:780px;left:143px;white-space:nowrap" class="ft212">4.&#160;The&#160;new&#160;root&#160;set&#160;is&#160;created&#160;if&#160;the&#160;cardinality&#160;of&#160;the&#160;previous&#160;root&#160;set&#160;RS</p>
<p style="position:absolute;top:788px;left:585px;white-space:nowrap" class="ft2132">p&#160;is&#160;more&#160;than&#160;2n/3&#160;and&#160;the&#160;new&#160;event</p>
<p style="position:absolute;top:798px;left:162px;white-space:nowrap" class="ft212">block&#160;can&#160;reach&#160;2n/3&#160;roots&#160;in&#160;RS</p>
<p style="position:absolute;top:806px;left:362px;white-space:nowrap" class="ft2132">p&#160;.</p>
<p style="position:absolute;top:844px;left:143px;white-space:nowrap" class="ft212">5.&#160;When&#160;the&#160;new&#160;root&#160;set&#160;RS</p>
<p style="position:absolute;top:853px;left:323px;white-space:nowrap" class="ft2132">k+1&#160;is&#160;created,&#160;the&#160;event&#160;blocks&#160;from&#160;the&#160;previous&#160;root&#160;set&#160;RSk&#160;to&#160;before&#160;RSk+1</p>
<p style="position:absolute;top:861px;left:162px;white-space:nowrap" class="ft212">belong&#160;to&#160;the&#160;frame&#160;fk.</p>
<p style="position:absolute;top:923px;left:108px;white-space:nowrap" class="ft212">3.11</p>
<p style="position:absolute;top:923px;left:149px;white-space:nowrap" class="ft212">Clotho&#160;Selection</p>
<p style="position:absolute;top:963px;left:108px;white-space:nowrap" class="ft215">A&#160;Clotho&#160;is&#160;a&#160;root&#160;that&#160;satisfies&#160;the&#160;Clotho&#160;creation&#160;conditions.&#160;Clotho&#160;creation&#160;conditions&#160;are&#160;that&#160;more&#160;than&#160;2n/3<br/>nodes&#160;know&#160;the&#160;root&#160;and&#160;a&#160;root&#160;knows&#160;this&#160;information.</p>
<p style="position:absolute;top:1004px;left:108px;white-space:nowrap" class="ft215">In&#160;order&#160;for&#160;a&#160;root&#160;r&#160;in&#160;frame&#160;fi&#160;to&#160;become&#160;a&#160;Clotho,&#160;r&#160;must&#160;be&#160;reached&#160;by&#160;more&#160;than&#160;n/3&#160;roots&#160;in&#160;the&#160;frame&#160;fi+1.<br/>Based&#160;on&#160;the&#160;definition&#160;of&#160;the&#160;root,&#160;each&#160;root&#160;reaches&#160;more&#160;than&#160;2n/3&#160;roots&#160;in&#160;previous&#160;frames.&#160;If&#160;more&#160;than&#160;n/3&#160;roots<br/>in&#160;the&#160;frame&#160;fi+1&#160;can&#160;reach&#160;r,&#160;then&#160;r&#160;is&#160;spread&#160;to&#160;all&#160;roots&#160;in&#160;the&#160;frame&#160;fi+2.&#160;It&#160;means&#160;that&#160;all&#160;nodes&#160;know&#160;the&#160;existence<br/>of&#160;r.&#160;If&#160;we&#160;have&#160;any&#160;root&#160;in&#160;the&#160;frame&#160;fi+3,&#160;a&#160;root&#160;knows&#160;that&#160;r&#160;is&#160;spread&#160;to&#160;more&#160;than&#160;2n/3&#160;nodes.&#160;It&#160;satisfies&#160;Clotho<br/>creation&#160;conditions.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft212">20</p>
</div>
<!-- Page 22 -->
<a name="22"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2248{font-size:6px;font-family:Times;color:#0000ff;}
	.ft2249{font-size:6px;font-family:Times;color:#01ff00;}
	.ft2250{font-size:6px;font-family:Times;color:#ff0000;}
	.ft2251{font-size:6px;font-family:Times;color:#ff00ff;}
-->
</style>
<div id="page22-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft222">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:116px;left:298px;white-space:nowrap" class="ft2227"><b>f1</b></p>
<p style="position:absolute;top:116px;left:398px;white-space:nowrap" class="ft2227"><b>f2</b></p>
<p style="position:absolute;top:116px;left:502px;white-space:nowrap" class="ft2227"><b>f3</b></p>
<p style="position:absolute;top:116px;left:607px;white-space:nowrap" class="ft2227"><b>f4</b></p>
<p style="position:absolute;top:149px;left:299px;white-space:nowrap" class="ft2218">a0</p>
<p style="position:absolute;top:205px;left:300px;white-space:nowrap" class="ft2218">b0</p>
<p style="position:absolute;top:260px;left:299px;white-space:nowrap" class="ft2218">c0</p>
<p style="position:absolute;top:316px;left:300px;white-space:nowrap" class="ft2218">d0</p>
<p style="position:absolute;top:372px;left:300px;white-space:nowrap" class="ft2218">e0</p>
<p style="position:absolute;top:149px;left:398px;white-space:nowrap" class="ft2218">a2</p>
<p style="position:absolute;top:264px;left:398px;white-space:nowrap" class="ft2218">c2</p>
<p style="position:absolute;top:149px;left:505px;white-space:nowrap" class="ft2218">a3</p>
<p style="position:absolute;top:205px;left:505px;white-space:nowrap" class="ft2218">b2</p>
<p style="position:absolute;top:260px;left:505px;white-space:nowrap" class="ft2218">c3</p>
<p style="position:absolute;top:316px;left:506px;white-space:nowrap" class="ft2218">d2</p>
<p style="position:absolute;top:372px;left:505px;white-space:nowrap" class="ft2218">e2</p>
<p style="position:absolute;top:149px;left:610px;white-space:nowrap" class="ft2218">a5</p>
<p style="position:absolute;top:205px;left:609px;white-space:nowrap" class="ft2218">b4</p>
<p style="position:absolute;top:260px;left:610px;white-space:nowrap" class="ft2218">c4</p>
<p style="position:absolute;top:316px;left:610px;white-space:nowrap" class="ft2218">d3</p>
<p style="position:absolute;top:372px;left:611px;white-space:nowrap" class="ft2218">e3</p>
<p style="position:absolute;top:206px;left:399px;white-space:nowrap" class="ft2218">b1</p>
<p style="position:absolute;top:316px;left:399px;white-space:nowrap" class="ft2218">d1</p>
<p style="position:absolute;top:372px;left:399px;white-space:nowrap" class="ft2218">e1</p>
<p style="position:absolute;top:414px;left:310px;white-space:nowrap" class="ft222">Figure&#160;15:&#160;A&#160;verification&#160;of&#160;more&#160;than&#160;2n/3&#160;nodes</p>
<p style="position:absolute;top:475px;left:108px;white-space:nowrap" class="ft225">In&#160;the&#160;example&#160;in&#160;Figure&#160;15,&#160;n&#160;is&#160;5&#160;and&#160;each&#160;circle&#160;indicates&#160;a&#160;root&#160;in&#160;a&#160;frame.&#160;Each&#160;arrow&#160;means&#160;one&#160;root&#160;can&#160;reach<br/>(happened-before)&#160;to&#160;the&#160;previous&#160;root.&#160;Each&#160;root&#160;has&#160;4&#160;or&#160;5&#160;arrows&#160;(out-degree)&#160;since&#160;n&#160;is&#160;5&#160;(more&#160;than&#160;2n/3&#160;≥&#160;4).&#160;b1<br/>and&#160;c2&#160;in&#160;frame&#160;f2&#160;are&#160;roots&#160;that&#160;can&#160;reach&#160;c0&#160;in&#160;frame&#160;f1.&#160;d1&#160;and&#160;e1&#160;also&#160;can&#160;reach&#160;c0,&#160;but&#160;we&#160;only&#160;marked&#160;b1&#160;and&#160;c2<br/>(when&#160;n&#160;is&#160;5,&#160;more&#160;than&#160;n/3&#160;≥&#160;2)&#160;since&#160;we&#160;show&#160;at&#160;least&#160;more&#160;than&#160;n/3&#160;conditions&#160;in&#160;this&#160;example.&#160;And&#160;it&#160;was&#160;marked<br/>with&#160;a&#160;blue&#160;bold&#160;arrow&#160;(Namely,&#160;the&#160;roots&#160;that&#160;can&#160;reach&#160;root&#160;c0&#160;have&#160;the&#160;blue&#160;bold&#160;arrow).&#160;In&#160;this&#160;situation,&#160;an&#160;event<br/>block&#160;must&#160;be&#160;able&#160;to&#160;reach&#160;b1&#160;or&#160;c2&#160;in&#160;order&#160;to&#160;become&#160;a&#160;root&#160;in&#160;frame&#160;f3&#160;(In&#160;our&#160;example,&#160;n=5,&#160;more&#160;than&#160;n/3&#160;≥&#160;2,<br/>and&#160;more&#160;than&#160;2n/3&#160;≥&#160;4.&#160;Thus,&#160;to&#160;be&#160;a&#160;root,&#160;either&#160;must&#160;be&#160;reached).&#160;All&#160;roots&#160;in&#160;frame&#160;f3&#160;reach&#160;c0&#160;in&#160;frame&#160;f1.</p>
<p style="position:absolute;top:598px;left:108px;white-space:nowrap" class="ft225">To&#160;be&#160;a&#160;root&#160;in&#160;frame&#160;f4,&#160;an&#160;event&#160;block&#160;must&#160;reach&#160;more&#160;than&#160;2n/3&#160;roots&#160;in&#160;frame&#160;f3&#160;that&#160;can&#160;reach&#160;c0.&#160;Therefore,&#160;if<br/>any&#160;of&#160;the&#160;root&#160;in&#160;frame&#160;f4&#160;exists,&#160;the&#160;root&#160;must&#160;have&#160;happened-before&#160;more&#160;than&#160;2n/3&#160;roots&#160;in&#160;frame&#160;f3.&#160;Thus,&#160;the<br/>root&#160;of&#160;f4&#160;knows&#160;that&#160;c0&#160;is&#160;spread&#160;over&#160;more&#160;than&#160;2n/3&#160;of&#160;the&#160;entire&#160;nodes.&#160;Thus,&#160;we&#160;can&#160;select&#160;c0&#160;as&#160;Clotho.</p>
<p style="position:absolute;top:686px;left:192px;white-space:nowrap" class="ft2217">a0</p>
<p style="position:absolute;top:737px;left:192px;white-space:nowrap" class="ft2217">b0</p>
<p style="position:absolute;top:787px;left:192px;white-space:nowrap" class="ft2217">c0</p>
<p style="position:absolute;top:838px;left:192px;white-space:nowrap" class="ft2217">d0</p>
<p style="position:absolute;top:889px;left:193px;white-space:nowrap" class="ft2217">e0</p>
<p style="position:absolute;top:686px;left:233px;white-space:nowrap" class="ft2217">a1</p>
<p style="position:absolute;top:686px;left:355px;white-space:nowrap" class="ft2217">a2</p>
<p style="position:absolute;top:686px;left:485px;white-space:nowrap" class="ft2217">a3</p>
<p style="position:absolute;top:686px;left:603px;white-space:nowrap" class="ft2217">a4</p>
<p style="position:absolute;top:686px;left:721px;white-space:nowrap" class="ft2217">a5</p>
<p style="position:absolute;top:737px;left:293px;white-space:nowrap" class="ft2217">b1</p>
<p style="position:absolute;top:737px;left:450px;white-space:nowrap" class="ft2217">b2</p>
<p style="position:absolute;top:737px;left:547px;white-space:nowrap" class="ft2217">b3</p>
<p style="position:absolute;top:737px;left:654px;white-space:nowrap" class="ft2217">b4</p>
<p style="position:absolute;top:787px;left:251px;white-space:nowrap" class="ft2217">c1</p>
<p style="position:absolute;top:838px;left:317px;white-space:nowrap" class="ft2217">d1</p>
<p style="position:absolute;top:787px;left:375px;white-space:nowrap" class="ft2217">c2</p>
<p style="position:absolute;top:787px;left:522px;white-space:nowrap" class="ft2217">c3</p>
<p style="position:absolute;top:839px;left:483px;white-space:nowrap" class="ft2217">d2</p>
<p style="position:absolute;top:787px;left:622px;white-space:nowrap" class="ft2217">c4</p>
<p style="position:absolute;top:839px;left:682px;white-space:nowrap" class="ft2217">d3</p>
<p style="position:absolute;top:889px;left:462px;white-space:nowrap" class="ft2217">e1</p>
<p style="position:absolute;top:889px;left:565px;white-space:nowrap" class="ft2217">e2</p>
<p style="position:absolute;top:957px;left:185px;white-space:nowrap" class="ft227">Clotho</p>
<p style="position:absolute;top:922px;left:194px;white-space:nowrap" class="ft2248">f1</p>
<p style="position:absolute;top:919px;left:371px;white-space:nowrap" class="ft2249">f2</p>
<p style="position:absolute;top:919px;left:534px;white-space:nowrap" class="ft2250">f3</p>
<p style="position:absolute;top:919px;left:688px;white-space:nowrap" class="ft2251">f4</p>
<p style="position:absolute;top:992px;left:358px;white-space:nowrap" class="ft222">Figure&#160;16:&#160;An&#160;Example&#160;of&#160;Clotho</p>
<p style="position:absolute;top:1054px;left:108px;white-space:nowrap" class="ft225">Figure&#160;16&#160;shows&#160;an&#160;example&#160;of&#160;a&#160;Clotho.&#160;In&#160;this&#160;example,&#160;all&#160;roots&#160;in&#160;the&#160;frame&#160;f1&#160;have&#160;happened-before&#160;more&#160;than<br/>n/3&#160;roots&#160;in&#160;the&#160;frame&#160;f2.&#160;We&#160;can&#160;select&#160;all&#160;roots&#160;in&#160;the&#160;frame&#160;f1&#160;as&#160;Clotho&#160;since&#160;the&#160;recent&#160;frame&#160;is&#160;f4.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft222">21</p>
</div>
<!-- Page 23 -->
<a name="23"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2352{font-size:26px;font-family:Times;color:#000000;}
	.ft2353{font-size:26px;font-family:Times;color:#000000;}
-->
</style>
<div id="page23-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft232">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:112px;left:108px;white-space:nowrap" class="ft232">Algorithm&#160;4&#160;Clotho&#160;Selection</p>
<p style="position:absolute;top:133px;left:115px;white-space:nowrap" class="ft2311">1:</p>
<p style="position:absolute;top:132px;left:133px;white-space:nowrap" class="ft232">procedure&#160;CLOTHO&#160;SELECTION</p>
<p style="position:absolute;top:149px;left:115px;white-space:nowrap" class="ft2311">2:</p>
<p style="position:absolute;top:148px;left:156px;white-space:nowrap" class="ft232">Input:&#160;a&#160;root&#160;r</p>
<p style="position:absolute;top:166px;left:115px;white-space:nowrap" class="ft2311">3:</p>
<p style="position:absolute;top:165px;left:156px;white-space:nowrap" class="ft232">for&#160;c&#160;∈&#160;f&#160;rame(i&#160;−&#160;3,&#160;r)&#160;do</p>
<p style="position:absolute;top:182px;left:115px;white-space:nowrap" class="ft2311">4:</p>
<p style="position:absolute;top:181px;left:178px;white-space:nowrap" class="ft232">c.is&#160;clotho&#160;←&#160;nil</p>
<p style="position:absolute;top:199px;left:115px;white-space:nowrap" class="ft2311">5:</p>
<p style="position:absolute;top:197px;left:178px;white-space:nowrap" class="ft232">c.yes&#160;←&#160;0</p>
<p style="position:absolute;top:215px;left:115px;white-space:nowrap" class="ft2311">6:</p>
<p style="position:absolute;top:214px;left:178px;white-space:nowrap" class="ft232">for&#160;c0&#160;∈&#160;f&#160;rame(i&#160;−&#160;2,&#160;r)&#160;do</p>
<p style="position:absolute;top:231px;left:115px;white-space:nowrap" class="ft2311">7:</p>
<p style="position:absolute;top:230px;left:201px;white-space:nowrap" class="ft232">if&#160;c0&#160;has&#160;happened-before&#160;c&#160;then</p>
<p style="position:absolute;top:248px;left:115px;white-space:nowrap" class="ft2311">8:</p>
<p style="position:absolute;top:247px;left:223px;white-space:nowrap" class="ft232">c.yes&#160;←&#160;c.yes&#160;+&#160;1</p>
<p style="position:absolute;top:267px;left:115px;white-space:nowrap" class="ft2311">9:</p>
<p style="position:absolute;top:266px;left:178px;white-space:nowrap" class="ft232">if&#160;c.yes&#160;&gt;&#160;2n/3&#160;then</p>
<p style="position:absolute;top:284px;left:109px;white-space:nowrap" class="ft2311">10:</p>
<p style="position:absolute;top:282px;left:201px;white-space:nowrap" class="ft232">c.is&#160;clotho&#160;←&#160;yes</p>
<p style="position:absolute;top:345px;left:108px;white-space:nowrap" class="ft235">Algorithm&#160;4&#160;shows&#160;the&#160;pseudo&#160;code&#160;for&#160;Clotho&#160;selection.&#160;The&#160;algorithm&#160;takes&#160;a&#160;root&#160;r&#160;as&#160;input.&#160;Line&#160;4&#160;and&#160;5&#160;set<br/>c.is&#160;clotho&#160;and&#160;c.yes&#160;to&#160;nil&#160;and&#160;0&#160;respectively.&#160;Line&#160;6-8&#160;checks&#160;whether&#160;any&#160;root&#160;c0&#160;in&#160;f&#160;rame(i&#160;−&#160;3,&#160;r)&#160;has&#160;happened-<br/>before&#160;with&#160;the&#160;2n/3&#160;condition&#160;c&#160;where&#160;i&#160;is&#160;the&#160;current&#160;frame.&#160;In&#160;line&#160;9-10,&#160;if&#160;the&#160;number&#160;of&#160;roots&#160;in&#160;f&#160;rame(i&#160;−&#160;2,&#160;r)<br/>which&#160;happened-before&#160;c&#160;is&#160;more&#160;than&#160;2n/3,&#160;the&#160;root&#160;c&#160;is&#160;set&#160;as&#160;a&#160;Clotho.&#160;The&#160;time&#160;complexity&#160;of&#160;Algorithm&#160;3&#160;is<br/>O(n2),&#160;where&#160;n&#160;is&#160;the&#160;number&#160;of&#160;nodes.</p>
<p style="position:absolute;top:572px;left:726px;white-space:nowrap" class="ft2346"><b>Pruning</b></p>
<p style="position:absolute;top:509px;left:190px;white-space:nowrap" class="ft2346"><b>Flag&#160;Table</b></p>
<p style="position:absolute;top:754px;left:193px;white-space:nowrap" class="ft2346"><b>OPERA&#160;chain&#160;</b></p>
<p style="position:absolute;top:545px;left:223px;white-space:nowrap" class="ft2336"><b>A</b></p>
<p style="position:absolute;top:545px;left:279px;white-space:nowrap" class="ft2336"><b>{a3, b2,&#160;&#160;c3, d3, e2}</b></p>
<p style="position:absolute;top:583px;left:223px;white-space:nowrap" class="ft2336"><b>B</b></p>
<p style="position:absolute;top:583px;left:298px;white-space:nowrap" class="ft2336"><b>{a3, b2,&#160;&#160;c3}</b></p>
<p style="position:absolute;top:621px;left:223px;white-space:nowrap" class="ft2336"><b>C</b></p>
<p style="position:absolute;top:621px;left:288px;white-space:nowrap" class="ft2336"><b>{a3, b2,&#160;&#160;c3, d2}</b></p>
<p style="position:absolute;top:659px;left:223px;white-space:nowrap" class="ft2336"><b>D</b></p>
<p style="position:absolute;top:659px;left:279px;white-space:nowrap" class="ft2336"><b>{a3, b2,&#160;&#160;c3, d2, e2}</b></p>
<p style="position:absolute;top:697px;left:223px;white-space:nowrap" class="ft2336"><b>E</b></p>
<p style="position:absolute;top:697px;left:317px;white-space:nowrap" class="ft2336"><b>{e2}</b></p>
<p style="position:absolute;top:691px;left:437px;white-space:nowrap" class="ft2346"><b>Clotho&#160;Check&#160;List</b></p>
<p style="position:absolute;top:506px;left:439px;white-space:nowrap" class="ft2346"><b>Frames</b></p>
<p style="position:absolute;top:543px;left:477px;white-space:nowrap" class="ft2336"><b>f1</b></p>
<p style="position:absolute;top:543px;left:567px;white-space:nowrap" class="ft2336"><b>{a0, b0,&#160;&#160;c0, d0, e0}</b></p>
<p style="position:absolute;top:580px;left:477px;white-space:nowrap" class="ft2336"><b>f2</b></p>
<p style="position:absolute;top:580px;left:567px;white-space:nowrap" class="ft2336"><b>{a2, b1,&#160;&#160;c2, d1, e1}</b></p>
<p style="position:absolute;top:617px;left:477px;white-space:nowrap" class="ft2336"><b>f3</b></p>
<p style="position:absolute;top:617px;left:567px;white-space:nowrap" class="ft2336"><b>{a3, b2,&#160;&#160;c3, d2, e2}</b></p>
<p style="position:absolute;top:655px;left:477px;white-space:nowrap" class="ft2336"><b>f4</b></p>
<p style="position:absolute;top:655px;left:588px;white-space:nowrap" class="ft2336"><b>{a3, c3, d5}</b></p>
<p style="position:absolute;top:469px;left:673px;white-space:nowrap" class="ft2352"><b>Node&#160;<i>A</i></b></p>
<p style="position:absolute;top:719px;left:565px;white-space:nowrap" class="ft2336"><b>a0</b></p>
<p style="position:absolute;top:719px;left:613px;white-space:nowrap" class="ft2336"><b>b0</b></p>
<p style="position:absolute;top:719px;left:661px;white-space:nowrap" class="ft2336"><b>c0</b></p>
<p style="position:absolute;top:719px;left:708px;white-space:nowrap" class="ft2336"><b>d0</b></p>
<p style="position:absolute;top:719px;left:756px;white-space:nowrap" class="ft2336"><b>e0</b></p>
<p style="position:absolute;top:746px;left:568px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:746px;left:616px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:746px;left:664px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:746px;left:711px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:746px;left:759px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:772px;left:568px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:772px;left:616px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:772px;left:664px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:772px;left:711px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:772px;left:759px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:719px;left:512px;white-space:nowrap" class="ft2336"><b>Root</b></p>
<p style="position:absolute;top:746px;left:516px;white-space:nowrap" class="ft2336"><b>CC</b></p>
<p style="position:absolute;top:772px;left:521px;white-space:nowrap" class="ft2336"><b>C</b></p>
<p style="position:absolute;top:746px;left:468px;white-space:nowrap" class="ft2336"><b>f1</b></p>
<p style="position:absolute;top:799px;left:565px;white-space:nowrap" class="ft2336"><b>a2</b></p>
<p style="position:absolute;top:799px;left:613px;white-space:nowrap" class="ft2336"><b>b1</b></p>
<p style="position:absolute;top:799px;left:660px;white-space:nowrap" class="ft2336"><b>c2</b></p>
<p style="position:absolute;top:799px;left:708px;white-space:nowrap" class="ft2336"><b>d1</b></p>
<p style="position:absolute;top:799px;left:756px;white-space:nowrap" class="ft2336"><b>e1</b></p>
<p style="position:absolute;top:826px;left:568px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:826px;left:616px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:826px;left:664px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:826px;left:711px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:826px;left:759px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:851px;left:568px;white-space:nowrap" class="ft2336"><b>-</b></p>
<p style="position:absolute;top:851px;left:616px;white-space:nowrap" class="ft2336"><b>-</b></p>
<p style="position:absolute;top:851px;left:664px;white-space:nowrap" class="ft2336"><b>-</b></p>
<p style="position:absolute;top:851px;left:711px;white-space:nowrap" class="ft2336"><b>-</b></p>
<p style="position:absolute;top:851px;left:759px;white-space:nowrap" class="ft2336"><b>-</b></p>
<p style="position:absolute;top:799px;left:512px;white-space:nowrap" class="ft2336"><b>Root</b></p>
<p style="position:absolute;top:825px;left:516px;white-space:nowrap" class="ft2336"><b>CC</b></p>
<p style="position:absolute;top:851px;left:521px;white-space:nowrap" class="ft2336"><b>C</b></p>
<p style="position:absolute;top:826px;left:468px;white-space:nowrap" class="ft2336"><b>f2</b></p>
<p style="position:absolute;top:880px;left:565px;white-space:nowrap" class="ft2336"><b>a3</b></p>
<p style="position:absolute;top:880px;left:613px;white-space:nowrap" class="ft2336"><b>b2</b></p>
<p style="position:absolute;top:880px;left:660px;white-space:nowrap" class="ft2336"><b>c3</b></p>
<p style="position:absolute;top:880px;left:708px;white-space:nowrap" class="ft2336"><b>d2</b></p>
<p style="position:absolute;top:880px;left:756px;white-space:nowrap" class="ft2336"><b>e2</b></p>
<p style="position:absolute;top:907px;left:568px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:907px;left:616px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:907px;left:664px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:907px;left:711px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:907px;left:759px;white-space:nowrap" class="ft2336"><b>√</b></p>
<p style="position:absolute;top:932px;left:568px;white-space:nowrap" class="ft2336"><b>-</b></p>
<p style="position:absolute;top:932px;left:616px;white-space:nowrap" class="ft2336"><b>-</b></p>
<p style="position:absolute;top:932px;left:664px;white-space:nowrap" class="ft2336"><b>-</b></p>
<p style="position:absolute;top:932px;left:711px;white-space:nowrap" class="ft2336"><b>-</b></p>
<p style="position:absolute;top:932px;left:759px;white-space:nowrap" class="ft2336"><b>-</b></p>
<p style="position:absolute;top:878px;left:512px;white-space:nowrap" class="ft2336"><b>Root</b></p>
<p style="position:absolute;top:905px;left:516px;white-space:nowrap" class="ft2336"><b>CC</b></p>
<p style="position:absolute;top:932px;left:521px;white-space:nowrap" class="ft2336"><b>C</b></p>
<p style="position:absolute;top:907px;left:468px;white-space:nowrap" class="ft2336"><b>f3</b></p>
<p style="position:absolute;top:981px;left:310px;white-space:nowrap" class="ft232">Figure&#160;17:&#160;The&#160;node&#160;of&#160;A&#160;when&#160;Clotho&#160;is&#160;selected</p>
<p style="position:absolute;top:1037px;left:108px;white-space:nowrap" class="ft235">Figure&#160;17&#160;shows&#160;the&#160;state&#160;of&#160;node&#160;A&#160;when&#160;a&#160;Clotho&#160;is&#160;selected.&#160;In&#160;this&#160;example,&#160;node&#160;A&#160;knows&#160;all&#160;roots&#160;in&#160;the&#160;frame&#160;f1<br/>become&#160;Clotho’s.&#160;Node&#160;A&#160;prunes&#160;unnecessary&#160;information&#160;on&#160;its&#160;own&#160;structure.&#160;In&#160;this&#160;case,&#160;node&#160;A&#160;prunes&#160;the&#160;root&#160;set<br/>in&#160;the&#160;frame&#160;f1&#160;since&#160;all&#160;roots&#160;in&#160;the&#160;frame&#160;f1&#160;become&#160;Clotho&#160;and&#160;the&#160;Clotho&#160;Check&#160;list&#160;stores&#160;the&#160;Clotho&#160;information.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft232">22</p>
</div>
<!-- Page 24 -->
<a name="24"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2454{font-size:10px;font-family:Times;color:#0000ff;}
	.ft2455{font-size:10px;font-family:Times;color:#01ff00;}
	.ft2456{font-size:10px;font-family:Times;color:#ff0000;}
	.ft2457{font-size:10px;font-family:Times;color:#ff00ff;}
	.ft2458{font-size:10px;font-family:Times;color:#00ffff;}
	.ft2459{font-size:10px;font-family:Times;color:#ff9900;}
	.ft2460{font-size:13px;font-family:Times;color:#000000;}
-->
</style>
<div id="page24-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft242">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft242">3.12</p>
<p style="position:absolute;top:113px;left:149px;white-space:nowrap" class="ft242">Atropos&#160;Selection</p>
<p style="position:absolute;top:143px;left:108px;white-space:nowrap" class="ft245">Atropos&#160;selection&#160;algorithm&#160;is&#160;the&#160;process&#160;in&#160;which&#160;the&#160;candidate&#160;time&#160;generated&#160;from&#160;Clotho&#160;selection&#160;is&#160;shared&#160;with<br/>other&#160;nodes,&#160;and&#160;each&#160;root&#160;re-selects&#160;candidate&#160;time&#160;repeatedly&#160;until&#160;all&#160;nodes&#160;have&#160;same&#160;candidate&#160;time&#160;for&#160;a&#160;Clotho.</p>
<p style="position:absolute;top:183px;left:108px;white-space:nowrap" class="ft245">After&#160;a&#160;Clotho&#160;is&#160;nominated,&#160;each&#160;node&#160;then&#160;computes&#160;a&#160;candidate&#160;time&#160;of&#160;the&#160;Clotho.&#160;If&#160;there&#160;are&#160;more&#160;than&#160;two-<br/>thirds&#160;of&#160;the&#160;nodes&#160;that&#160;compute&#160;the&#160;same&#160;value&#160;for&#160;candidate&#160;time,&#160;that&#160;time&#160;value&#160;is&#160;recorded.&#160;Otherwise,&#160;each&#160;node<br/>reselects&#160;candidate&#160;time.&#160;By&#160;the&#160;reselection&#160;process,&#160;each&#160;node&#160;reaches&#160;time&#160;consensus&#160;for&#160;candidate&#160;time&#160;of&#160;Clotho<br/>as&#160;the&#160;OPERA&#160;chain&#160;(DAG)&#160;grows.&#160;The&#160;candidate&#160;time&#160;reaching&#160;the&#160;consensus&#160;is&#160;called&#160;Atropos&#160;consensus&#160;time.<br/>After&#160;Atropos&#160;consensus&#160;time&#160;is&#160;computed,&#160;the&#160;Clotho&#160;is&#160;nominated&#160;to&#160;Atropos&#160;and&#160;each&#160;node&#160;stores&#160;the&#160;hash&#160;value<br/>of&#160;Atropos&#160;and&#160;Atropos&#160;consensus&#160;time&#160;in&#160;Main-Chain&#160;(blockchain).&#160;The&#160;Main-chain&#160;is&#160;used&#160;for&#160;time&#160;order&#160;between<br/>event&#160;blocks.&#160;The&#160;proof&#160;of&#160;Atropos&#160;consensus&#160;time&#160;selection&#160;is&#160;shown&#160;in&#160;the&#160;section&#160;5.2.</p>
<p style="position:absolute;top:323px;left:127px;white-space:nowrap" class="ft2418">a0</p>
<p style="position:absolute;top:376px;left:127px;white-space:nowrap" class="ft2418">b0</p>
<p style="position:absolute;top:428px;left:126px;white-space:nowrap" class="ft2418">c0</p>
<p style="position:absolute;top:481px;left:126px;white-space:nowrap" class="ft2418">d0</p>
<p style="position:absolute;top:534px;left:126px;white-space:nowrap" class="ft2418">e0</p>
<p style="position:absolute;top:324px;left:174px;white-space:nowrap" class="ft2418">a1</p>
<p style="position:absolute;top:324px;left:262px;white-space:nowrap" class="ft2418">a2</p>
<p style="position:absolute;top:323px;left:382px;white-space:nowrap" class="ft2418">a3</p>
<p style="position:absolute;top:323px;left:483px;white-space:nowrap" class="ft2418">a4</p>
<p style="position:absolute;top:323px;left:557px;white-space:nowrap" class="ft2418">a5</p>
<p style="position:absolute;top:376px;left:208px;white-space:nowrap" class="ft2418">b1</p>
<p style="position:absolute;top:376px;left:351px;white-space:nowrap" class="ft2418">b2</p>
<p style="position:absolute;top:376px;left:427px;white-space:nowrap" class="ft2418">b3</p>
<p style="position:absolute;top:376px;left:506px;white-space:nowrap" class="ft2418">b4</p>
<p style="position:absolute;top:428px;left:177px;white-space:nowrap" class="ft2418">c1</p>
<p style="position:absolute;top:481px;left:225px;white-space:nowrap" class="ft2418">d1</p>
<p style="position:absolute;top:428px;left:284px;white-space:nowrap" class="ft2418">c2</p>
<p style="position:absolute;top:428px;left:399px;white-space:nowrap" class="ft2418">c3</p>
<p style="position:absolute;top:481px;left:380px;white-space:nowrap" class="ft2418">d2</p>
<p style="position:absolute;top:428px;left:479px;white-space:nowrap" class="ft2418">c4</p>
<p style="position:absolute;top:428px;left:579px;white-space:nowrap" class="ft2418">c5</p>
<p style="position:absolute;top:479px;left:529px;white-space:nowrap" class="ft2418">d3</p>
<p style="position:absolute;top:534px;left:340px;white-space:nowrap" class="ft2418">e1</p>
<p style="position:absolute;top:534px;left:440px;white-space:nowrap" class="ft2418">e2</p>
<p style="position:absolute;top:532px;left:598px;white-space:nowrap" class="ft2418">e3</p>
<p style="position:absolute;top:323px;left:679px;white-space:nowrap" class="ft2418">a6</p>
<p style="position:absolute;top:376px;left:611px;white-space:nowrap" class="ft2418">b5</p>
<p style="position:absolute;top:427px;left:658px;white-space:nowrap" class="ft2418">c6</p>
<p style="position:absolute;top:427px;left:736px;white-space:nowrap" class="ft2418">c7</p>
<p style="position:absolute;top:478px;left:707px;white-space:nowrap" class="ft2418">d4</p>
<p style="position:absolute;top:534px;left:677px;white-space:nowrap" class="ft2418">e4</p>
<p style="position:absolute;top:534px;left:774px;white-space:nowrap" class="ft2418">e5</p>
<p style="position:absolute;top:567px;left:126px;white-space:nowrap" class="ft2454">f1</p>
<p style="position:absolute;top:567px;left:260px;white-space:nowrap" class="ft2455">f2</p>
<p style="position:absolute;top:567px;left:401px;white-space:nowrap" class="ft2456">f3</p>
<p style="position:absolute;top:567px;left:524px;white-space:nowrap" class="ft2457">f4</p>
<p style="position:absolute;top:566px;left:673px;white-space:nowrap" class="ft2458">f5</p>
<p style="position:absolute;top:566px;left:774px;white-space:nowrap" class="ft2459">f6</p>
<p style="position:absolute;top:628px;left:119px;white-space:nowrap" class="ft2460">Atropos</p>
<p style="position:absolute;top:671px;left:354px;white-space:nowrap" class="ft242">Figure&#160;18:&#160;An&#160;Example&#160;of&#160;Atropos</p>
<p style="position:absolute;top:717px;left:108px;white-space:nowrap" class="ft245">Figure&#160;18&#160;shows&#160;the&#160;example&#160;of&#160;Atropos&#160;selection.&#160;In&#160;Figure&#160;16,&#160;all&#160;roots&#160;in&#160;the&#160;frame&#160;f1&#160;are&#160;selected&#160;as&#160;Clotho<br/>through&#160;the&#160;existence&#160;of&#160;roots&#160;in&#160;the&#160;frame&#160;f4.&#160;Each&#160;root&#160;in&#160;the&#160;frame&#160;f5&#160;computes&#160;candidate&#160;time&#160;using&#160;timestamps&#160;of<br/>reachable&#160;roots&#160;in&#160;the&#160;frame&#160;f4.&#160;Each&#160;root&#160;in&#160;the&#160;frame&#160;f5&#160;stores&#160;the&#160;candidate&#160;time&#160;to&#160;min-max&#160;value&#160;space.&#160;The&#160;root<br/>r6&#160;in&#160;the&#160;frame&#160;f6&#160;can&#160;reach&#160;more&#160;than&#160;2n/3&#160;roots&#160;in&#160;f5&#160;and&#160;r6&#160;can&#160;know&#160;the&#160;candidate&#160;time&#160;of&#160;the&#160;reachable&#160;roots&#160;that<br/>f5&#160;takes.&#160;If&#160;r6&#160;knows&#160;the&#160;same&#160;candidate&#160;time&#160;than&#160;more&#160;than&#160;2n/3,&#160;we&#160;select&#160;the&#160;candidate&#160;time&#160;as&#160;Atropos&#160;consensus<br/>time.&#160;Then&#160;all&#160;Clotho&#160;in&#160;the&#160;frame&#160;f1&#160;become&#160;Atropos.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft242">23</p>
</div>
<!-- Page 25 -->
<a name="25"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2561{font-size:17px;font-family:Times;color:#000000;}
	.ft2562{font-size:17px;font-family:Times;color:#000000;}
-->
</style>
<div id="page25-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft252">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:145px;left:326px;white-space:nowrap" class="ft2519"><b>Flag&#160;Table</b></p>
<p style="position:absolute;top:399px;left:500px;white-space:nowrap" class="ft2519"><b>OPERA&#160;chain&#160;</b></p>
<p style="position:absolute;top:170px;left:356px;white-space:nowrap" class="ft2512"><b>A</b></p>
<p style="position:absolute;top:170px;left:413px;white-space:nowrap" class="ft2512"><b>{a6, b5}</b></p>
<p style="position:absolute;top:196px;left:356px;white-space:nowrap" class="ft2512"><b>B</b></p>
<p style="position:absolute;top:196px;left:420px;white-space:nowrap" class="ft2512"><b>{b5}</b></p>
<p style="position:absolute;top:222px;left:356px;white-space:nowrap" class="ft2512"><b>C</b></p>
<p style="position:absolute;top:222px;left:413px;white-space:nowrap" class="ft2512"><b>{b5,&#160;&#160;c7}</b></p>
<p style="position:absolute;top:248px;left:356px;white-space:nowrap" class="ft2512"><b>D</b></p>
<p style="position:absolute;top:248px;left:413px;white-space:nowrap" class="ft2512"><b>{a6, d4}</b></p>
<p style="position:absolute;top:274px;left:356px;white-space:nowrap" class="ft2512"><b>E</b></p>
<p style="position:absolute;top:274px;left:394px;white-space:nowrap" class="ft2512"><b>{a6, b5,&#160;&#160;c7, d4, e4}</b></p>
<p style="position:absolute;top:303px;left:241px;white-space:nowrap" class="ft2519"><b>Clotho&#160;Check&#160;List</b></p>
<p style="position:absolute;top:145px;left:500px;white-space:nowrap" class="ft2519"><b>Frames</b></p>
<p style="position:absolute;top:170px;left:524px;white-space:nowrap" class="ft2512"><b>f4</b></p>
<p style="position:absolute;top:170px;left:586px;white-space:nowrap" class="ft2512"><b>{a5, b4,&#160;&#160;c4, d3, e3}</b></p>
<p style="position:absolute;top:196px;left:524px;white-space:nowrap" class="ft2512"><b>f5</b></p>
<p style="position:absolute;top:196px;left:586px;white-space:nowrap" class="ft2512"><b>{a6, b5,&#160;&#160;c7, d4, e4}</b></p>
<p style="position:absolute;top:222px;left:524px;white-space:nowrap" class="ft2512"><b>f6</b></p>
<p style="position:absolute;top:222px;left:613px;white-space:nowrap" class="ft2512"><b>{e5}</b></p>
<p style="position:absolute;top:118px;left:659px;white-space:nowrap" class="ft2561"><b>Node&#160;<i>B</i></b></p>
<p style="position:absolute;top:322px;left:330px;white-space:nowrap" class="ft2512"><b>a0</b></p>
<p style="position:absolute;top:322px;left:363px;white-space:nowrap" class="ft2512"><b>b0</b></p>
<p style="position:absolute;top:322px;left:395px;white-space:nowrap" class="ft2512"><b>c0</b></p>
<p style="position:absolute;top:322px;left:428px;white-space:nowrap" class="ft2512"><b>d0</b></p>
<p style="position:absolute;top:322px;left:461px;white-space:nowrap" class="ft2512"><b>e0</b></p>
<p style="position:absolute;top:341px;left:332px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:341px;left:365px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:341px;left:398px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:341px;left:430px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:341px;left:463px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:359px;left:332px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:359px;left:365px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:359px;left:398px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:359px;left:430px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:359px;left:463px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:322px;left:293px;white-space:nowrap" class="ft2512"><b>Root</b></p>
<p style="position:absolute;top:341px;left:296px;white-space:nowrap" class="ft2512"><b>CC</b></p>
<p style="position:absolute;top:359px;left:299px;white-space:nowrap" class="ft2512"><b>C</b></p>
<p style="position:absolute;top:341px;left:263px;white-space:nowrap" class="ft2512"><b>f1</b></p>
<p style="position:absolute;top:378px;left:330px;white-space:nowrap" class="ft2512"><b>a2</b></p>
<p style="position:absolute;top:378px;left:362px;white-space:nowrap" class="ft2512"><b>b1</b></p>
<p style="position:absolute;top:378px;left:395px;white-space:nowrap" class="ft2512"><b>c2</b></p>
<p style="position:absolute;top:378px;left:428px;white-space:nowrap" class="ft2512"><b>d1</b></p>
<p style="position:absolute;top:378px;left:461px;white-space:nowrap" class="ft2512"><b>e1</b></p>
<p style="position:absolute;top:396px;left:332px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:396px;left:365px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:396px;left:397px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:396px;left:430px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:396px;left:463px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:414px;left:332px;white-space:nowrap" class="ft2512"><b>-</b></p>
<p style="position:absolute;top:414px;left:365px;white-space:nowrap" class="ft2512"><b>-</b></p>
<p style="position:absolute;top:414px;left:397px;white-space:nowrap" class="ft2512"><b>-</b></p>
<p style="position:absolute;top:414px;left:430px;white-space:nowrap" class="ft2512"><b>-</b></p>
<p style="position:absolute;top:414px;left:463px;white-space:nowrap" class="ft2512"><b>-</b></p>
<p style="position:absolute;top:378px;left:293px;white-space:nowrap" class="ft2512"><b>Root</b></p>
<p style="position:absolute;top:395px;left:296px;white-space:nowrap" class="ft2512"><b>CC</b></p>
<p style="position:absolute;top:414px;left:299px;white-space:nowrap" class="ft2512"><b>C</b></p>
<p style="position:absolute;top:396px;left:263px;white-space:nowrap" class="ft2512"><b>f2</b></p>
<p style="position:absolute;top:433px;left:330px;white-space:nowrap" class="ft2512"><b>a3</b></p>
<p style="position:absolute;top:433px;left:362px;white-space:nowrap" class="ft2512"><b>b2</b></p>
<p style="position:absolute;top:433px;left:395px;white-space:nowrap" class="ft2512"><b>c3</b></p>
<p style="position:absolute;top:433px;left:428px;white-space:nowrap" class="ft2512"><b>d2</b></p>
<p style="position:absolute;top:433px;left:461px;white-space:nowrap" class="ft2512"><b>e2</b></p>
<p style="position:absolute;top:452px;left:332px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:452px;left:365px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:452px;left:397px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:452px;left:430px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:452px;left:463px;white-space:nowrap" class="ft2512"><b>√</b></p>
<p style="position:absolute;top:469px;left:332px;white-space:nowrap" class="ft2512"><b>-</b></p>
<p style="position:absolute;top:469px;left:365px;white-space:nowrap" class="ft2512"><b>-</b></p>
<p style="position:absolute;top:469px;left:397px;white-space:nowrap" class="ft2512"><b>-</b></p>
<p style="position:absolute;top:469px;left:430px;white-space:nowrap" class="ft2512"><b>-</b></p>
<p style="position:absolute;top:469px;left:463px;white-space:nowrap" class="ft2512"><b>-</b></p>
<p style="position:absolute;top:432px;left:293px;white-space:nowrap" class="ft2512"><b>Root</b></p>
<p style="position:absolute;top:451px;left:296px;white-space:nowrap" class="ft2512"><b>CC</b></p>
<p style="position:absolute;top:469px;left:299px;white-space:nowrap" class="ft2512"><b>C</b></p>
<p style="position:absolute;top:452px;left:263px;white-space:nowrap" class="ft2512"><b>f3</b></p>
<p style="position:absolute;top:361px;left:520px;white-space:nowrap" class="ft2512"><b>f1</b></p>
<p style="position:absolute;top:361px;left:553px;white-space:nowrap" class="ft2517">15</p>
<p style="position:absolute;top:282px;left:513px;white-space:nowrap" class="ft2512"><b>Hash</b></p>
<p style="position:absolute;top:282px;left:553px;white-space:nowrap" class="ft2517">a0</p>
<p style="position:absolute;top:282px;left:589px;white-space:nowrap" class="ft2517">b0</p>
<p style="position:absolute;top:282px;left:625px;white-space:nowrap" class="ft2517">c0</p>
<p style="position:absolute;top:282px;left:661px;white-space:nowrap" class="ft2517">d0</p>
<p style="position:absolute;top:282px;left:697px;white-space:nowrap" class="ft2517">e0</p>
<p style="position:absolute;top:301px;left:512px;white-space:nowrap" class="ft2512"><b>Time</b></p>
<p style="position:absolute;top:301px;left:553px;white-space:nowrap" class="ft2517">10</p>
<p style="position:absolute;top:301px;left:589px;white-space:nowrap" class="ft2517">10</p>
<p style="position:absolute;top:301px;left:625px;white-space:nowrap" class="ft2517">10</p>
<p style="position:absolute;top:301px;left:661px;white-space:nowrap" class="ft2517">10</p>
<p style="position:absolute;top:301px;left:697px;white-space:nowrap" class="ft2517">10</p>
<p style="position:absolute;top:336px;left:501px;white-space:nowrap" class="ft2519"><b>Min&#160;time</b></p>
<p style="position:absolute;top:259px;left:499px;white-space:nowrap" class="ft2519"><b>Main&#160;Chain</b></p>
<p style="position:absolute;top:338px;left:187px;white-space:nowrap" class="ft2519"><b>Pruning</b></p>
<p style="position:absolute;top:511px;left:306px;white-space:nowrap" class="ft252">Figure&#160;19:&#160;The&#160;node&#160;of&#160;B&#160;when&#160;Atropos&#160;is&#160;selected</p>
<p style="position:absolute;top:588px;left:108px;white-space:nowrap" class="ft258">Figure&#160;19&#160;shows&#160;the&#160;state&#160;of&#160;node&#160;B&#160;when&#160;Atropos&#160;is&#160;selected.&#160;In&#160;this&#160;example,&#160;node&#160;B&#160;knows&#160;all&#160;roots&#160;in&#160;the&#160;frame&#160;f1<br/>become&#160;Atropos.&#160;Then&#160;node&#160;B&#160;prunes&#160;information&#160;of&#160;the&#160;frame&#160;f1&#160;in&#160;clotho&#160;check&#160;list&#160;since&#160;all&#160;roots&#160;in&#160;the&#160;frame&#160;f1<br/>become&#160;Atropos&#160;and&#160;main&#160;chain&#160;stores&#160;Atropos&#160;information.</p>
<p style="position:absolute;top:688px;left:108px;white-space:nowrap" class="ft252">Algorithm&#160;5&#160;Atropos&#160;Consensus&#160;Time&#160;Selection</p>
<p style="position:absolute;top:709px;left:115px;white-space:nowrap" class="ft2511">1:</p>
<p style="position:absolute;top:708px;left:133px;white-space:nowrap" class="ft252">procedure&#160;ATROPOS&#160;CONSENSUS&#160;TIME&#160;SELECTION</p>
<p style="position:absolute;top:726px;left:115px;white-space:nowrap" class="ft2511">2:</p>
<p style="position:absolute;top:725px;left:156px;white-space:nowrap" class="ft252">Input:&#160;c.Clotho&#160;in&#160;frame&#160;fi</p>
<p style="position:absolute;top:742px;left:115px;white-space:nowrap" class="ft2511">3:</p>
<p style="position:absolute;top:741px;left:156px;white-space:nowrap" class="ft252">c.consensus&#160;time&#160;←&#160;nil</p>
<p style="position:absolute;top:759px;left:115px;white-space:nowrap" class="ft2511">4:</p>
<p style="position:absolute;top:757px;left:156px;white-space:nowrap" class="ft252">m&#160;←&#160;the&#160;index&#160;of&#160;the&#160;last&#160;frame&#160;fm</p>
<p style="position:absolute;top:775px;left:115px;white-space:nowrap" class="ft2511">5:</p>
<p style="position:absolute;top:774px;left:156px;white-space:nowrap" class="ft252">for&#160;d&#160;from&#160;3&#160;to&#160;(m-i)&#160;do</p>
<p style="position:absolute;top:791px;left:115px;white-space:nowrap" class="ft2511">6:</p>
<p style="position:absolute;top:790px;left:178px;white-space:nowrap" class="ft252">R&#160;←&#160;be&#160;the&#160;Root&#160;set&#160;RS</p>
<p style="position:absolute;top:799px;left:324px;white-space:nowrap" class="ft2532">i+d&#160;in&#160;frame&#160;fi+d</p>
<p style="position:absolute;top:808px;left:115px;white-space:nowrap" class="ft2511">7:</p>
<p style="position:absolute;top:806px;left:178px;white-space:nowrap" class="ft252">for&#160;r&#160;∈&#160;R&#160;do</p>
<p style="position:absolute;top:824px;left:115px;white-space:nowrap" class="ft2511">8:</p>
<p style="position:absolute;top:823px;left:201px;white-space:nowrap" class="ft252">if&#160;d&#160;is&#160;3&#160;then</p>
<p style="position:absolute;top:840px;left:115px;white-space:nowrap" class="ft2511">9:</p>
<p style="position:absolute;top:839px;left:223px;white-space:nowrap" class="ft252">if&#160;r&#160;confirms&#160;c&#160;as&#160;Clotho&#160;then</p>
<p style="position:absolute;top:857px;left:109px;white-space:nowrap" class="ft2511">10:</p>
<p style="position:absolute;top:855px;left:245px;white-space:nowrap" class="ft252">r.time(c)&#160;←&#160;r.lamport&#160;time</p>
<p style="position:absolute;top:877px;left:109px;white-space:nowrap" class="ft2511">11:</p>
<p style="position:absolute;top:876px;left:201px;white-space:nowrap" class="ft252">else&#160;if&#160;d&#160;&gt;&#160;3&#160;then</p>
<p style="position:absolute;top:893px;left:109px;white-space:nowrap" class="ft2511">12:</p>
<p style="position:absolute;top:892px;left:223px;white-space:nowrap" class="ft252">s&#160;←&#160;the&#160;set&#160;of&#160;Root&#160;in&#160;fj−1&#160;that&#160;r&#160;can&#160;be&#160;happened-before&#160;with&#160;2n/3&#160;condition</p>
<p style="position:absolute;top:910px;left:109px;white-space:nowrap" class="ft2511">13:</p>
<p style="position:absolute;top:909px;left:223px;white-space:nowrap" class="ft252">t&#160;←&#160;RESELECTION(s,&#160;c)</p>
<p style="position:absolute;top:926px;left:109px;white-space:nowrap" class="ft2511">14:</p>
<p style="position:absolute;top:925px;left:223px;white-space:nowrap" class="ft252">k&#160;←&#160;the&#160;number&#160;of&#160;root&#160;having&#160;t&#160;in&#160;s</p>
<p style="position:absolute;top:942px;left:109px;white-space:nowrap" class="ft2511">15:</p>
<p style="position:absolute;top:941px;left:223px;white-space:nowrap" class="ft252">if&#160;d&#160;mod&#160;h&#160;&gt;&#160;0&#160;then</p>
<p style="position:absolute;top:959px;left:109px;white-space:nowrap" class="ft2511">16:</p>
<p style="position:absolute;top:957px;left:245px;white-space:nowrap" class="ft252">if&#160;k&#160;&gt;&#160;2n/3&#160;then</p>
<p style="position:absolute;top:975px;left:109px;white-space:nowrap" class="ft2511">17:</p>
<p style="position:absolute;top:974px;left:268px;white-space:nowrap" class="ft252">c.consensus&#160;time&#160;←&#160;t</p>
<p style="position:absolute;top:991px;left:109px;white-space:nowrap" class="ft2511">18:</p>
<p style="position:absolute;top:990px;left:268px;white-space:nowrap" class="ft252">r.time(c)&#160;←&#160;t</p>
<p style="position:absolute;top:1008px;left:109px;white-space:nowrap" class="ft2511">19:</p>
<p style="position:absolute;top:1007px;left:245px;white-space:nowrap" class="ft252">else</p>
<p style="position:absolute;top:1024px;left:109px;white-space:nowrap" class="ft2511">20:</p>
<p style="position:absolute;top:1023px;left:268px;white-space:nowrap" class="ft252">r.time(c)&#160;←&#160;t</p>
<p style="position:absolute;top:1044px;left:109px;white-space:nowrap" class="ft2511">21:</p>
<p style="position:absolute;top:1043px;left:223px;white-space:nowrap" class="ft252">else</p>
<p style="position:absolute;top:1061px;left:109px;white-space:nowrap" class="ft2511">22:</p>
<p style="position:absolute;top:1059px;left:245px;white-space:nowrap" class="ft252">r.time(c)&#160;←&#160;the&#160;minimum&#160;value&#160;in&#160;s</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft252">24</p>
</div>
<!-- Page 26 -->
<a name="26"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page26-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft262">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:112px;left:108px;white-space:nowrap" class="ft262">Algorithm&#160;6&#160;Consensus&#160;Time&#160;Reselection</p>
<p style="position:absolute;top:133px;left:115px;white-space:nowrap" class="ft2611">1:</p>
<p style="position:absolute;top:132px;left:133px;white-space:nowrap" class="ft262">function&#160;RESELECTION</p>
<p style="position:absolute;top:150px;left:115px;white-space:nowrap" class="ft2611">2:</p>
<p style="position:absolute;top:148px;left:156px;white-space:nowrap" class="ft262">Input:&#160;Root&#160;set&#160;R,&#160;and&#160;Clotho&#160;c</p>
<p style="position:absolute;top:166px;left:115px;white-space:nowrap" class="ft2611">3:</p>
<p style="position:absolute;top:165px;left:156px;white-space:nowrap" class="ft262">Output:&#160;candidate&#160;time&#160;t</p>
<p style="position:absolute;top:182px;left:115px;white-space:nowrap" class="ft2611">4:</p>
<p style="position:absolute;top:181px;left:156px;white-space:nowrap" class="ft262">τ&#160;←&#160;set&#160;of&#160;all&#160;ti&#160;=&#160;r.time(c)&#160;for&#160;all&#160;r&#160;in&#160;R</p>
<p style="position:absolute;top:199px;left:115px;white-space:nowrap" class="ft2611">5:</p>
<p style="position:absolute;top:197px;left:156px;white-space:nowrap" class="ft262">D&#160;←&#160;set&#160;of&#160;tuples&#160;(ti,&#160;ci)&#160;computed&#160;from&#160;τ&#160;,&#160;where&#160;ci&#160;=&#160;count(ti)</p>
<p style="position:absolute;top:215px;left:115px;white-space:nowrap" class="ft2611">6:</p>
<p style="position:absolute;top:214px;left:156px;white-space:nowrap" class="ft262">max&#160;count&#160;←&#160;max(ci)</p>
<p style="position:absolute;top:231px;left:115px;white-space:nowrap" class="ft2611">7:</p>
<p style="position:absolute;top:230px;left:156px;white-space:nowrap" class="ft262">t&#160;←&#160;inf&#160;inite</p>
<p style="position:absolute;top:248px;left:115px;white-space:nowrap" class="ft2611">8:</p>
<p style="position:absolute;top:247px;left:156px;white-space:nowrap" class="ft262">for&#160;tuple&#160;(ti,&#160;ci)&#160;∈&#160;D&#160;do</p>
<p style="position:absolute;top:264px;left:115px;white-space:nowrap" class="ft2611">9:</p>
<p style="position:absolute;top:263px;left:178px;white-space:nowrap" class="ft262">if&#160;max&#160;count&#160;==&#160;ci&#160;&amp;&amp;&#160;ti&#160;&lt;&#160;t&#160;then</p>
<p style="position:absolute;top:281px;left:109px;white-space:nowrap" class="ft2611">10:</p>
<p style="position:absolute;top:279px;left:201px;white-space:nowrap" class="ft262">t&#160;←&#160;ti</p>
<p style="position:absolute;top:299px;left:109px;white-space:nowrap" class="ft2611">11:</p>
<p style="position:absolute;top:298px;left:156px;white-space:nowrap" class="ft262">return&#160;t</p>
<p style="position:absolute;top:347px;left:108px;white-space:nowrap" class="ft265">Algorithm&#160;5&#160;and&#160;6&#160;show&#160;pseudo&#160;code&#160;of&#160;Atropos&#160;consensus&#160;time&#160;selection&#160;and&#160;Consensus&#160;time&#160;reselection.&#160;In&#160;Algo-<br/>rithm&#160;5,&#160;at&#160;line&#160;6,&#160;d&#160;saves&#160;the&#160;deference&#160;of&#160;relationship&#160;between&#160;root&#160;set&#160;of&#160;c&#160;and&#160;w.&#160;Thus,&#160;line&#160;8&#160;means&#160;that&#160;w&#160;is&#160;one<br/>of&#160;the&#160;elements&#160;in&#160;root&#160;set&#160;of&#160;the&#160;frame&#160;fi+3,&#160;where&#160;the&#160;frame&#160;fi&#160;includes&#160;c.&#160;Line&#160;10,&#160;each&#160;root&#160;in&#160;the&#160;frame&#160;fj&#160;selects<br/>own&#160;Lamport&#160;timestamp&#160;as&#160;candidate&#160;time&#160;of&#160;c&#160;when&#160;they&#160;confirm&#160;root&#160;c&#160;as&#160;Cltoho.&#160;In&#160;line&#160;12,&#160;13,&#160;and&#160;14,&#160;s,&#160;t,&#160;and&#160;k<br/>save&#160;the&#160;set&#160;of&#160;root&#160;that&#160;w&#160;can&#160;be&#160;happened-before&#160;with&#160;2n/3&#160;condition&#160;c,&#160;the&#160;result&#160;of&#160;RESELECT&#160;ION&#160;function,<br/>and&#160;the&#160;number&#160;of&#160;root&#160;in&#160;s&#160;having&#160;t.&#160;Line&#160;15&#160;is&#160;checking&#160;whether&#160;there&#160;is&#160;a&#160;difference&#160;as&#160;much&#160;as&#160;h&#160;between&#160;i&#160;and<br/>j&#160;where&#160;h&#160;is&#160;a&#160;constant&#160;value&#160;for&#160;minimum&#160;selection&#160;frame.&#160;Line&#160;16-20&#160;is&#160;checking&#160;whether&#160;more&#160;than&#160;two-thirds&#160;of<br/>root&#160;in&#160;the&#160;frame&#160;fj−1&#160;nominate&#160;the&#160;same&#160;candidate&#160;time.&#160;If&#160;two-thirds&#160;of&#160;root&#160;in&#160;the&#160;frame&#160;fj−1&#160;nominate&#160;the&#160;same<br/>candidate&#160;time,&#160;the&#160;root&#160;c&#160;is&#160;assigned&#160;consensus&#160;time&#160;as&#160;t.&#160;Line&#160;22&#160;is&#160;minimum&#160;selection&#160;frame.&#160;In&#160;minimum&#160;selection<br/>frame,&#160;minimum&#160;value&#160;of&#160;candidate&#160;time&#160;is&#160;selected&#160;to&#160;reach&#160;byzantine&#160;agreement.&#160;Algorithm&#160;6&#160;operates&#160;in&#160;the&#160;middle<br/>of&#160;Algorithm&#160;5.&#160;In&#160;Algorithm&#160;6,&#160;input&#160;is&#160;a&#160;root&#160;set&#160;W&#160;and&#160;output&#160;is&#160;a&#160;reselected&#160;candidate&#160;time.&#160;Line&#160;4-5&#160;computes&#160;the<br/>frequencies&#160;of&#160;each&#160;candidate&#160;time&#160;from&#160;all&#160;the&#160;roots&#160;in&#160;W&#160;.&#160;In&#160;line&#160;6-11,&#160;a&#160;candidate&#160;time&#160;which&#160;is&#160;smallest&#160;time&#160;that&#160;is<br/>the&#160;most&#160;nomitated.&#160;The&#160;time&#160;complexity&#160;of&#160;Algorithm&#160;6&#160;is&#160;O(n)&#160;where&#160;n&#160;is&#160;the&#160;number&#160;of&#160;nodes.&#160;Since&#160;Algorithm&#160;5<br/>includes&#160;Algorithm&#160;6,&#160;the&#160;time&#160;complexity&#160;of&#160;Algorithm&#160;5&#160;is&#160;O(n2)&#160;where&#160;n&#160;is&#160;the&#160;number&#160;of&#160;nodes.</p>
<p style="position:absolute;top:585px;left:108px;white-space:nowrap" class="ft265">In&#160;the&#160;Atropos&#160;Consensus&#160;Time&#160;Selection&#160;algorithm,&#160;nodes&#160;reach&#160;consensus&#160;agreement&#160;about&#160;candidate&#160;time&#160;of&#160;a<br/>Clotho&#160;without&#160;additional&#160;communication&#160;(i.e.,&#160;exchanging&#160;candidate&#160;time)&#160;with&#160;each&#160;other.&#160;Each&#160;node&#160;communicates<br/>with&#160;each&#160;other&#160;through&#160;the&#160;Lachesis&#160;protocol,&#160;the&#160;OPERA&#160;chain&#160;of&#160;all&#160;nodes&#160;grows&#160;up&#160;into&#160;same&#160;shape.&#160;This&#160;allows<br/>each&#160;node&#160;to&#160;know&#160;the&#160;candidate&#160;time&#160;of&#160;other&#160;nodes&#160;based&#160;on&#160;its&#160;OPERA&#160;chain&#160;and&#160;reach&#160;a&#160;consensus&#160;agreement.<br/>The&#160;proof&#160;that&#160;the&#160;agreement&#160;based&#160;on&#160;OPERA&#160;chain&#160;become&#160;agreement&#160;in&#160;action&#160;is&#160;shown&#160;in&#160;the&#160;section&#160;5.2.</p>
<p style="position:absolute;top:675px;left:108px;white-space:nowrap" class="ft265">Atropos&#160;can&#160;be&#160;determined&#160;by&#160;the&#160;consensus&#160;time&#160;of&#160;each&#160;Clotho.&#160;It&#160;is&#160;an&#160;event&#160;block&#160;that&#160;is&#160;determined&#160;by&#160;finality<br/>and&#160;is&#160;non-modifiable.&#160;Furthermore,&#160;all&#160;event&#160;blocks&#160;can&#160;be&#160;reached&#160;from&#160;Atropos&#160;guarantee&#160;finality.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft262">25</p>
</div>
<!-- Page 27 -->
<a name="27"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2763{font-size:16px;font-family:Times;color:#000000;}
	.ft2764{font-size:10px;font-family:Times;color:#ffffff;}
	.ft2765{font-size:6px;font-family:Times;color:#ffffff;}
	.ft2766{font-size:5px;font-family:Times;color:#000000;}
	.ft2767{font-size:16px;line-height:21px;font-family:Times;color:#000000;}
	.ft2768{font-size:16px;line-height:22px;font-family:Times;color:#000000;}
	.ft2769{font-size:13px;line-height:18px;font-family:Times;color:#000000;}
-->
</style>
<div id="page27-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft272">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft272">3.13</p>
<p style="position:absolute;top:113px;left:149px;white-space:nowrap" class="ft272">Lachesis&#160;Consensus</p>
<p style="position:absolute;top:323px;left:142px;white-space:nowrap" class="ft2768"><b>.<br/>.<br/>.</b></p>
<p style="position:absolute;top:251px;left:332px;white-space:nowrap" class="ft2768"><b>.<br/>.<br/>.</b></p>
<p style="position:absolute;top:251px;left:517px;white-space:nowrap" class="ft2768"><b>.<br/>.<br/>.</b></p>
<p style="position:absolute;top:248px;left:709px;white-space:nowrap" class="ft2768"><b>.<br/>.<br/>.</b></p>
<p style="position:absolute;top:196px;left:331px;white-space:nowrap" class="ft2764">r1</p>
<p style="position:absolute;top:235px;left:517px;white-space:nowrap" class="ft2764">r2</p>
<p style="position:absolute;top:317px;left:708px;white-space:nowrap" class="ft2764">r3</p>
<p style="position:absolute;top:386px;left:419px;white-space:nowrap" class="ft2769"><b>Leaf&#160;set</b>:&#160;an&#160;initial&#160;set&#160;of&#160;vertices&#160;by&#160;participants<br/><b>Vertex&#160;set&#160;(Vn)</b>:&#160;a&#160;set&#160;of&#160;vertices&#160;created&#160;by&#160;participants&#160;</p>
<p style="position:absolute;top:423px;left:419px;white-space:nowrap" class="ft2746"><b>Root&#160;set&#160;(Rn)</b>:&#160;blocks&#160;created&#160;by&#160;participants</p>
<p style="position:absolute;top:168px;left:242px;white-space:nowrap" class="ft2734"><b>V1</b></p>
<p style="position:absolute;top:168px;left:425px;white-space:nowrap" class="ft2734"><b>V2</b></p>
<p style="position:absolute;top:168px;left:616px;white-space:nowrap" class="ft2734"><b>V3</b></p>
<p style="position:absolute;top:167px;left:116px;white-space:nowrap" class="ft2736"><b>Leaf&#160;events</b></p>
<p style="position:absolute;top:467px;left:186px;white-space:nowrap" class="ft272">Figure&#160;20:&#160;Consensus&#160;Method&#160;in&#160;a&#160;DAG&#160;(combines&#160;chain&#160;with&#160;consensus&#160;process&#160;of&#160;pBFT)</p>
<p style="position:absolute;top:513px;left:108px;white-space:nowrap" class="ft275">Figure&#160;20&#160;illustrates&#160;how&#160;consensus&#160;is&#160;reached&#160;through&#160;the&#160;domination&#160;relation&#160;in&#160;the&#160;OPERA&#160;chain.&#160;In&#160;the&#160;figure,<br/>leaf&#160;set,&#160;denoted&#160;by&#160;Rs0,&#160;consists&#160;of&#160;the&#160;first&#160;event&#160;blocks&#160;created&#160;by&#160;individual&#160;participant&#160;nodes.&#160;V&#160;is&#160;the&#160;set&#160;of&#160;event<br/>blocks&#160;that&#160;do&#160;not&#160;belong&#160;neither&#160;in&#160;Rs0&#160;nor&#160;in&#160;any&#160;root&#160;set&#160;Rsi.&#160;Given&#160;a&#160;vertex&#160;v&#160;in&#160;V&#160;∪&#160;Rsi,&#160;there&#160;exists&#160;a&#160;path&#160;from<br/>v&#160;that&#160;can&#160;reach&#160;a&#160;leaf&#160;vertex&#160;u&#160;in&#160;Rs0.&#160;Let&#160;r1&#160;and&#160;r2&#160;be&#160;root&#160;event&#160;blocks&#160;in&#160;root&#160;set&#160;Rs1&#160;and&#160;Rs2,&#160;respectively.&#160;r1&#160;is<br/>the&#160;block&#160;where&#160;a&#160;quorum&#160;or&#160;more&#160;blocks&#160;exist&#160;on&#160;a&#160;path&#160;that&#160;reaches&#160;a&#160;leaf&#160;event&#160;block.&#160;Every&#160;path&#160;from&#160;r1&#160;to&#160;a&#160;leaf<br/>vertex&#160;will&#160;contain&#160;a&#160;vertex&#160;in&#160;V1.&#160;Thus,&#160;if&#160;there&#160;exists&#160;a&#160;vertex&#160;r&#160;in&#160;V1&#160;such&#160;that&#160;r&#160;is&#160;created&#160;by&#160;more&#160;than&#160;a&#160;quorum&#160;of<br/>participants,&#160;then&#160;r&#160;is&#160;already&#160;included&#160;in&#160;Rs1.&#160;Likewise,&#160;r2&#160;is&#160;a&#160;block&#160;that&#160;can&#160;be&#160;reached&#160;for&#160;Rs1&#160;including&#160;r1&#160;through<br/>blocks&#160;made&#160;by&#160;a&#160;quorum&#160;of&#160;participants.&#160;For&#160;all&#160;leaf&#160;event&#160;blocks&#160;that&#160;could&#160;be&#160;reached&#160;by&#160;r1,&#160;they&#160;are&#160;connected<br/>with&#160;more&#160;than&#160;quorum&#160;participants&#160;through&#160;the&#160;presence&#160;of&#160;r1.&#160;The&#160;existence&#160;of&#160;the&#160;root&#160;r2&#160;shows&#160;that&#160;information&#160;of<br/>r1&#160;is&#160;connected&#160;with&#160;more&#160;than&#160;a&#160;quorum.&#160;This&#160;kind&#160;of&#160;a&#160;path&#160;search&#160;allows&#160;the&#160;chain&#160;to&#160;reach&#160;consensus&#160;in&#160;a&#160;similar<br/>manner&#160;as&#160;the&#160;pBFT&#160;consensus&#160;processes.&#160;It&#160;is&#160;essential&#160;to&#160;keep&#160;track&#160;of&#160;the&#160;blocks&#160;satisfying&#160;the&#160;pBFT&#160;consensus<br/>process&#160;for&#160;quicker&#160;path&#160;search;&#160;our&#160;OPERA&#160;chain&#160;and&#160;Main-chain&#160;keep&#160;track&#160;of&#160;these&#160;blocks.</p>
<p style="position:absolute;top:717px;left:108px;white-space:nowrap" class="ft275">The&#160;sequential&#160;order&#160;of&#160;each&#160;event&#160;block&#160;is&#160;an&#160;important&#160;aspect&#160;for&#160;Byzantine&#160;fault&#160;tolerance.&#160;In&#160;order&#160;to&#160;determine<br/>the&#160;pre-and-post&#160;sequence&#160;between&#160;all&#160;event&#160;blocks,&#160;we&#160;use&#160;Atropos&#160;consensus&#160;time,&#160;Lamport&#160;timestamp&#160;algorithm<br/>and&#160;the&#160;hash&#160;value&#160;of&#160;the&#160;event&#160;block.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft272">26</p>
</div>
<!-- Page 28 -->
<a name="28"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2870{font-size:18px;font-family:Times;color:#0000ff;}
	.ft2871{font-size:11px;font-family:Times;color:#000000;}
-->
</style>
<div id="page28-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft282">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:341px;left:553px;white-space:nowrap" class="ft2832">1</p>
<p style="position:absolute;top:383px;left:553px;white-space:nowrap" class="ft2832">1’</p>
<p style="position:absolute;top:425px;left:552px;white-space:nowrap" class="ft2832">1’’</p>
<p style="position:absolute;top:467px;left:551px;white-space:nowrap" class="ft2832">1’’’</p>
<p style="position:absolute;top:510px;left:551px;white-space:nowrap" class="ft2832">1’’’’</p>
<p style="position:absolute;top:341px;left:587px;white-space:nowrap" class="ft2832">2</p>
<p style="position:absolute;top:341px;left:689px;white-space:nowrap" class="ft2832">4</p>
<p style="position:absolute;top:383px;left:637px;white-space:nowrap" class="ft2832">3</p>
<p style="position:absolute;top:383px;left:767px;white-space:nowrap" class="ft2832">6</p>
<p style="position:absolute;top:425px;left:602px;white-space:nowrap" class="ft2832">2’</p>
<p style="position:absolute;top:467px;left:657px;white-space:nowrap" class="ft2832">3’</p>
<p style="position:absolute;top:425px;left:705px;white-space:nowrap" class="ft2832">5</p>
<p style="position:absolute;top:467px;left:794px;white-space:nowrap" class="ft2832">6’</p>
<p style="position:absolute;top:508px;left:777px;white-space:nowrap" class="ft2832">5’</p>
<p style="position:absolute;top:342px;left:119px;white-space:nowrap" class="ft2832">a1</p>
<p style="position:absolute;top:385px;left:119px;white-space:nowrap" class="ft2832">b1</p>
<p style="position:absolute;top:427px;left:118px;white-space:nowrap" class="ft2832">c1</p>
<p style="position:absolute;top:469px;left:118px;white-space:nowrap" class="ft2832">d1</p>
<p style="position:absolute;top:512px;left:118px;white-space:nowrap" class="ft2832">e1</p>
<p style="position:absolute;top:342px;left:153px;white-space:nowrap" class="ft2832">a2</p>
<p style="position:absolute;top:342px;left:254px;white-space:nowrap" class="ft2832">a3</p>
<p style="position:absolute;top:385px;left:202px;white-space:nowrap" class="ft2832">b2</p>
<p style="position:absolute;top:385px;left:331px;white-space:nowrap" class="ft2832">b3</p>
<p style="position:absolute;top:427px;left:168px;white-space:nowrap" class="ft2832">c2</p>
<p style="position:absolute;top:469px;left:222px;white-space:nowrap" class="ft2832">d2</p>
<p style="position:absolute;top:427px;left:270px;white-space:nowrap" class="ft2832">c3</p>
<p style="position:absolute;top:469px;left:359px;white-space:nowrap" class="ft2832">d3</p>
<p style="position:absolute;top:511px;left:342px;white-space:nowrap" class="ft2832">e2</p>
<p style="position:absolute;top:456px;left:407px;white-space:nowrap" class="ft283">Lamport&#160;timestamp</p>
<p style="position:absolute;top:119px;left:121px;white-space:nowrap" class="ft2870"><b>Topological&#160;consensus&#160;ordering</b></p>
<p style="position:absolute;top:146px;left:135px;white-space:nowrap" class="ft2811">1.</p>
<p style="position:absolute;top:146px;left:162px;white-space:nowrap" class="ft2811">Smaller&#160;&#160;consensus&#160;time&#160;&#160;of&#160;Atropos,&#160;prior&#160;ordering.</p>
<p style="position:absolute;top:165px;left:135px;white-space:nowrap" class="ft2811">2.</p>
<p style="position:absolute;top:165px;left:162px;white-space:nowrap" class="ft2811">If&#160;same&#160;consensus&#160;time,&#160;&#160;smaller&#160;Lamport&#160;timestamp,&#160;&#160;prior&#160;ordering</p>
<p style="position:absolute;top:183px;left:135px;white-space:nowrap" class="ft2811">3.</p>
<p style="position:absolute;top:183px;left:162px;white-space:nowrap" class="ft2811">If&#160;same&#160;consensus&#160;time&#160;&#160;and same&#160;Lamport&#160;timestamp,&#160;&#160;smaller&#160;hash value,&#160;prior&#160;ordering</p>
<p style="position:absolute;top:224px;left:141px;white-space:nowrap" class="ft2811">We&#160;assume&#160;that&#160;Atropos&#160;are&#160;<b>a3&#160;</b>and&#160;<b>c3</b>.</p>
<p style="position:absolute;top:256px;left:154px;white-space:nowrap" class="ft2811">-</p>
<p style="position:absolute;top:256px;left:181px;white-space:nowrap" class="ft2811">If&#160;consensus&#160;time&#160;of&#160;<b>a3&#160;</b>&lt;&#160;<b>c3</b>,&#160;<b>a3&#160;</b>has&#160;a&#160;prior&#160;ordering</p>
<p style="position:absolute;top:273px;left:154px;white-space:nowrap" class="ft2811">-</p>
<p style="position:absolute;top:273px;left:181px;white-space:nowrap" class="ft2811">If&#160;consensus&#160;time&#160;of&#160;<b>b1&#160;</b>=&#160;<b>c2</b>, and if&#160;Lamport&#160;time&#160;&#160;of&#160;<b>b1&#160;</b>&lt;&#160;<b>c2</b>,&#160;<b>b1&#160;</b>has&#160;a&#160;prior&#160;ordering</p>
<p style="position:absolute;top:288px;left:154px;white-space:nowrap" class="ft2811">-</p>
<p style="position:absolute;top:288px;left:181px;white-space:nowrap" class="ft2811">If&#160;consensus&#160;time&#160;of&#160;<b>a2&#160;</b>=&#160;<b>b2</b>, and if&#160;Lamport&#160;time&#160;<b>a2&#160;</b>=&#160;<b>b2</b>, and if&#160;hash value&#160;&#160;of&#160;<b>a2&#160;</b>&lt;&#160;<b>b2</b>,&#160;<b>a2&#160;</b>has&#160;a&#160;prior&#160;ordering</p>
<p style="position:absolute;top:541px;left:287px;white-space:nowrap" class="ft282">Figure&#160;21:&#160;An&#160;example&#160;of&#160;topological&#160;consensus&#160;ordering</p>
<p style="position:absolute;top:587px;left:108px;white-space:nowrap" class="ft285">First,&#160;when&#160;each&#160;node&#160;creates&#160;event&#160;blocks,&#160;they&#160;have&#160;a&#160;logical&#160;timestamp&#160;based&#160;on&#160;Lamport&#160;timestamp.&#160;This&#160;means<br/>that&#160;they&#160;have&#160;a&#160;partial&#160;ordering&#160;between&#160;the&#160;relevant&#160;event&#160;blocks.&#160;Each&#160;Clotho&#160;has&#160;consensus&#160;time&#160;to&#160;the&#160;Atro-<br/>pos.&#160;This&#160;consensus&#160;time&#160;is&#160;computed&#160;based&#160;on&#160;the&#160;logical&#160;time&#160;nominated&#160;from&#160;other&#160;nodes&#160;at&#160;the&#160;time&#160;of&#160;the&#160;2n/3<br/>agreement.</p>
<p style="position:absolute;top:661px;left:108px;white-space:nowrap" class="ft282">Each&#160;event&#160;block&#160;is&#160;based&#160;on&#160;the&#160;following&#160;three&#160;rules&#160;to&#160;reach&#160;an&#160;agreement:</p>
<p style="position:absolute;top:693px;left:143px;white-space:nowrap" class="ft282">1.&#160;If&#160;there&#160;are&#160;more&#160;than&#160;one&#160;Atropos&#160;with&#160;different&#160;times&#160;on&#160;the&#160;same&#160;frame,&#160;the&#160;event&#160;block&#160;with&#160;smaller</p>
<p style="position:absolute;top:709px;left:162px;white-space:nowrap" class="ft282">consensus&#160;time&#160;has&#160;higher&#160;priority.</p>
<p style="position:absolute;top:732px;left:143px;white-space:nowrap" class="ft282">2.&#160;If&#160;there&#160;are&#160;more&#160;than&#160;one&#160;Atropos&#160;having&#160;any&#160;of&#160;the&#160;same&#160;consensus&#160;time&#160;on&#160;the&#160;same&#160;frame,&#160;determine&#160;the</p>
<p style="position:absolute;top:748px;left:162px;white-space:nowrap" class="ft282">order&#160;based&#160;on&#160;the&#160;own&#160;logical&#160;time&#160;from&#160;Lamport&#160;timestamp.</p>
<p style="position:absolute;top:770px;left:143px;white-space:nowrap" class="ft282">3.&#160;When&#160;there&#160;are&#160;more&#160;than&#160;one&#160;Atropos&#160;having&#160;the&#160;same&#160;consensus&#160;time,&#160;if&#160;the&#160;local&#160;logical&#160;time&#160;is&#160;same,&#160;a</p>
<p style="position:absolute;top:787px;left:162px;white-space:nowrap" class="ft282">smaller&#160;hash&#160;value&#160;is&#160;given&#160;priority&#160;through&#160;hash&#160;function.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft282">27</p>
</div>
<!-- Page 29 -->
<a name="29"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page29-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft292">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:129px;left:165px;white-space:nowrap" class="ft2917">1</p>
<p style="position:absolute;top:181px;left:165px;white-space:nowrap" class="ft2917">1’</p>
<p style="position:absolute;top:231px;left:164px;white-space:nowrap" class="ft2917">1’’</p>
<p style="position:absolute;top:282px;left:163px;white-space:nowrap" class="ft2917">1’’</p>
<p style="position:absolute;top:334px;left:163px;white-space:nowrap" class="ft2917">1’’&#160;’</p>
<p style="position:absolute;top:129px;left:207px;white-space:nowrap" class="ft2917">2</p>
<p style="position:absolute;top:129px;left:330px;white-space:nowrap" class="ft2917">4</p>
<p style="position:absolute;top:129px;left:460px;white-space:nowrap" class="ft2917">7</p>
<p style="position:absolute;top:129px;left:578px;white-space:nowrap" class="ft2917">9</p>
<p style="position:absolute;top:129px;left:695px;white-space:nowrap" class="ft2917">11</p>
<p style="position:absolute;top:181px;left:268px;white-space:nowrap" class="ft2917">3</p>
<p style="position:absolute;top:181px;left:424px;white-space:nowrap" class="ft2917">6</p>
<p style="position:absolute;top:181px;left:522px;white-space:nowrap" class="ft2917">8</p>
<p style="position:absolute;top:181px;left:628px;white-space:nowrap" class="ft2917">10</p>
<p style="position:absolute;top:231px;left:224px;white-space:nowrap" class="ft2917">2’</p>
<p style="position:absolute;top:282px;left:291px;white-space:nowrap" class="ft2917">3’</p>
<p style="position:absolute;top:231px;left:350px;white-space:nowrap" class="ft2917">5</p>
<p style="position:absolute;top:231px;left:497px;white-space:nowrap" class="ft2917">7’</p>
<p style="position:absolute;top:283px;left:457px;white-space:nowrap" class="ft2917">6’</p>
<p style="position:absolute;top:231px;left:598px;white-space:nowrap" class="ft2917">9’</p>
<p style="position:absolute;top:231px;left:714px;white-space:nowrap" class="ft2917">12</p>
<p style="position:absolute;top:283px;left:655px;white-space:nowrap" class="ft2917">10’</p>
<p style="position:absolute;top:334px;left:437px;white-space:nowrap" class="ft2917">5’</p>
<p style="position:absolute;top:334px;left:539px;white-space:nowrap" class="ft2917">7’’</p>
<p style="position:absolute;top:334px;left:755px;white-space:nowrap" class="ft2917">13</p>
<p style="position:absolute;top:374px;left:238px;white-space:nowrap" class="ft292">Figure&#160;22:&#160;An&#160;Example&#160;of&#160;time&#160;ordering&#160;of&#160;event&#160;blocks&#160;in&#160;OPERA&#160;chain</p>
<p style="position:absolute;top:420px;left:108px;white-space:nowrap" class="ft295">Figure&#160;22&#160;shows&#160;the&#160;part&#160;of&#160;OPERA&#160;chain&#160;in&#160;which&#160;the&#160;final&#160;consensus&#160;order&#160;is&#160;determined&#160;based&#160;on&#160;these&#160;3&#160;rules.&#160;The<br/>number&#160;represented&#160;by&#160;each&#160;event&#160;block&#160;is&#160;a&#160;logical&#160;time&#160;based&#160;on&#160;Lamport&#160;timestamp.&#160;Final&#160;topological&#160;consensus<br/>order&#160;containing&#160;the&#160;event&#160;blocks&#160;are&#160;based&#160;on&#160;agreement&#160;from&#160;the&#160;apropos.&#160;Based&#160;on&#160;each&#160;Atropos,&#160;they&#160;will&#160;have<br/>different&#160;colors&#160;depending&#160;on&#160;their&#160;range.</p>
<p style="position:absolute;top:505px;left:108px;white-space:nowrap" class="ft292">3.14</p>
<p style="position:absolute;top:505px;left:149px;white-space:nowrap" class="ft292">Detecting&#160;Forks</p>
<p style="position:absolute;top:535px;left:127px;white-space:nowrap" class="ft292">(Fork)&#160;A&#160;pair&#160;of&#160;events&#160;(vx,&#160;vy)&#160;is&#160;a&#160;fork&#160;if&#160;vx&#160;and&#160;vy&#160;have&#160;the&#160;same&#160;creator,&#160;but&#160;neither&#160;is&#160;a&#160;self-ancestor&#160;of&#160;the</p>
<p style="position:absolute;top:551px;left:108px;white-space:nowrap" class="ft292">other.&#160;Denoted&#160;by&#160;vx</p>
<p style="position:absolute;top:551px;left:238px;white-space:nowrap" class="ft292">t&#160;vy.</p>
<p style="position:absolute;top:576px;left:108px;white-space:nowrap" class="ft292">For&#160;example,&#160;let&#160;vz&#160;be&#160;an&#160;event&#160;in&#160;node&#160;n1&#160;and&#160;two&#160;child&#160;events&#160;vx&#160;and&#160;vy&#160;of&#160;vz.&#160;if&#160;vx&#160;,→</p>
<p style="position:absolute;top:573px;left:644px;white-space:nowrap" class="ft297">s&#160;vz,&#160;vy&#160;,→s&#160;vz,&#160;vx&#160;6,→s&#160;vy,</p>
<p style="position:absolute;top:592px;left:108px;white-space:nowrap" class="ft292">vy&#160;6,→</p>
<p style="position:absolute;top:590px;left:143px;white-space:nowrap" class="ft297">s&#160;vz,&#160;then&#160;(vx,&#160;vy)&#160;is&#160;a&#160;fork.&#160;The&#160;fork&#160;relation&#160;is&#160;symmetric;&#160;that&#160;is&#160;vx&#160;t&#160;vy&#160;iff&#160;vy&#160;t&#160;vx.</p>
<p style="position:absolute;top:617px;left:108px;white-space:nowrap" class="ft292">By&#160;definition,&#160;(vx,&#160;vy)&#160;is&#160;a&#160;fork&#160;if&#160;cr(vx)&#160;=&#160;cr(vy),&#160;vx&#160;6,→</p>
<p style="position:absolute;top:614px;left:461px;white-space:nowrap" class="ft297">a&#160;vy&#160;and&#160;vy&#160;6,→a&#160;vx.&#160;Using&#160;Happened-Before,&#160;the&#160;second</p>
<p style="position:absolute;top:633px;left:108px;white-space:nowrap" class="ft292">part&#160;means&#160;vx&#160;6→&#160;vy&#160;and&#160;vy&#160;6→&#160;vx.&#160;By&#160;definition&#160;of&#160;concurrent,&#160;we&#160;get&#160;vx&#160;k&#160;vy.</p>
<p style="position:absolute;top:655px;left:108px;white-space:nowrap" class="ft292">Lemma&#160;3.1.&#160;If&#160;there&#160;is&#160;a&#160;fork&#160;vx</p>
<p style="position:absolute;top:655px;left:309px;white-space:nowrap" class="ft292">t&#160;vy,&#160;then&#160;vx&#160;and&#160;vy&#160;cannot&#160;both&#160;be&#160;roots&#160;on&#160;honest&#160;nodes.</p>
<p style="position:absolute;top:686px;left:108px;white-space:nowrap" class="ft298">Here,&#160;we&#160;show&#160;a&#160;proof&#160;by&#160;contradiction.&#160;Any&#160;honest&#160;node&#160;cannot&#160;accept&#160;a&#160;fork&#160;so&#160;vx&#160;and&#160;vy&#160;cannot&#160;be&#160;roots&#160;on&#160;the<br/>same&#160;honest&#160;node.&#160;Now&#160;we&#160;prove&#160;a&#160;more&#160;general&#160;case.&#160;Suppose&#160;that&#160;both&#160;vx&#160;is&#160;a&#160;root&#160;of&#160;nx&#160;and&#160;vy&#160;is&#160;root&#160;of&#160;ny,<br/>where&#160;nx&#160;and&#160;ny&#160;are&#160;honest&#160;nodes.&#160;Since&#160;vx&#160;is&#160;a&#160;root,&#160;it&#160;reached&#160;events&#160;created&#160;by&#160;more&#160;than&#160;2/3&#160;of&#160;member&#160;nodes.<br/>Similarly,&#160;vy&#160;is&#160;a&#160;root,&#160;it&#160;reached&#160;events&#160;created&#160;by&#160;more&#160;than&#160;2/3&#160;of&#160;member&#160;nodes.&#160;Thus,&#160;there&#160;must&#160;be&#160;an&#160;overlap&#160;of<br/>more&#160;than&#160;n/3&#160;members&#160;of&#160;those&#160;events&#160;in&#160;both&#160;sets.&#160;Since&#160;we&#160;assume&#160;less&#160;than&#160;n/3&#160;members&#160;are&#160;not&#160;honest,&#160;so&#160;there<br/>must&#160;be&#160;at&#160;least&#160;one&#160;honest&#160;member&#160;in&#160;the&#160;overlap&#160;set.&#160;Let&#160;nm&#160;be&#160;such&#160;an&#160;honest&#160;member.&#160;Because&#160;nm&#160;is&#160;honest,&#160;nm<br/>does&#160;not&#160;allow&#160;the&#160;fork.</p>
<p style="position:absolute;top:824px;left:108px;white-space:nowrap" class="ft294">4</p>
<p style="position:absolute;top:824px;left:135px;white-space:nowrap" class="ft294">Conclusion</p>
<p style="position:absolute;top:862px;left:108px;white-space:nowrap" class="ft295">We&#160;further&#160;optimize&#160;the&#160;OPERA&#160;chain&#160;and&#160;Main-chain&#160;for&#160;faster&#160;consensus.&#160;By&#160;using&#160;Lamport&#160;timestamps&#160;and<br/>domination&#160;relation,&#160;the&#160;topological&#160;ordering&#160;of&#160;event&#160;blocks&#160;in&#160;OPERA&#160;chain&#160;and&#160;Main&#160;chain&#160;is&#160;more&#160;intuitive&#160;and<br/>reliable&#160;in&#160;distributed&#160;system.</p>
<p style="position:absolute;top:919px;left:108px;white-space:nowrap" class="ft295">We&#160;have&#160;presented&#160;a&#160;formal&#160;semantics&#160;for&#160;Lachesis&#160;protocol&#160;in&#160;Section&#160;3.&#160;Our&#160;formal&#160;proof&#160;of&#160;pBFT&#160;for&#160;our&#160;Lachesis<br/>protocol&#160;is&#160;given&#160;in&#160;Section&#160;5.2.&#160;Our&#160;work&#160;is&#160;the&#160;first&#160;that&#160;studies&#160;such&#160;concurrent&#160;common&#160;knowledge&#160;sematics&#160;[9]<br/>and&#160;dominator&#160;relationships&#160;in&#160;DAG-based&#160;protocols.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft292">28</p>
</div>
<!-- Page 30 -->
<a name="30"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft3072{font-size:12px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
<div id="page30-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft302">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:111px;left:108px;white-space:nowrap" class="ft304">5</p>
<p style="position:absolute;top:111px;left:135px;white-space:nowrap" class="ft304">Appendix</p>
<p style="position:absolute;top:149px;left:108px;white-space:nowrap" class="ft302">5.1</p>
<p style="position:absolute;top:149px;left:142px;white-space:nowrap" class="ft302">Preliminaries</p>
<p style="position:absolute;top:179px;left:108px;white-space:nowrap" class="ft3072">The&#160;history&#160;of&#160;a&#160;Lachesis&#160;protocol&#160;can&#160;be&#160;represented&#160;by&#160;a&#160;directed&#160;acyclic&#160;graph&#160;G&#160;=&#160;(V,&#160;E),&#160;where&#160;V&#160;is&#160;a&#160;set&#160;of<br/>vertices&#160;and&#160;E&#160;is&#160;a&#160;set&#160;of&#160;edges.&#160;Each&#160;vertex&#160;in&#160;a&#160;row&#160;(node)&#160;represents&#160;an&#160;event.&#160;Time&#160;flows&#160;left-to-right&#160;of&#160;the&#160;graph,<br/>so&#160;left&#160;vertices&#160;represent&#160;earlier&#160;events&#160;in&#160;history.&#160;A&#160;path&#160;p&#160;in&#160;G&#160;is&#160;a&#160;sequence&#160;of&#160;vertices&#160;(v1,&#160;v2,&#160;.&#160;.&#160;.&#160;,&#160;vk)&#160;by&#160;following<br/>the&#160;edges&#160;in&#160;E.&#160;Let&#160;vc&#160;be&#160;a&#160;vertex&#160;in&#160;G.&#160;A&#160;vertex&#160;vp&#160;is&#160;the&#160;parent&#160;of&#160;vc&#160;if&#160;there&#160;is&#160;an&#160;edge&#160;from&#160;vp&#160;to&#160;vc.&#160;A&#160;vertex&#160;va&#160;is<br/>an&#160;ancestor&#160;of&#160;vc&#160;if&#160;there&#160;is&#160;a&#160;path&#160;from&#160;va&#160;to&#160;vc.<br/>Definition&#160;5.1&#160;(node).&#160;Each&#160;machine&#160;that&#160;participates&#160;in&#160;the&#160;Lachesis&#160;protocol&#160;is&#160;called&#160;a&#160;node.</p>
<p style="position:absolute;top:294px;left:108px;white-space:nowrap" class="ft302">Let&#160;n&#160;denote&#160;the&#160;total&#160;number&#160;of&#160;nodes.</p>
<p style="position:absolute;top:315px;left:108px;white-space:nowrap" class="ft302">Definition&#160;5.2&#160;(event&#160;block).&#160;Each&#160;node&#160;can&#160;create&#160;event&#160;blocks,&#160;send&#160;(receive)&#160;messages&#160;to&#160;(from)&#160;other&#160;nodes.</p>
<p style="position:absolute;top:336px;left:108px;white-space:nowrap" class="ft302">Definition&#160;5.3&#160;(vertex).&#160;An&#160;event&#160;block&#160;is&#160;a&#160;vertex&#160;of&#160;the&#160;OPERA&#160;chain.</p>
<p style="position:absolute;top:365px;left:108px;white-space:nowrap" class="ft305">Suppose&#160;a&#160;node&#160;ni&#160;creates&#160;an&#160;event&#160;vc&#160;after&#160;an&#160;event&#160;vs&#160;in&#160;ni.&#160;Each&#160;event&#160;block&#160;has&#160;exactly&#160;k&#160;references.&#160;One&#160;of&#160;the<br/>references&#160;is&#160;self-reference,&#160;and&#160;the&#160;other&#160;k-1&#160;references&#160;point&#160;to&#160;the&#160;top&#160;events&#160;of&#160;ni’s&#160;k-1&#160;peer&#160;nodes.<br/>Definition&#160;5.4&#160;(peer&#160;node).&#160;A&#160;node&#160;ni&#160;has&#160;k&#160;peer&#160;nodes.<br/>Definition&#160;5.5&#160;(top&#160;event).&#160;An&#160;event&#160;v&#160;is&#160;a&#160;top&#160;event&#160;of&#160;a&#160;node&#160;ni&#160;if&#160;there&#160;is&#160;no&#160;other&#160;event&#160;in&#160;ni&#160;referencing&#160;v.<br/>Definition&#160;5.6&#160;(self-ref).&#160;An&#160;event&#160;vs&#160;is&#160;called&#160;“self-ref”&#160;of&#160;event&#160;vc,&#160;if&#160;the&#160;self-ref&#160;hash&#160;of&#160;vc&#160;points&#160;to&#160;the&#160;event&#160;vs.<br/>Denoted&#160;by</p>
<p style="position:absolute;top:460px;left:180px;white-space:nowrap" class="ft302">vc&#160;,→</p>
<p style="position:absolute;top:458px;left:214px;white-space:nowrap" class="ft307">s&#160;vs.</p>
<p style="position:absolute;top:481px;left:108px;white-space:nowrap" class="ft305">Definition&#160;5.7&#160;(ref).&#160;An&#160;event&#160;vr&#160;is&#160;called&#160;“ref”&#160;of&#160;event&#160;vc&#160;if&#160;the&#160;reference&#160;hash&#160;of&#160;vc&#160;points&#160;to&#160;the&#160;event&#160;vr.&#160;Denoted<br/>by</p>
<p style="position:absolute;top:498px;left:126px;white-space:nowrap" class="ft302">vc&#160;,→</p>
<p style="position:absolute;top:495px;left:160px;white-space:nowrap" class="ft307">r&#160;vr.</p>
<p style="position:absolute;top:527px;left:108px;white-space:nowrap" class="ft302">For&#160;simplicity,&#160;we&#160;can&#160;use&#160;,→&#160;to&#160;denote&#160;a&#160;reference&#160;relationship&#160;(either&#160;,→r&#160;or&#160;,→s).</p>
<p style="position:absolute;top:548px;left:108px;white-space:nowrap" class="ft305">Definition&#160;5.8&#160;(self-ancestor).&#160;An&#160;event&#160;block&#160;va&#160;is&#160;self-ancestor&#160;of&#160;an&#160;event&#160;block&#160;vc&#160;if&#160;there&#160;is&#160;a&#160;sequence&#160;of&#160;events<br/>such&#160;that</p>
<p style="position:absolute;top:564px;left:166px;white-space:nowrap" class="ft302">vc&#160;,→</p>
<p style="position:absolute;top:562px;left:200px;white-space:nowrap" class="ft307">s&#160;v1&#160;,→s&#160;.&#160;.&#160;.&#160;,→s&#160;vm&#160;,→s&#160;va.&#160;Denoted&#160;by&#160;vc&#160;,→sa&#160;va.</p>
<p style="position:absolute;top:585px;left:108px;white-space:nowrap" class="ft305">Definition&#160;5.9&#160;(ancestor).&#160;An&#160;event&#160;block&#160;va&#160;is&#160;an&#160;ancestor&#160;of&#160;an&#160;event&#160;block&#160;vc&#160;if&#160;there&#160;is&#160;a&#160;sequence&#160;of&#160;events&#160;such<br/>that</p>
<p style="position:absolute;top:601px;left:135px;white-space:nowrap" class="ft302">vc&#160;,→&#160;v1&#160;,→&#160;.&#160;.&#160;.&#160;,→&#160;vm&#160;,→&#160;va.&#160;Denoted&#160;by&#160;vc&#160;,→</p>
<p style="position:absolute;top:599px;left:427px;white-space:nowrap" class="ft307">a&#160;va.</p>
<p style="position:absolute;top:631px;left:108px;white-space:nowrap" class="ft302">For&#160;simplicity,&#160;we&#160;simply&#160;use&#160;vc&#160;,→</p>
<p style="position:absolute;top:628px;left:336px;white-space:nowrap" class="ft307">a&#160;vs&#160;to&#160;refer&#160;both&#160;ancestor&#160;and&#160;self-ancestor&#160;relationship,&#160;unless&#160;we&#160;need&#160;to</p>
<p style="position:absolute;top:647px;left:108px;white-space:nowrap" class="ft302">distinguish&#160;the&#160;two&#160;cases.</p>
<p style="position:absolute;top:668px;left:108px;white-space:nowrap" class="ft305">Definition&#160;5.10&#160;(OPERA&#160;chain).&#160;OPERA&#160;chain&#160;is&#160;a&#160;DAG&#160;graph&#160;G&#160;=&#160;(V,&#160;E)&#160;consisting&#160;of&#160;V&#160;vertices&#160;and&#160;E&#160;edges.<br/>Each&#160;vertex</p>
<p style="position:absolute;top:684px;left:185px;white-space:nowrap" class="ft302">vi&#160;∈&#160;V&#160;is&#160;an&#160;event&#160;block.&#160;An&#160;edge&#160;(vi,&#160;vj)&#160;∈&#160;E&#160;refers&#160;to&#160;a&#160;hashing&#160;reference&#160;from&#160;vi&#160;to&#160;vj;&#160;that&#160;is,</p>
<p style="position:absolute;top:700px;left:108px;white-space:nowrap" class="ft302">vi&#160;,→&#160;vj.</p>
<p style="position:absolute;top:734px;left:108px;white-space:nowrap" class="ft302">5.1.1</p>
<p style="position:absolute;top:734px;left:153px;white-space:nowrap" class="ft302">Domination&#160;relation</p>
<p style="position:absolute;top:762px;left:108px;white-space:nowrap" class="ft305">Then&#160;we&#160;define&#160;the&#160;domination&#160;relation&#160;for&#160;event&#160;blocks.&#160;To&#160;begin&#160;with,&#160;we&#160;first&#160;introduce&#160;pseudo&#160;vertices,&#160;top&#160;and<br/>bot</p>
<p style="position:absolute;top:778px;left:127px;white-space:nowrap" class="ft302">,&#160;of&#160;the&#160;DAG&#160;OPERA&#160;chain&#160;G.</p>
<p style="position:absolute;top:799px;left:108px;white-space:nowrap" class="ft302">Definition&#160;5.11&#160;(pseudo&#160;top).&#160;A&#160;pseudo&#160;vertex,&#160;called&#160;top,&#160;is&#160;the&#160;parent&#160;of&#160;all&#160;top&#160;event&#160;blocks.&#160;Denoted&#160;by&#160;&gt;.</p>
<p style="position:absolute;top:820px;left:108px;white-space:nowrap" class="ft302">Definition&#160;5.12&#160;(pseudo&#160;bottom).&#160;A&#160;pseudo&#160;vertex,&#160;called&#160;bottom,&#160;is&#160;the&#160;child&#160;of&#160;all&#160;leaf&#160;event&#160;blocks.&#160;Denoted&#160;by&#160;⊥.</p>
<p style="position:absolute;top:849px;left:108px;white-space:nowrap" class="ft305">With&#160;the&#160;pseudo&#160;vertices,&#160;we&#160;have&#160;⊥&#160;happened&#160;before&#160;all&#160;event&#160;blocks.&#160;Also&#160;all&#160;event&#160;blocks&#160;happened&#160;before&#160;&gt;.&#160;That<br/>is,&#160;for&#160;all&#160;event&#160;vi,&#160;⊥&#160;→&#160;vi&#160;and&#160;vi&#160;→&#160;&gt;.<br/>Definition&#160;5.13&#160;(dom).&#160;An&#160;event&#160;vd&#160;dominates&#160;an&#160;event&#160;vx&#160;if&#160;every&#160;path&#160;from&#160;&gt;&#160;to&#160;vx&#160;must&#160;go&#160;through&#160;vd.&#160;Denoted&#160;by<br/>vd&#160;&#160;vx.<br/>Definition&#160;5.14&#160;(strict&#160;dom).&#160;An&#160;event&#160;vd&#160;strictly&#160;dominates&#160;an&#160;event&#160;vx&#160;if&#160;vd&#160;&#160;vx&#160;and&#160;vd&#160;does&#160;not&#160;equal&#160;vx.&#160;Denoted<br/>by</p>
<p style="position:absolute;top:940px;left:126px;white-space:nowrap" class="ft302">vd&#160;</p>
<p style="position:absolute;top:938px;left:159px;white-space:nowrap" class="ft307">s&#160;vx.</p>
<p style="position:absolute;top:961px;left:108px;white-space:nowrap" class="ft305">Definition&#160;5.15&#160;(domfront).&#160;A&#160;vertex&#160;vd&#160;is&#160;said&#160;“domfront”&#160;a&#160;vertex&#160;vx&#160;if&#160;vd&#160;dominates&#160;an&#160;immediate&#160;predecessor&#160;of<br/>vx,&#160;but&#160;vd&#160;does&#160;not&#160;strictly&#160;dominate&#160;vx.&#160;Denoted&#160;by&#160;vd&#160;</p>
<p style="position:absolute;top:975px;left:458px;white-space:nowrap" class="ft307">f&#160;vx.</p>
<p style="position:absolute;top:998px;left:108px;white-space:nowrap" class="ft305">Definition&#160;5.16&#160;(dominance&#160;frontier).&#160;The&#160;dominance&#160;frontier&#160;of&#160;a&#160;vertex&#160;vd&#160;is&#160;the&#160;set&#160;of&#160;all&#160;nodes&#160;vx&#160;such&#160;that<br/>vd&#160;</p>
<p style="position:absolute;top:1012px;left:141px;white-space:nowrap" class="ft307">f&#160;vx.&#160;Denoted&#160;by&#160;DF&#160;(vd).</p>
<p style="position:absolute;top:1045px;left:108px;white-space:nowrap" class="ft302">From&#160;the&#160;above&#160;definitions&#160;of&#160;domfront&#160;and&#160;dominance&#160;frontier,&#160;the&#160;following&#160;holds.&#160;If&#160;vd&#160;</p>
<p style="position:absolute;top:1043px;left:660px;white-space:nowrap" class="ft307">f&#160;vx,&#160;then&#160;vx&#160;∈&#160;DF&#160;(vd).</p>
<p style="position:absolute;top:1070px;left:108px;white-space:nowrap" class="ft302">Here,&#160;we&#160;introduce&#160;a&#160;new&#160;idea&#160;that&#160;extends&#160;the&#160;concept&#160;domination.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft302">29</p>
</div>
<!-- Page 31 -->
<a name="31"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft3173{font-size:12px;line-height:21px;font-family:Times;color:#000000;}
-->
</style>
<div id="page31-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft312">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft315">Definition&#160;5.17&#160;(subgraph).&#160;For&#160;a&#160;vertex&#160;v&#160;in&#160;a&#160;DAG&#160;G,&#160;let&#160;G[v]&#160;=&#160;(Vv,&#160;Ev)&#160;denote&#160;an&#160;induced-subgraph&#160;of&#160;G&#160;such<br/>that</p>
<p style="position:absolute;top:129px;left:135px;white-space:nowrap" class="ft312">Vv&#160;consists&#160;of&#160;all&#160;ancestors&#160;of&#160;v&#160;including&#160;v,&#160;and&#160;Ev&#160;is&#160;the&#160;induced&#160;edges&#160;of&#160;Vv&#160;in&#160;G.</p>
<p style="position:absolute;top:159px;left:108px;white-space:nowrap" class="ft312">For&#160;a&#160;set&#160;S&#160;of&#160;vertices,&#160;an&#160;event&#160;vd</p>
<p style="position:absolute;top:156px;left:317px;white-space:nowrap" class="ft3145">2<br/>3&#160;-dominates&#160;S&#160;if&#160;there&#160;are&#160;more&#160;than&#160;2/3&#160;of&#160;vertices&#160;vx&#160;in&#160;S&#160;such&#160;that&#160;vd&#160;dominates</p>
<p style="position:absolute;top:178px;left:108px;white-space:nowrap" class="ft312">vx.&#160;Recall&#160;that&#160;R1&#160;is&#160;the&#160;set&#160;of&#160;all&#160;leaf&#160;vertices&#160;in&#160;G.&#160;The</p>
<p style="position:absolute;top:175px;left:451px;white-space:nowrap" class="ft3145">2<br/>3&#160;-dom&#160;set&#160;D0&#160;is&#160;the&#160;same&#160;as&#160;the&#160;set&#160;R1.The</p>
<p style="position:absolute;top:175px;left:716px;white-space:nowrap" class="ft3145">2<br/>3&#160;-dom&#160;set&#160;Di&#160;is</p>
<p style="position:absolute;top:194px;left:108px;white-space:nowrap" class="ft312">defined&#160;as&#160;follows:</p>
<p style="position:absolute;top:215px;left:108px;white-space:nowrap" class="ft312">Definition&#160;5.18&#160;(</p>
<p style="position:absolute;top:212px;left:212px;white-space:nowrap" class="ft3145">2<br/>3&#160;-dom&#160;set).&#160;A&#160;vertex&#160;vd&#160;belongs&#160;to&#160;a</p>
<p style="position:absolute;top:212px;left:440px;white-space:nowrap" class="ft3145">2<br/>3&#160;-dom&#160;set&#160;within&#160;the&#160;graph&#160;G[vd],&#160;if&#160;vd</p>
<p style="position:absolute;top:212px;left:682px;white-space:nowrap" class="ft3145">2<br/>3&#160;-dominates&#160;R1.&#160;The</p>
<p style="position:absolute;top:232px;left:110px;white-space:nowrap" class="ft3145">2<br/>3&#160;-dom&#160;set&#160;Dk&#160;consists&#160;of&#160;all&#160;roots&#160;di&#160;such&#160;that&#160;di&#160;6∈&#160;Di,&#160;∀&#160;i&#160;=&#160;1..(k-1),&#160;and&#160;di</p>
<p style="position:absolute;top:232px;left:577px;white-space:nowrap" class="ft3145">2<br/>3&#160;-dominates&#160;Di−1.</p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft312">Lemma&#160;5.1.&#160;The</p>
<p style="position:absolute;top:256px;left:219px;white-space:nowrap" class="ft3145">2<br/>3&#160;-dom&#160;set&#160;Di&#160;is&#160;the&#160;same&#160;with&#160;the&#160;root&#160;set&#160;Ri,&#160;for&#160;all&#160;nodes.</p>
<p style="position:absolute;top:296px;left:108px;white-space:nowrap" class="ft312">5.2</p>
<p style="position:absolute;top:296px;left:142px;white-space:nowrap" class="ft312">Proof&#160;of&#160;Lachesis&#160;Consensus&#160;Algorithm</p>
<p style="position:absolute;top:326px;left:108px;white-space:nowrap" class="ft315">This&#160;section&#160;presents&#160;a&#160;proof&#160;of&#160;liveness&#160;and&#160;safety&#160;of&#160;our&#160;Lachesis&#160;protocols.&#160;We&#160;aim&#160;to&#160;show&#160;that&#160;our&#160;consensus<br/>is&#160;Byzantine&#160;fault&#160;tolerant&#160;with&#160;a&#160;presumption&#160;that&#160;more&#160;than&#160;two-thirds&#160;of&#160;participants&#160;are&#160;reliable&#160;nodes.&#160;We&#160;first<br/>provide&#160;some&#160;definitions,&#160;lemmas&#160;and&#160;theorems.&#160;Then&#160;we&#160;validate&#160;the&#160;Byzantine&#160;fault&#160;tolerance.</p>
<p style="position:absolute;top:392px;left:108px;white-space:nowrap" class="ft312">5.2.1</p>
<p style="position:absolute;top:392px;left:153px;white-space:nowrap" class="ft312">Proof&#160;of&#160;Byzantine&#160;Fault&#160;Tolerance&#160;for&#160;Lachesis&#160;Consensus&#160;Algorithm</p>
<p style="position:absolute;top:420px;left:108px;white-space:nowrap" class="ft315">Definition&#160;5.19&#160;(Happened-Immediate-Before).&#160;An&#160;event&#160;block&#160;vx&#160;is&#160;said&#160;Happened-Immediate-Before&#160;an&#160;event&#160;block<br/>vy&#160;if&#160;vx&#160;is&#160;a&#160;(self-)&#160;ref&#160;of&#160;vy.&#160;Denoted&#160;by&#160;vx&#160;7→&#160;vy.<br/>Definition&#160;5.20&#160;(Happened-Before).&#160;An&#160;event&#160;block&#160;vx&#160;is&#160;said&#160;Happened-Before&#160;an&#160;event&#160;block&#160;vy&#160;if&#160;vx&#160;is&#160;a&#160;(self-)<br/>ancestor&#160;of</p>
<p style="position:absolute;top:474px;left:179px;white-space:nowrap" class="ft312">vy.&#160;Denoted&#160;by&#160;vx&#160;→&#160;vy.</p>
<p style="position:absolute;top:503px;left:108px;white-space:nowrap" class="ft315">The&#160;happens-before&#160;relation&#160;is&#160;the&#160;transitive&#160;closure&#160;of&#160;happens-immediately-before.&#160;Thus,&#160;an&#160;event&#160;vx&#160;happened<br/>before&#160;an&#160;event&#160;vy&#160;if&#160;one&#160;of&#160;the&#160;followings&#160;happens:&#160;(a)&#160;vy&#160;,→</p>
<p style="position:absolute;top:517px;left:478px;white-space:nowrap" class="ft317">s&#160;vx,&#160;(b)&#160;vy&#160;,→r&#160;vx,&#160;or&#160;(c)&#160;vy&#160;,→a&#160;vx.&#160;We&#160;come&#160;up&#160;with</p>
<p style="position:absolute;top:536px;left:108px;white-space:nowrap" class="ft312">the&#160;following&#160;proposition:</p>
<p style="position:absolute;top:557px;left:108px;white-space:nowrap" class="ft315">Proposition&#160;5.2&#160;(Happened-Immediate-Before&#160;OPERA).&#160;vx&#160;7→&#160;vy&#160;iff&#160;vy&#160;,→&#160;vx&#160;iff&#160;edge&#160;(vy,&#160;vx)&#160;∈&#160;E&#160;of&#160;OPERA<br/>chain.</p>
<p style="position:absolute;top:594px;left:108px;white-space:nowrap" class="ft312">Lemma&#160;5.3&#160;(Happened-Before&#160;Lemma).&#160;vx&#160;→&#160;vy&#160;iff&#160;vy&#160;,→</p>
<p style="position:absolute;top:592px;left:467px;white-space:nowrap" class="ft317">a&#160;vx.</p>
<p style="position:absolute;top:615px;left:108px;white-space:nowrap" class="ft315">Definition&#160;5.21&#160;(concurrent).&#160;Two&#160;event&#160;blocks&#160;vx&#160;and&#160;vy&#160;are&#160;said&#160;concurrent&#160;if&#160;neither&#160;of&#160;them&#160;happened&#160;before&#160;the<br/>other.&#160;Denoted&#160;by</p>
<p style="position:absolute;top:632px;left:218px;white-space:nowrap" class="ft312">vx&#160;k&#160;vy.</p>
<p style="position:absolute;top:661px;left:108px;white-space:nowrap" class="ft315">Given&#160;two&#160;vertices&#160;vx&#160;and&#160;vy&#160;both&#160;contained&#160;in&#160;two&#160;OPERA&#160;chains&#160;G1&#160;and&#160;G2&#160;on&#160;two&#160;nodes.&#160;We&#160;have&#160;the&#160;following:<br/>(1)&#160;vx&#160;→&#160;vy&#160;in&#160;G1&#160;iff&#160;vx&#160;→&#160;vy&#160;in&#160;G2;&#160;(2)&#160;vx&#160;k&#160;vy&#160;in&#160;G1&#160;iff&#160;vx&#160;k&#160;vy&#160;in&#160;G2.</p>
<p style="position:absolute;top:702px;left:108px;white-space:nowrap" class="ft312">Below&#160;is&#160;some&#160;main&#160;definitions&#160;in&#160;Lachesis&#160;protocol.</p>
<p style="position:absolute;top:723px;left:108px;white-space:nowrap" class="ft312">Definition&#160;5.22&#160;(Leaf).&#160;The&#160;first&#160;created&#160;event&#160;block&#160;of&#160;a&#160;node&#160;is&#160;called&#160;a&#160;leaf&#160;event&#160;block.</p>
<p style="position:absolute;top:744px;left:108px;white-space:nowrap" class="ft315">Definition&#160;5.23&#160;(Root).&#160;The&#160;leaf&#160;event&#160;block&#160;of&#160;a&#160;node&#160;is&#160;a&#160;root.&#160;When&#160;an&#160;event&#160;block&#160;v&#160;can&#160;reach&#160;more&#160;than&#160;2n/3&#160;of<br/>the&#160;roots&#160;in&#160;the&#160;previous&#160;frames,</p>
<p style="position:absolute;top:761px;left:303px;white-space:nowrap" class="ft312">v&#160;becomes&#160;a&#160;root.</p>
<p style="position:absolute;top:782px;left:108px;white-space:nowrap" class="ft315">Definition&#160;5.24&#160;(Root&#160;set).&#160;The&#160;set&#160;of&#160;all&#160;first&#160;event&#160;blocks&#160;(leaf&#160;events)&#160;of&#160;all&#160;nodes&#160;form&#160;the&#160;first&#160;root&#160;set&#160;R1&#160;(|R1|<br/>=</p>
<p style="position:absolute;top:798px;left:122px;white-space:nowrap" class="ft312">n).&#160;The&#160;root&#160;set&#160;Rk&#160;consists&#160;of&#160;all&#160;roots&#160;ri&#160;such&#160;that&#160;ri&#160;6∈&#160;Ri,&#160;∀&#160;i&#160;=&#160;1..(k-1)&#160;and&#160;ri&#160;can&#160;reach&#160;more&#160;than&#160;2n/3&#160;other</p>
<p style="position:absolute;top:815px;left:108px;white-space:nowrap" class="ft312">roots&#160;in&#160;the&#160;current&#160;frame,</p>
<p style="position:absolute;top:815px;left:268px;white-space:nowrap" class="ft312">i&#160;=&#160;1..(k-1).</p>
<p style="position:absolute;top:836px;left:108px;white-space:nowrap" class="ft312">Definition&#160;5.25&#160;(Frame).&#160;Frame&#160;fi&#160;is&#160;a&#160;natural&#160;number&#160;that&#160;separates&#160;Root&#160;sets.</p>
<p style="position:absolute;top:865px;left:108px;white-space:nowrap" class="ft315">The&#160;root&#160;set&#160;at&#160;frame&#160;fi&#160;is&#160;denoted&#160;by&#160;Ri.<br/>Definition&#160;5.26&#160;(consistent&#160;chains).&#160;OPERA&#160;chains&#160;G1&#160;and&#160;G2&#160;are&#160;consistent&#160;iff&#160;for&#160;any&#160;event&#160;v&#160;contained&#160;in&#160;both<br/>chains,</p>
<p style="position:absolute;top:903px;left:154px;white-space:nowrap" class="ft312">G1[v]&#160;=&#160;G2[v].&#160;Denoted&#160;by&#160;G1&#160;∼&#160;G2.</p>
<p style="position:absolute;top:932px;left:108px;white-space:nowrap" class="ft315">When&#160;two&#160;consistent&#160;chains&#160;contain&#160;the&#160;same&#160;event&#160;v,&#160;both&#160;chains&#160;contain&#160;the&#160;same&#160;set&#160;of&#160;ancestors&#160;for&#160;v,&#160;with&#160;the<br/>same&#160;reference&#160;and&#160;self-ref&#160;edges&#160;between&#160;those&#160;ancestors:</p>
<p style="position:absolute;top:969px;left:108px;white-space:nowrap" class="ft312">Theorem&#160;5.4.&#160;All&#160;nodes&#160;have&#160;consistent&#160;OPERA&#160;chains.</p>
<p style="position:absolute;top:1005px;left:108px;white-space:nowrap" class="ft312">Proof.</p>
<p style="position:absolute;top:1004px;left:153px;white-space:nowrap" class="ft312">If&#160;two&#160;nodes&#160;have&#160;OPERA&#160;chains&#160;containing&#160;event&#160;v,&#160;then&#160;they&#160;have&#160;the&#160;same&#160;k&#160;hashes&#160;contained&#160;within</p>
<p style="position:absolute;top:1021px;left:108px;white-space:nowrap" class="ft315">v.&#160;A&#160;node&#160;will&#160;not&#160;accept&#160;an&#160;event&#160;during&#160;a&#160;sync&#160;unless&#160;that&#160;node&#160;already&#160;has&#160;k&#160;references&#160;for&#160;that&#160;event,&#160;so&#160;both<br/>OPERA&#160;chains&#160;must&#160;contain&#160;k&#160;references&#160;for&#160;v.&#160;The&#160;cryptographic&#160;hashes&#160;are&#160;assumed&#160;to&#160;be&#160;secure,&#160;therefore&#160;the<br/>references&#160;must&#160;be&#160;the&#160;same.&#160;By&#160;induction,&#160;all&#160;ancestors&#160;of&#160;v&#160;must&#160;be&#160;the&#160;same.&#160;Therefore,&#160;the&#160;two&#160;OPERA&#160;chains&#160;are<br/>consistent.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft312">30</p>
</div>
<!-- Page 32 -->
<a name="32"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page32-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft322">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft322">Definition&#160;5.27&#160;(creator).&#160;If&#160;a&#160;node&#160;nx&#160;creates&#160;an&#160;event&#160;block&#160;v,&#160;then&#160;the&#160;creator&#160;of&#160;v,&#160;denoted&#160;by&#160;cr(v),&#160;is&#160;nx.</p>
<p style="position:absolute;top:135px;left:108px;white-space:nowrap" class="ft325">Definition&#160;5.28&#160;(fork).&#160;The&#160;pair&#160;of&#160;events&#160;(vx,&#160;vy)&#160;is&#160;a&#160;fork&#160;if&#160;vx&#160;and&#160;vy&#160;have&#160;the&#160;same&#160;creator,&#160;but&#160;neither&#160;is&#160;a<br/>self-ancestor&#160;of&#160;the&#160;other.&#160;Denoted&#160;by</p>
<p style="position:absolute;top:151px;left:337px;white-space:nowrap" class="ft322">vx&#160;t&#160;vy.</p>
<p style="position:absolute;top:182px;left:108px;white-space:nowrap" class="ft322">For&#160;example,&#160;let&#160;vz&#160;be&#160;an&#160;event&#160;in&#160;node&#160;n1&#160;and&#160;two&#160;child&#160;events&#160;vx&#160;and&#160;vy&#160;of&#160;vz.&#160;if&#160;vx&#160;,→</p>
<p style="position:absolute;top:180px;left:644px;white-space:nowrap" class="ft327">s&#160;vz,&#160;vy&#160;,→s&#160;vz,&#160;vx&#160;6,→s&#160;vy,</p>
<p style="position:absolute;top:199px;left:108px;white-space:nowrap" class="ft322">vy&#160;6,→</p>
<p style="position:absolute;top:196px;left:143px;white-space:nowrap" class="ft327">s&#160;vz,&#160;then&#160;(vx,&#160;vy)&#160;is&#160;a&#160;fork.&#160;The&#160;fork&#160;relation&#160;is&#160;symmetric;&#160;that&#160;is&#160;vx&#160;t&#160;vy&#160;iff&#160;vy&#160;t&#160;vx.</p>
<p style="position:absolute;top:221px;left:108px;white-space:nowrap" class="ft322">Lemma&#160;5.5.&#160;vx</p>
<p style="position:absolute;top:221px;left:210px;white-space:nowrap" class="ft322">t&#160;vy&#160;iff&#160;cr(vx)&#160;=&#160;cr(vy)&#160;and&#160;vx&#160;k&#160;vy.</p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft322">Proof.</p>
<p style="position:absolute;top:258px;left:153px;white-space:nowrap" class="ft322">By&#160;definition,&#160;(vx,&#160;vy)&#160;is&#160;a&#160;fork&#160;if&#160;cr(vx)&#160;=&#160;cr(vy),&#160;vx&#160;6,→</p>
<p style="position:absolute;top:255px;left:506px;white-space:nowrap" class="ft327">a&#160;vy&#160;and&#160;vy&#160;6,→a&#160;vx.&#160;Using&#160;Happened-Before,&#160;the</p>
<p style="position:absolute;top:274px;left:108px;white-space:nowrap" class="ft322">second&#160;part&#160;means&#160;vx&#160;6→&#160;vy&#160;and&#160;vy&#160;6→&#160;vx.&#160;By&#160;definition&#160;of&#160;concurrent,&#160;we&#160;get&#160;vx&#160;k&#160;vy.</p>
<p style="position:absolute;top:302px;left:108px;white-space:nowrap" class="ft322">Lemma&#160;5.6.&#160;(fork&#160;detection).&#160;If&#160;there&#160;is&#160;a&#160;fork&#160;vx</p>
<p style="position:absolute;top:302px;left:410px;white-space:nowrap" class="ft322">t&#160;vy,&#160;then&#160;vx&#160;and&#160;vy&#160;cannot&#160;both&#160;be&#160;roots&#160;on&#160;honest&#160;nodes.</p>
<p style="position:absolute;top:338px;left:108px;white-space:nowrap" class="ft322">Proof.</p>
<p style="position:absolute;top:338px;left:153px;white-space:nowrap" class="ft322">Here,&#160;we&#160;show&#160;a&#160;proof&#160;by&#160;contradiction.&#160;Any&#160;honest&#160;node&#160;cannot&#160;accept&#160;a&#160;fork&#160;so&#160;vx&#160;and&#160;vy&#160;cannot&#160;be&#160;roots&#160;on</p>
<p style="position:absolute;top:355px;left:108px;white-space:nowrap" class="ft328">the&#160;same&#160;honest&#160;node.&#160;Now&#160;we&#160;prove&#160;a&#160;more&#160;general&#160;case.&#160;Suppose&#160;that&#160;both&#160;vx&#160;is&#160;a&#160;root&#160;of&#160;nx&#160;and&#160;vy&#160;is&#160;root&#160;of&#160;ny,<br/>where&#160;nx&#160;and&#160;ny&#160;are&#160;honest&#160;nodes.&#160;Since&#160;vx&#160;is&#160;a&#160;root,&#160;it&#160;reached&#160;events&#160;created&#160;by&#160;more&#160;than&#160;2/3&#160;of&#160;member&#160;nodes.<br/>Similary,&#160;vy&#160;is&#160;a&#160;root,&#160;it&#160;reached&#160;events&#160;created&#160;by&#160;more&#160;than&#160;2/3&#160;of&#160;member&#160;nodes.&#160;Thus,&#160;there&#160;must&#160;be&#160;an&#160;overlap&#160;of<br/>more&#160;than&#160;n/3&#160;members&#160;of&#160;those&#160;events&#160;in&#160;both&#160;sets.&#160;Since&#160;we&#160;assume&#160;less&#160;than&#160;n/3&#160;members&#160;are&#160;not&#160;honest,&#160;so&#160;there<br/>must&#160;be&#160;at&#160;least&#160;one&#160;honest&#160;member&#160;in&#160;the&#160;overlap&#160;set.&#160;Let&#160;nm&#160;be&#160;such&#160;an&#160;honest&#160;member.&#160;Because&#160;nm&#160;is&#160;honest,&#160;nm<br/>does&#160;not&#160;allow&#160;the&#160;fork.&#160;This&#160;contradicts&#160;the&#160;assumption.&#160;Thus,&#160;the&#160;lemma&#160;is&#160;proved.</p>
<p style="position:absolute;top:473px;left:108px;white-space:nowrap" class="ft322">Each&#160;node&#160;ni&#160;has&#160;an&#160;OPERA&#160;chain&#160;Gi.&#160;We&#160;define&#160;a&#160;consistent&#160;chain&#160;from&#160;a&#160;sequence&#160;of&#160;OPERA&#160;chain&#160;Gi.</p>
<p style="position:absolute;top:495px;left:108px;white-space:nowrap" class="ft322">Definition&#160;5.29&#160;(consistent&#160;chain).&#160;A&#160;global&#160;consistent&#160;chain&#160;GC&#160;is&#160;a&#160;chain&#160;if&#160;GC&#160;∼&#160;Gi&#160;for&#160;all&#160;Gi.</p>
<p style="position:absolute;top:526px;left:108px;white-space:nowrap" class="ft322">We&#160;denote&#160;G&#160;v&#160;G0&#160;to&#160;stand&#160;for&#160;G&#160;is&#160;a&#160;subgraph&#160;of&#160;G0.</p>
<p style="position:absolute;top:548px;left:108px;white-space:nowrap" class="ft322">Lemma&#160;5.7.&#160;∀Gi&#160;(G</p>
<p style="position:absolute;top:546px;left:236px;white-space:nowrap" class="ft327">C&#160;v&#160;Gi).</p>
<p style="position:absolute;top:571px;left:108px;white-space:nowrap" class="ft322">Lemma&#160;5.8.&#160;∀v&#160;∈&#160;GC&#160;∀Gi&#160;(G</p>
<p style="position:absolute;top:568px;left:296px;white-space:nowrap" class="ft327">C&#160;[v]&#160;v&#160;Gi[v]).</p>
<p style="position:absolute;top:593px;left:108px;white-space:nowrap" class="ft322">Lemma&#160;5.9.&#160;(∀vc&#160;∈&#160;G</p>
<p style="position:absolute;top:591px;left:247px;white-space:nowrap" class="ft327">C&#160;)&#160;(∀vp&#160;∈&#160;Gi)&#160;((vp&#160;→&#160;vc)&#160;⇒&#160;vp&#160;∈&#160;GC).</p>
<p style="position:absolute;top:624px;left:108px;white-space:nowrap" class="ft322">Now&#160;we&#160;state&#160;the&#160;following&#160;important&#160;propositions.</p>
<p style="position:absolute;top:646px;left:108px;white-space:nowrap" class="ft325">Definition&#160;5.30&#160;(consistent&#160;root).&#160;Two&#160;chains&#160;G1&#160;and&#160;G2&#160;are&#160;root&#160;consistent,&#160;if&#160;for&#160;every&#160;v&#160;contained&#160;in&#160;both&#160;chains,<br/>and</p>
<p style="position:absolute;top:663px;left:134px;white-space:nowrap" class="ft322">v&#160;is&#160;a&#160;root&#160;of&#160;j-th&#160;frame&#160;in&#160;G1,&#160;then&#160;v&#160;is&#160;a&#160;root&#160;of&#160;j-th&#160;frame&#160;in&#160;G2.</p>
<p style="position:absolute;top:685px;left:108px;white-space:nowrap" class="ft322">Proposition&#160;5.10.&#160;If&#160;G1&#160;∼&#160;G2,&#160;then&#160;G1&#160;and&#160;G2&#160;are&#160;root&#160;consistent.</p>
<p style="position:absolute;top:722px;left:108px;white-space:nowrap" class="ft322">Proof.</p>
<p style="position:absolute;top:722px;left:153px;white-space:nowrap" class="ft322">By&#160;consistent&#160;chains,&#160;if&#160;G1&#160;∼&#160;G2&#160;and&#160;v&#160;belongs&#160;to&#160;both&#160;chains,&#160;then&#160;G1[v]&#160;=&#160;G2[v].&#160;We&#160;can&#160;prove&#160;the</p>
<p style="position:absolute;top:738px;left:108px;white-space:nowrap" class="ft328">proposition&#160;by&#160;induction.&#160;For&#160;j&#160;=&#160;0,&#160;the&#160;first&#160;root&#160;set&#160;is&#160;the&#160;same&#160;in&#160;both&#160;G1&#160;and&#160;G2.&#160;Hence,&#160;it&#160;holds&#160;for&#160;j&#160;=&#160;0.&#160;Suppose<br/>that&#160;the&#160;proposition&#160;holds&#160;for&#160;every&#160;j&#160;from&#160;0&#160;to&#160;k.&#160;We&#160;prove&#160;that&#160;it&#160;also&#160;holds&#160;for&#160;j=&#160;k&#160;+&#160;1.&#160;Suppose&#160;that&#160;v&#160;is&#160;a&#160;root&#160;of<br/>frame&#160;fk+1&#160;in&#160;G1.&#160;Then&#160;there&#160;exists&#160;a&#160;set&#160;S&#160;reaching&#160;2/3&#160;of&#160;members&#160;in&#160;G1&#160;of&#160;frame&#160;fk&#160;such&#160;that&#160;∀u&#160;∈&#160;S&#160;(u&#160;→&#160;v).<br/>As&#160;G1&#160;∼&#160;G2,&#160;and&#160;v&#160;in&#160;G2,&#160;then&#160;∀u&#160;∈&#160;S&#160;(u&#160;∈&#160;G2).&#160;Since&#160;the&#160;proposition&#160;holds&#160;for&#160;j=k,&#160;As&#160;u&#160;is&#160;a&#160;root&#160;of&#160;frame&#160;fk&#160;in<br/>G1,&#160;u&#160;is&#160;a&#160;root&#160;of&#160;frame&#160;fk&#160;in&#160;G2.&#160;Hence,&#160;the&#160;set&#160;S&#160;of&#160;2/3&#160;members&#160;u&#160;happens&#160;before&#160;v&#160;in&#160;G2.&#160;So&#160;v&#160;belongs&#160;to&#160;fk+1<br/>in&#160;G2.&#160;The&#160;proposition&#160;is&#160;proved.</p>
<p style="position:absolute;top:856px;left:108px;white-space:nowrap" class="ft322">From&#160;the&#160;above&#160;proposition,&#160;one&#160;can&#160;deduce&#160;the&#160;following:</p>
<p style="position:absolute;top:879px;left:108px;white-space:nowrap" class="ft322">Lemma&#160;5.11.&#160;GC&#160;is&#160;root&#160;consistent&#160;with&#160;Gi&#160;for&#160;all&#160;nodes.</p>
<p style="position:absolute;top:909px;left:108px;white-space:nowrap" class="ft325">Thus,&#160;all&#160;nodes&#160;have&#160;the&#160;same&#160;consistent&#160;root&#160;sets,&#160;which&#160;are&#160;the&#160;root&#160;sets&#160;in&#160;GC&#160;.&#160;Frame&#160;numbers&#160;are&#160;consistent&#160;for&#160;all<br/>nodes.</p>
<p style="position:absolute;top:948px;left:108px;white-space:nowrap" class="ft325">Lemma&#160;5.12&#160;(consistent&#160;flag&#160;table).&#160;For&#160;any&#160;top&#160;event&#160;v&#160;in&#160;both&#160;OPERA&#160;chains&#160;G1&#160;and&#160;G2,&#160;and&#160;G1&#160;∼&#160;G2,&#160;then&#160;the<br/>flag&#160;tables&#160;of</p>
<p style="position:absolute;top:964px;left:189px;white-space:nowrap" class="ft322">v&#160;are&#160;consistent&#160;iff&#160;they&#160;are&#160;the&#160;same&#160;in&#160;both&#160;chains.</p>
<p style="position:absolute;top:1001px;left:108px;white-space:nowrap" class="ft322">Proof.</p>
<p style="position:absolute;top:1001px;left:153px;white-space:nowrap" class="ft322">From&#160;the&#160;above&#160;lemmas,&#160;the&#160;root&#160;sets&#160;of&#160;G1&#160;and&#160;G2&#160;are&#160;consistent.&#160;If&#160;v&#160;contained&#160;in&#160;G1,&#160;and&#160;v&#160;is&#160;a&#160;root&#160;of&#160;j-th</p>
<p style="position:absolute;top:1017px;left:108px;white-space:nowrap" class="ft325">frame&#160;in&#160;G1,&#160;then&#160;v&#160;is&#160;a&#160;root&#160;of&#160;j-th&#160;frame&#160;in&#160;Gi.&#160;Since&#160;G1&#160;∼&#160;G2,&#160;G1[v]&#160;=&#160;G2[v].&#160;The&#160;reference&#160;event&#160;blocks&#160;of&#160;v&#160;are<br/>the&#160;same&#160;in&#160;both&#160;chains.&#160;Thus&#160;the&#160;flag&#160;tables&#160;of&#160;v&#160;of&#160;both&#160;chains&#160;are&#160;the&#160;same.</p>
<p style="position:absolute;top:1070px;left:108px;white-space:nowrap" class="ft322">Thus,&#160;all&#160;nodes&#160;have&#160;consistent&#160;flag&#160;tables.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft322">31</p>
</div>
<!-- Page 33 -->
<a name="33"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page33-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft332">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft335">Definition&#160;5.31&#160;(Clotho).&#160;A&#160;root&#160;rk&#160;in&#160;the&#160;frame&#160;fa+3&#160;can&#160;nominate&#160;a&#160;root&#160;ra&#160;as&#160;Clotho&#160;if&#160;more&#160;than&#160;2n/3&#160;roots&#160;in&#160;the<br/>frame</p>
<p style="position:absolute;top:129px;left:146px;white-space:nowrap" class="ft332">fa+1&#160;Happened-Before&#160;ra&#160;and&#160;rk&#160;Happened-Before&#160;the&#160;roots&#160;in&#160;the&#160;frame&#160;fa+1.</p>
<p style="position:absolute;top:151px;left:108px;white-space:nowrap" class="ft332">Lemma&#160;5.13.&#160;For&#160;any&#160;root&#160;set&#160;R,&#160;all&#160;nodes&#160;nominate&#160;same&#160;root&#160;into&#160;Clotho.</p>
<p style="position:absolute;top:188px;left:108px;white-space:nowrap" class="ft332">Proof.</p>
<p style="position:absolute;top:188px;left:153px;white-space:nowrap" class="ft332">Based&#160;on&#160;Theorem&#160;5.17,&#160;each&#160;node&#160;nominates&#160;a&#160;root&#160;into&#160;Clotho&#160;via&#160;the&#160;flag&#160;table.&#160;If&#160;all&#160;nodes&#160;have&#160;an&#160;OPERA</p>
<p style="position:absolute;top:204px;left:108px;white-space:nowrap" class="ft335">chain&#160;with&#160;same&#160;shape,&#160;the&#160;values&#160;in&#160;flag&#160;table&#160;should&#160;be&#160;equal&#160;to&#160;each&#160;other&#160;in&#160;OPERA&#160;chain.&#160;Thus,&#160;all&#160;nodes<br/>nominate&#160;the&#160;same&#160;root&#160;into&#160;Clotho&#160;since&#160;the&#160;OPERA&#160;chain&#160;of&#160;all&#160;nodes&#160;has&#160;same&#160;shape.</p>
<p style="position:absolute;top:248px;left:108px;white-space:nowrap" class="ft335">Lemma&#160;5.14.&#160;In&#160;the&#160;Reselection&#160;algorithm,&#160;for&#160;any&#160;Clotho,&#160;a&#160;root&#160;in&#160;OPERA&#160;chain&#160;selects&#160;the&#160;same&#160;consensus&#160;time<br/>candidate.</p>
<p style="position:absolute;top:301px;left:108px;white-space:nowrap" class="ft332">Proof.</p>
<p style="position:absolute;top:301px;left:153px;white-space:nowrap" class="ft332">Based&#160;on&#160;Theorem&#160;5.17,&#160;if&#160;all&#160;nodes&#160;have&#160;an&#160;OPERA&#160;chain&#160;with&#160;the&#160;same&#160;partial&#160;shape,&#160;a&#160;root&#160;in&#160;OPERA&#160;chain</p>
<p style="position:absolute;top:317px;left:108px;white-space:nowrap" class="ft332">selects&#160;the&#160;same&#160;consensus&#160;time&#160;candidate&#160;by&#160;the&#160;Reselection&#160;algorithm.</p>
<p style="position:absolute;top:345px;left:108px;white-space:nowrap" class="ft335">Lemma&#160;5.15&#160;(Fork&#160;Lemma).&#160;If&#160;the&#160;pair&#160;of&#160;event&#160;blocks&#160;(x,y)&#160;is&#160;fork&#160;and&#160;a&#160;root&#160;has&#160;Happened-before&#160;the&#160;fork,&#160;this&#160;fork<br/>is&#160;detected&#160;in&#160;the&#160;Clotho&#160;selection&#160;process.</p>
<p style="position:absolute;top:397px;left:108px;white-space:nowrap" class="ft332">Proof.</p>
<p style="position:absolute;top:397px;left:153px;white-space:nowrap" class="ft332">We&#160;show&#160;a&#160;proof&#160;by&#160;contradiction.&#160;Assume&#160;that&#160;no&#160;node&#160;can&#160;detect&#160;the&#160;fork&#160;in&#160;the&#160;Clotho&#160;selection&#160;process.</p>
<p style="position:absolute;top:422px;left:108px;white-space:nowrap" class="ft335">Assume&#160;that&#160;there&#160;is&#160;a&#160;root&#160;ri&#160;that&#160;becomes&#160;Clotho&#160;in&#160;fi,&#160;which&#160;was&#160;selected&#160;as&#160;Clotho&#160;by&#160;n/3&#160;of&#160;the&#160;roots&#160;in&#160;fi+1.<br/>More&#160;than&#160;2n/3&#160;roots&#160;in&#160;fi+1&#160;should&#160;have&#160;happened-before&#160;by&#160;a&#160;root&#160;in&#160;fi+2.&#160;If&#160;a&#160;pair&#160;(vx,&#160;vy)&#160;is&#160;fork,&#160;There&#160;are&#160;two<br/>cases:&#160;(1)&#160;assume&#160;that&#160;ri&#160;is&#160;one&#160;of&#160;vx&#160;and&#160;vy,&#160;(2)&#160;assume&#160;that&#160;ri&#160;can&#160;reach&#160;both&#160;vx&#160;and&#160;vy.</p>
<p style="position:absolute;top:479px;left:108px;white-space:nowrap" class="ft332">Our&#160;proof&#160;for&#160;both&#160;two&#160;cases&#160;is&#160;as&#160;follows.</p>
<p style="position:absolute;top:504px;left:108px;white-space:nowrap" class="ft332">Let&#160;k&#160;denote&#160;that&#160;the&#160;number&#160;of&#160;roots&#160;in&#160;fi+1&#160;that&#160;can&#160;reach&#160;ri&#160;in&#160;fi&#160;(</p>
<p style="position:absolute;top:504px;left:520px;white-space:nowrap" class="ft332">∴&#160;n/3&#160;&lt;&#160;k).</p>
<p style="position:absolute;top:528px;left:108px;white-space:nowrap" class="ft335">In&#160;order&#160;to&#160;select&#160;root&#160;in&#160;fi+2,&#160;the&#160;root&#160;in&#160;fi+2&#160;should&#160;reach&#160;more&#160;than&#160;2n/3&#160;of&#160;roots&#160;in&#160;fi+1&#160;by&#160;Definition&#160;5.23.&#160;At&#160;the<br/>moment,&#160;assume&#160;that&#160;l&#160;is&#160;the&#160;number&#160;of&#160;roots&#160;in&#160;fi+1&#160;that&#160;can&#160;be&#160;reached&#160;by&#160;the&#160;root&#160;in&#160;fi+2&#160;(</p>
<p style="position:absolute;top:545px;left:667px;white-space:nowrap" class="ft332">∴&#160;2n/3&#160;&lt;&#160;l).</p>
<p style="position:absolute;top:569px;left:108px;white-space:nowrap" class="ft332">At&#160;this&#160;time,&#160;n&#160;&lt;&#160;k&#160;+&#160;l&#160;(</p>
<p style="position:absolute;top:569px;left:248px;white-space:nowrap" class="ft332">∵&#160;n/3&#160;+&#160;2n/3&#160;&lt;&#160;k&#160;+&#160;l),&#160;there&#160;are&#160;(n&#160;-&#160;k&#160;+&#160;l)&#160;roots&#160;in&#160;frame&#160;fi+1&#160;that&#160;should&#160;reach&#160;ri&#160;in&#160;fi&#160;and&#160;all</p>
<p style="position:absolute;top:586px;left:108px;white-space:nowrap" class="ft335">roots&#160;in&#160;fi+2&#160;should&#160;reach&#160;at&#160;least&#160;n&#160;–&#160;k&#160;+&#160;l&#160;of&#160;roots&#160;in&#160;fi+1.&#160;It&#160;means&#160;that&#160;all&#160;roots&#160;in&#160;fi+2&#160;know&#160;the&#160;existence&#160;of&#160;ri.<br/>Therefore,&#160;the&#160;node&#160;that&#160;generated&#160;all&#160;the&#160;roots&#160;of&#160;fi+2&#160;detect&#160;the&#160;fork&#160;in&#160;the&#160;Clotho&#160;selection&#160;of&#160;ri,&#160;which&#160;contradicts<br/>the&#160;assumption.</p>
<p style="position:absolute;top:643px;left:108px;white-space:nowrap" class="ft335">It&#160;can&#160;be&#160;covered&#160;two&#160;cases.&#160;If&#160;ri&#160;is&#160;part&#160;of&#160;the&#160;fork,&#160;we&#160;can&#160;detect&#160;in&#160;fi+2.&#160;If&#160;there&#160;is&#160;fork&#160;(vx,&#160;vy)&#160;that&#160;can&#160;be&#160;reached<br/>by&#160;ri,&#160;it&#160;also&#160;can&#160;be&#160;detected&#160;in&#160;fi+2&#160;since&#160;we&#160;can&#160;detect&#160;the&#160;fork&#160;in&#160;the&#160;Clotho&#160;selection&#160;of&#160;ri&#160;and&#160;it&#160;indicates&#160;that&#160;all<br/>event&#160;blocks&#160;that&#160;can&#160;be&#160;reached&#160;by&#160;ri&#160;are&#160;detected&#160;by&#160;the&#160;roots&#160;in&#160;fi+2.</p>
<p style="position:absolute;top:703px;left:108px;white-space:nowrap" class="ft332">Lemma&#160;5.16.&#160;For&#160;a&#160;root&#160;v&#160;happened-before&#160;a&#160;fork&#160;in&#160;OPERA&#160;chain,&#160;v&#160;must&#160;see&#160;the&#160;fork&#160;before&#160;becoming&#160;Clotho.</p>
<p style="position:absolute;top:740px;left:108px;white-space:nowrap" class="ft332">Proof.</p>
<p style="position:absolute;top:740px;left:153px;white-space:nowrap" class="ft332">Suppose&#160;that&#160;a&#160;node&#160;creates&#160;two&#160;event&#160;blocks&#160;(vx,&#160;vy),&#160;which&#160;forms&#160;a&#160;fork.&#160;To&#160;create&#160;two&#160;Clothos&#160;that&#160;can&#160;reach</p>
<p style="position:absolute;top:756px;left:108px;white-space:nowrap" class="ft335">both&#160;events,&#160;the&#160;event&#160;blocks&#160;should&#160;reach&#160;by&#160;more&#160;than&#160;2n/3&#160;nodes.&#160;Therefore,&#160;the&#160;OPERA&#160;chain&#160;can&#160;structurally<br/>detect&#160;the&#160;fork&#160;before&#160;roots&#160;become&#160;Clotho.</p>
<p style="position:absolute;top:800px;left:108px;white-space:nowrap" class="ft332">Theorem&#160;5.17&#160;(Fork&#160;Absence).&#160;All&#160;nodes&#160;grows&#160;up&#160;into&#160;same&#160;consistent&#160;OPERA&#160;chain&#160;GC&#160;,&#160;which&#160;contains&#160;no&#160;fork.</p>
<p style="position:absolute;top:836px;left:108px;white-space:nowrap" class="ft332">Proof.</p>
<p style="position:absolute;top:836px;left:153px;white-space:nowrap" class="ft332">Suppose&#160;that&#160;there&#160;are&#160;two&#160;event&#160;blocks&#160;vx&#160;and&#160;vy&#160;contained&#160;in&#160;both&#160;G1&#160;and&#160;G2,&#160;and&#160;their&#160;path&#160;between&#160;vx&#160;and</p>
<p style="position:absolute;top:852px;left:108px;white-space:nowrap" class="ft335">vy&#160;in&#160;G1&#160;is&#160;not&#160;equal&#160;to&#160;that&#160;in&#160;G2.&#160;We&#160;can&#160;consider&#160;that&#160;the&#160;path&#160;difference&#160;between&#160;the&#160;nodes&#160;is&#160;a&#160;kind&#160;of&#160;fork&#160;attack.<br/>Based&#160;on&#160;Lemma&#160;5.15,&#160;if&#160;an&#160;attacker&#160;forks&#160;an&#160;event&#160;block,&#160;each&#160;chain&#160;of&#160;Gi&#160;and&#160;G2&#160;can&#160;detect&#160;and&#160;remove&#160;the&#160;fork<br/>before&#160;the&#160;Clotho&#160;is&#160;generated.&#160;Thus,&#160;any&#160;two&#160;nodes&#160;have&#160;consistent&#160;OPERA&#160;chain.</p>
<p style="position:absolute;top:913px;left:108px;white-space:nowrap" class="ft332">Definition&#160;5.32&#160;(Atropos).&#160;If&#160;the&#160;consensus&#160;time&#160;of&#160;Clotho&#160;is&#160;validated,&#160;the&#160;Clotho&#160;become&#160;an&#160;Atropos.</p>
<p style="position:absolute;top:935px;left:108px;white-space:nowrap" class="ft332">Theorem&#160;5.18.&#160;Lachesis&#160;consensus&#160;algorithm&#160;guarantees&#160;to&#160;reach&#160;agreement&#160;for&#160;the&#160;consensus&#160;time.</p>
<p style="position:absolute;top:972px;left:108px;white-space:nowrap" class="ft332">Proof.</p>
<p style="position:absolute;top:972px;left:153px;white-space:nowrap" class="ft332">For&#160;any&#160;root&#160;set&#160;R&#160;in&#160;the&#160;frame&#160;fi,&#160;time&#160;consensus&#160;algorithm&#160;checks&#160;whether&#160;more&#160;than&#160;2n/3&#160;roots&#160;in&#160;the</p>
<p style="position:absolute;top:988px;left:108px;white-space:nowrap" class="ft335">frame&#160;fi−1&#160;selects&#160;the&#160;same&#160;value.&#160;However,&#160;each&#160;node&#160;selects&#160;one&#160;of&#160;the&#160;values&#160;collected&#160;from&#160;the&#160;root&#160;set&#160;in&#160;the<br/>previous&#160;frame&#160;by&#160;the&#160;time&#160;consensus&#160;algorithm&#160;and&#160;Reselection&#160;process.&#160;Based&#160;on&#160;the&#160;Reselection&#160;process,&#160;the&#160;time<br/>consensus&#160;algorithm&#160;can&#160;reach&#160;agreement.&#160;However,&#160;there&#160;is&#160;a&#160;possibility&#160;that&#160;consensus&#160;time&#160;candidate&#160;does&#160;not&#160;reach<br/>agreement&#160;[10].&#160;To&#160;solve&#160;this&#160;problem,&#160;time&#160;consensus&#160;algorithm&#160;includes&#160;minimal&#160;selection&#160;frame&#160;per&#160;next&#160;h&#160;frame.<br/>In&#160;minimal&#160;value&#160;selection&#160;algorithm,&#160;each&#160;root&#160;selects&#160;minimum&#160;value&#160;among&#160;values&#160;collected&#160;from&#160;previous&#160;root&#160;set.<br/>Thus,&#160;the&#160;consensus&#160;time&#160;reaches&#160;consensus&#160;by&#160;time&#160;consensus&#160;algorithm.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft332">32</p>
</div>
<!-- Page 34 -->
<a name="34"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page34-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft342">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft345">Theorem&#160;5.19.&#160;If&#160;the&#160;number&#160;of&#160;reliable&#160;nodes&#160;is&#160;more&#160;than&#160;2n/3,&#160;event&#160;blocks&#160;created&#160;by&#160;reliable&#160;nodes&#160;must&#160;be<br/>assigned&#160;to&#160;consensus&#160;order.</p>
<p style="position:absolute;top:165px;left:108px;white-space:nowrap" class="ft342">Proof.</p>
<p style="position:absolute;top:165px;left:153px;white-space:nowrap" class="ft342">In&#160;OPERA&#160;chain,&#160;since&#160;reliable&#160;nodes&#160;try&#160;to&#160;create&#160;event&#160;blocks&#160;by&#160;communicating&#160;with&#160;every&#160;other&#160;nodes</p>
<p style="position:absolute;top:181px;left:108px;white-space:nowrap" class="ft345">continuously,&#160;reliable&#160;nodes&#160;will&#160;share&#160;the&#160;event&#160;block&#160;x&#160;with&#160;each&#160;other.&#160;If&#160;a&#160;root&#160;y&#160;in&#160;the&#160;frame&#160;fi&#160;Happened-Before<br/>event&#160;block&#160;x&#160;and&#160;more&#160;than&#160;n/3&#160;roots&#160;in&#160;the&#160;frame&#160;fi+1&#160;Happened-Before&#160;the&#160;root&#160;y,&#160;the&#160;root&#160;y&#160;will&#160;be&#160;nominated&#160;as<br/>Clotho&#160;and&#160;Atropos.&#160;Thus,&#160;event&#160;block&#160;x&#160;and&#160;root&#160;y&#160;will&#160;be&#160;assigned&#160;consensus&#160;time&#160;t.</p>
<p style="position:absolute;top:238px;left:108px;white-space:nowrap" class="ft345">For&#160;an&#160;event&#160;block,&#160;assigning&#160;consensus&#160;time&#160;means&#160;that&#160;the&#160;validated&#160;event&#160;block&#160;is&#160;shared&#160;by&#160;more&#160;than&#160;2n/3&#160;nodes.<br/>Therefore,&#160;malicious&#160;node&#160;cannot&#160;try&#160;to&#160;attack&#160;after&#160;the&#160;event&#160;blocks&#160;are&#160;assigned&#160;consensus&#160;time.&#160;When&#160;the&#160;event<br/>block&#160;x&#160;has&#160;consensus&#160;time&#160;t,&#160;it&#160;cannot&#160;occur&#160;to&#160;discover&#160;new&#160;event&#160;blocks&#160;with&#160;earlier&#160;consensus&#160;time&#160;than&#160;t.&#160;There<br/>are&#160;two&#160;conditions&#160;to&#160;be&#160;assigned&#160;consensus&#160;time&#160;earlier&#160;than&#160;t&#160;for&#160;new&#160;event&#160;blocks.&#160;First,&#160;a&#160;root&#160;r&#160;in&#160;the&#160;frame&#160;fi<br/>should&#160;be&#160;able&#160;to&#160;share&#160;new&#160;event&#160;blocks.&#160;Second,&#160;the&#160;more&#160;than&#160;2n/3&#160;roots&#160;in&#160;the&#160;frame&#160;fi+1&#160;should&#160;be&#160;able&#160;to&#160;share&#160;r.<br/>Even&#160;if&#160;the&#160;first&#160;condition&#160;is&#160;satisfied&#160;by&#160;malicious&#160;nodes&#160;(e.g.,&#160;parasite&#160;chain),&#160;the&#160;second&#160;condition&#160;cannot&#160;be&#160;satisfied<br/>since&#160;at&#160;least&#160;2n/3&#160;roots&#160;in&#160;the&#160;frame&#160;fi+1&#160;are&#160;already&#160;created&#160;and&#160;cannot&#160;be&#160;changed.&#160;Therefore,&#160;after&#160;an&#160;event&#160;block<br/>is&#160;validated,&#160;new&#160;event&#160;blocks&#160;should&#160;not&#160;be&#160;participate&#160;earlier&#160;consensus&#160;time&#160;to&#160;OPERA&#160;chain.</p>
<p style="position:absolute;top:389px;left:108px;white-space:nowrap" class="ft342">5.3</p>
<p style="position:absolute;top:389px;left:142px;white-space:nowrap" class="ft342">Semantics&#160;of&#160;Lachesis&#160;protocol</p>
<p style="position:absolute;top:419px;left:108px;white-space:nowrap" class="ft345">This&#160;section&#160;gives&#160;the&#160;formal&#160;semantics&#160;of&#160;Lachesis&#160;consensus&#160;protocol.&#160;We&#160;use&#160;CCK&#160;model&#160;[9]&#160;of&#160;an&#160;asynchronous<br/>system&#160;as&#160;the&#160;base&#160;of&#160;the&#160;semantics&#160;of&#160;our&#160;Lachesis&#160;protocol.&#160;Events&#160;are&#160;ordered&#160;based&#160;on&#160;Lamport’s&#160;happens-before<br/>relation.&#160;In&#160;particular,&#160;we&#160;use&#160;Lamport’s&#160;theory&#160;to&#160;describe&#160;global&#160;states&#160;of&#160;an&#160;asynchronous&#160;system.</p>
<p style="position:absolute;top:476px;left:108px;white-space:nowrap" class="ft345">We&#160;present&#160;notations&#160;and&#160;concepts,&#160;which&#160;are&#160;important&#160;for&#160;Lachesis&#160;protocol.&#160;In&#160;several&#160;places,&#160;we&#160;adapt&#160;the&#160;notations<br/>and&#160;concepts&#160;of&#160;CCK&#160;paper&#160;to&#160;suit&#160;our&#160;Lachesis&#160;protocol.</p>
<p style="position:absolute;top:517px;left:108px;white-space:nowrap" class="ft342">An&#160;asynchronous&#160;system&#160;consists&#160;of&#160;the&#160;following:</p>
<p style="position:absolute;top:540px;left:108px;white-space:nowrap" class="ft3410">Definition&#160;5.33&#160;(process).&#160;A&#160;process&#160;pi&#160;represents&#160;a&#160;machine&#160;or&#160;a&#160;node.&#160;The&#160;process&#160;identifier&#160;of&#160;pi&#160;is&#160;i.&#160;A&#160;set&#160;P&#160;=<br/>{1,...,n}&#160;denotes&#160;the&#160;set&#160;of&#160;process&#160;identifiers.</p>
<p style="position:absolute;top:578px;left:108px;white-space:nowrap" class="ft345">Definition&#160;5.34&#160;(channel).&#160;A&#160;process&#160;i&#160;can&#160;send&#160;messages&#160;to&#160;process&#160;j&#160;if&#160;there&#160;is&#160;a&#160;channel&#160;(i,j).&#160;Let&#160;C&#160;⊆&#160;{(i,j)&#160;s.t.<br/>i,&#160;j&#160;∈&#160;P&#160;}&#160;denote&#160;the&#160;set&#160;of&#160;channels.</p>
<p style="position:absolute;top:617px;left:108px;white-space:nowrap" class="ft342">Definition&#160;5.35&#160;(state).&#160;A&#160;local&#160;state&#160;of&#160;a&#160;process&#160;i&#160;is&#160;denoted&#160;by&#160;si</p>
<p style="position:absolute;top:624px;left:506px;white-space:nowrap" class="ft347">j&#160;.</p>
<p style="position:absolute;top:651px;left:108px;white-space:nowrap" class="ft342">A&#160;local&#160;state&#160;consists&#160;of&#160;a&#160;sequence&#160;of&#160;event&#160;blocks&#160;si</p>
<p style="position:absolute;top:658px;left:424px;white-space:nowrap" class="ft347">j&#160;=&#160;v</p>
<p style="position:absolute;top:649px;left:458px;white-space:nowrap" class="ft347">i</p>
<p style="position:absolute;top:658px;left:457px;white-space:nowrap" class="ft347">0,&#160;v</p>
<p style="position:absolute;top:649px;left:479px;white-space:nowrap" class="ft347">i</p>
<p style="position:absolute;top:658px;left:478px;white-space:nowrap" class="ft347">1,&#160;.&#160;.&#160;.&#160;,&#160;v</p>
<p style="position:absolute;top:649px;left:526px;white-space:nowrap" class="ft347">i</p>
<p style="position:absolute;top:658px;left:525px;white-space:nowrap" class="ft347">j&#160;.</p>
<p style="position:absolute;top:679px;left:108px;white-space:nowrap" class="ft342">In&#160;a&#160;DAG-based&#160;protocol,&#160;each&#160;vi</p>
<p style="position:absolute;top:686px;left:303px;white-space:nowrap" class="ft347">j&#160;event&#160;block&#160;is&#160;valid&#160;only&#160;the&#160;reference&#160;blocks&#160;exist&#160;exist&#160;before&#160;it.&#160;From&#160;a&#160;local&#160;state</p>
<p style="position:absolute;top:699px;left:108px;white-space:nowrap" class="ft342">si</p>
<p style="position:absolute;top:706px;left:115px;white-space:nowrap" class="ft347">j&#160;,&#160;one&#160;can&#160;reconstruct&#160;a&#160;unique&#160;DAG.&#160;That&#160;is,&#160;the&#160;mapping&#160;from&#160;a&#160;local&#160;state&#160;s</p>
<p style="position:absolute;top:696px;left:578px;white-space:nowrap" class="ft349">i<br/>j&#160;into&#160;a&#160;DAG&#160;is&#160;injective&#160;or&#160;one-to-one.</p>
<p style="position:absolute;top:719px;left:108px;white-space:nowrap" class="ft342">Thus,&#160;for&#160;Lachesis,&#160;we&#160;can&#160;simply&#160;denote&#160;the&#160;j-th&#160;local&#160;state&#160;of&#160;a&#160;process&#160;i&#160;by&#160;the&#160;OPERA&#160;chain&#160;gi</p>
<p style="position:absolute;top:726px;left:698px;white-space:nowrap" class="ft347">j&#160;(often&#160;we&#160;simply</p>
<p style="position:absolute;top:735px;left:108px;white-space:nowrap" class="ft342">use&#160;Gi&#160;to&#160;denote&#160;the&#160;current&#160;local&#160;state&#160;of&#160;a&#160;process&#160;i).</p>
<p style="position:absolute;top:757px;left:108px;white-space:nowrap" class="ft342">Definition&#160;5.36&#160;(action).&#160;An&#160;action&#160;is&#160;a&#160;function&#160;from&#160;one&#160;local&#160;state&#160;to&#160;another&#160;local&#160;state.</p>
<p style="position:absolute;top:788px;left:108px;white-space:nowrap" class="ft345">Generally&#160;speaking,&#160;an&#160;action&#160;can&#160;be&#160;either:&#160;a&#160;send(m)&#160;action&#160;where&#160;m&#160;is&#160;a&#160;message,&#160;a&#160;receive(m)&#160;action,&#160;and&#160;an<br/>internal&#160;action.&#160;A&#160;message&#160;m&#160;is&#160;a&#160;triple&#160;hi,&#160;j,&#160;Bi&#160;where&#160;i&#160;∈&#160;P&#160;is&#160;the&#160;sender&#160;of&#160;the&#160;message,&#160;j&#160;∈&#160;P&#160;is&#160;the&#160;message<br/>recipient,&#160;and&#160;B&#160;is&#160;the&#160;body&#160;of&#160;the&#160;message.&#160;Let&#160;M&#160;denote&#160;the&#160;set&#160;of&#160;messages.&#160;In&#160;Lachesis&#160;protocol,&#160;B&#160;consists&#160;of<br/>the&#160;content&#160;of&#160;an&#160;event&#160;block&#160;v.&#160;Semantics-wise,&#160;in&#160;Lachesis,&#160;there&#160;are&#160;two&#160;actions&#160;that&#160;can&#160;change&#160;a&#160;process’s&#160;local<br/>state:&#160;creating&#160;a&#160;new&#160;event&#160;and&#160;receiving&#160;an&#160;event&#160;from&#160;another&#160;process.</p>
<p style="position:absolute;top:876px;left:108px;white-space:nowrap" class="ft342">Definition&#160;5.37&#160;(event).&#160;An&#160;event&#160;is&#160;a&#160;tuple&#160;hs,&#160;α,&#160;s0i&#160;consisting&#160;of&#160;a&#160;state,&#160;an&#160;action,&#160;and&#160;a&#160;state.</p>
<p style="position:absolute;top:907px;left:108px;white-space:nowrap" class="ft342">Sometimes,&#160;the&#160;event&#160;can&#160;be&#160;represented&#160;by&#160;the&#160;end&#160;state&#160;s0.&#160;The&#160;j-th&#160;event&#160;in&#160;history&#160;hi&#160;of&#160;process&#160;i&#160;is&#160;hs</p>
<p style="position:absolute;top:904px;left:743px;white-space:nowrap" class="ft349">i<br/>j−1,&#160;α,&#160;s</p>
<p style="position:absolute;top:904px;left:794px;white-space:nowrap" class="ft349">i<br/>j&#160;i,</p>
<p style="position:absolute;top:926px;left:108px;white-space:nowrap" class="ft342">denoted&#160;by&#160;vi</p>
<p style="position:absolute;top:933px;left:185px;white-space:nowrap" class="ft347">j&#160;.</p>
<p style="position:absolute;top:949px;left:108px;white-space:nowrap" class="ft345">Definition&#160;5.38&#160;(local&#160;history).&#160;A&#160;local&#160;history&#160;hi&#160;of&#160;process&#160;i&#160;is&#160;a&#160;(possibly&#160;infinite)&#160;sequence&#160;of&#160;alternating&#160;local<br/>states&#160;—&#160;beginning&#160;with&#160;a&#160;distinguished&#160;initial&#160;state.&#160;A&#160;set</p>
<p style="position:absolute;top:965px;left:459px;white-space:nowrap" class="ft342">Hi&#160;of&#160;possible&#160;local&#160;histories&#160;for&#160;each&#160;process&#160;i&#160;in&#160;P&#160;.</p>
<p style="position:absolute;top:996px;left:108px;white-space:nowrap" class="ft345">The&#160;state&#160;of&#160;a&#160;process&#160;can&#160;be&#160;obtained&#160;from&#160;its&#160;initial&#160;state&#160;and&#160;the&#160;sequence&#160;of&#160;actions&#160;or&#160;events&#160;that&#160;have&#160;occurred<br/>up&#160;to&#160;the&#160;current&#160;state.&#160;In&#160;Lachesis&#160;protocol,&#160;we&#160;use&#160;append-only&#160;sematics.&#160;The&#160;local&#160;history&#160;may&#160;be&#160;equivalently<br/>described&#160;as&#160;either&#160;of&#160;the&#160;following:</p>
<p style="position:absolute;top:1045px;left:390px;white-space:nowrap" class="ft342">hi&#160;=&#160;s</p>
<p style="position:absolute;top:1042px;left:430px;white-space:nowrap" class="ft349">i<br/>0,&#160;α</p>
<p style="position:absolute;top:1042px;left:453px;white-space:nowrap" class="ft349">i<br/>1,&#160;α</p>
<p style="position:absolute;top:1042px;left:476px;white-space:nowrap" class="ft349">i<br/>2,&#160;α</p>
<p style="position:absolute;top:1042px;left:499px;white-space:nowrap" class="ft349">i<br/>3&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:1070px;left:393px;white-space:nowrap" class="ft342">hi&#160;=&#160;s</p>
<p style="position:absolute;top:1067px;left:434px;white-space:nowrap" class="ft349">i<br/>0,&#160;v</p>
<p style="position:absolute;top:1067px;left:455px;white-space:nowrap" class="ft347">i</p>
<p style="position:absolute;top:1076px;left:454px;white-space:nowrap" class="ft347">1,&#160;v</p>
<p style="position:absolute;top:1067px;left:476px;white-space:nowrap" class="ft347">i</p>
<p style="position:absolute;top:1076px;left:475px;white-space:nowrap" class="ft347">2,&#160;v</p>
<p style="position:absolute;top:1067px;left:496px;white-space:nowrap" class="ft347">i</p>
<p style="position:absolute;top:1076px;left:496px;white-space:nowrap" class="ft347">3&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft342">33</p>
</div>
<!-- Page 35 -->
<a name="35"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page35-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft352">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:392px;white-space:nowrap" class="ft352">hi&#160;=&#160;s</p>
<p style="position:absolute;top:110px;left:432px;white-space:nowrap" class="ft359">i<br/>0,&#160;s</p>
<p style="position:absolute;top:110px;left:452px;white-space:nowrap" class="ft359">i<br/>1,&#160;s</p>
<p style="position:absolute;top:110px;left:473px;white-space:nowrap" class="ft359">i<br/>2,&#160;s</p>
<p style="position:absolute;top:110px;left:493px;white-space:nowrap" class="ft359">i<br/>3,&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:143px;left:108px;white-space:nowrap" class="ft352">In&#160;Lachesis,&#160;a&#160;local&#160;history&#160;is&#160;equivalently&#160;expressed&#160;as:</p>
<p style="position:absolute;top:169px;left:391px;white-space:nowrap" class="ft352">hi&#160;=&#160;g</p>
<p style="position:absolute;top:166px;left:433px;white-space:nowrap" class="ft357">i</p>
<p style="position:absolute;top:176px;left:432px;white-space:nowrap" class="ft357">0,&#160;g</p>
<p style="position:absolute;top:166px;left:453px;white-space:nowrap" class="ft357">i</p>
<p style="position:absolute;top:176px;left:452px;white-space:nowrap" class="ft357">1,&#160;g</p>
<p style="position:absolute;top:166px;left:473px;white-space:nowrap" class="ft357">i</p>
<p style="position:absolute;top:176px;left:473px;white-space:nowrap" class="ft357">2,&#160;g</p>
<p style="position:absolute;top:166px;left:494px;white-space:nowrap" class="ft357">i</p>
<p style="position:absolute;top:176px;left:493px;white-space:nowrap" class="ft357">3,&#160;.&#160;.&#160;.</p>
<p style="position:absolute;top:195px;left:108px;white-space:nowrap" class="ft352">where&#160;gi</p>
<p style="position:absolute;top:202px;left:155px;white-space:nowrap" class="ft357">j&#160;is&#160;the&#160;j-th&#160;local&#160;OPERA&#160;chain&#160;(local&#160;state)&#160;of&#160;the&#160;process&#160;i.</p>
<p style="position:absolute;top:219px;left:108px;white-space:nowrap" class="ft352">Definition&#160;5.39&#160;(run).&#160;Each&#160;asynchronous&#160;run&#160;is&#160;a&#160;vector&#160;of&#160;local&#160;histories.&#160;Denoted&#160;by&#160;σ&#160;=&#160;hh1,&#160;h2,&#160;h3,&#160;...hN&#160;i.</p>
<p style="position:absolute;top:250px;left:108px;white-space:nowrap" class="ft352">Let&#160;Σ&#160;denote&#160;the&#160;set&#160;of&#160;asynchronous&#160;runs.</p>
<p style="position:absolute;top:274px;left:108px;white-space:nowrap" class="ft355">We&#160;can&#160;now&#160;use&#160;Lamport’s&#160;theory&#160;to&#160;talk&#160;about&#160;global&#160;states&#160;of&#160;an&#160;asynchronous&#160;system.&#160;A&#160;global&#160;state&#160;of&#160;run&#160;σ&#160;is&#160;an<br/>n-vector&#160;of&#160;prefixes&#160;of&#160;local&#160;histories&#160;of&#160;σ,&#160;one&#160;prefix&#160;per&#160;process.&#160;The&#160;happens-before&#160;relation&#160;can&#160;be&#160;used&#160;to&#160;define<br/>a&#160;consistent&#160;global&#160;state,&#160;often&#160;termed&#160;a&#160;consistent&#160;cut,&#160;as&#160;follows.</p>
<p style="position:absolute;top:329px;left:108px;white-space:nowrap" class="ft352">Definition&#160;5.40&#160;(Consistent&#160;cut).&#160;A&#160;consistent&#160;cut&#160;of&#160;a&#160;run&#160;σ&#160;is&#160;any&#160;global&#160;state&#160;such&#160;that&#160;if&#160;vix&#160;→&#160;v</p>
<p style="position:absolute;top:326px;left:707px;white-space:nowrap" class="ft357">j</p>
<p style="position:absolute;top:335px;left:706px;white-space:nowrap" class="ft357">y&#160;and&#160;v</p>
<p style="position:absolute;top:326px;left:752px;white-space:nowrap" class="ft357">j</p>
<p style="position:absolute;top:335px;left:751px;white-space:nowrap" class="ft357">y&#160;is&#160;in&#160;the</p>
<p style="position:absolute;top:349px;left:108px;white-space:nowrap" class="ft352">global&#160;state,&#160;then</p>
<p style="position:absolute;top:348px;left:215px;white-space:nowrap" class="ft352">vi</p>
<p style="position:absolute;top:355px;left:222px;white-space:nowrap" class="ft357">x&#160;is&#160;also&#160;in&#160;the&#160;global&#160;state.&#160;Denoted&#160;by&#160;c(σ).</p>
<p style="position:absolute;top:379px;left:108px;white-space:nowrap" class="ft355">By&#160;Theorem&#160;5.4,&#160;all&#160;nodes&#160;have&#160;consistent&#160;local&#160;OPERA&#160;chains.&#160;The&#160;concept&#160;of&#160;consistent&#160;cut&#160;formalizes&#160;such&#160;a<br/>global&#160;state&#160;of&#160;a&#160;run.&#160;A&#160;consistent&#160;cut&#160;consists&#160;of&#160;all&#160;consistent&#160;OPERA&#160;chains.&#160;A&#160;received&#160;event&#160;block&#160;exists&#160;in&#160;the<br/>global&#160;state&#160;implies&#160;the&#160;existence&#160;of&#160;the&#160;original&#160;event&#160;block.&#160;Note&#160;that&#160;a&#160;consistent&#160;cut&#160;is&#160;simply&#160;a&#160;vector&#160;of&#160;local<br/>states;&#160;we&#160;will&#160;use&#160;the&#160;notation&#160;c(σ)[i]&#160;to&#160;indicate&#160;the&#160;local&#160;state&#160;of&#160;i&#160;in&#160;cut&#160;c&#160;of&#160;run&#160;σ.</p>
<p style="position:absolute;top:452px;left:108px;white-space:nowrap" class="ft355">The&#160;formal&#160;semantics&#160;of&#160;an&#160;asynchronous&#160;system&#160;is&#160;given&#160;via&#160;the&#160;satisfaction&#160;relation&#160;`.&#160;Intuitively&#160;c(σ)&#160;`&#160;φ,&#160;“c(σ)<br/>satisfies&#160;φ,”&#160;if&#160;fact&#160;φ&#160;is&#160;true&#160;in&#160;cut&#160;c&#160;of&#160;run&#160;σ.&#160;We&#160;assume&#160;that&#160;we&#160;are&#160;given&#160;a&#160;function&#160;π&#160;that&#160;assigns&#160;a&#160;truth&#160;value&#160;to<br/>each&#160;primitive&#160;proposition&#160;p.&#160;The&#160;truth&#160;of&#160;a&#160;primitive&#160;proposition&#160;p&#160;in&#160;c(σ)&#160;is&#160;determined&#160;by&#160;π&#160;and&#160;c.&#160;This&#160;defines<br/>c(σ)&#160;`&#160;p.</p>
<p style="position:absolute;top:523px;left:108px;white-space:nowrap" class="ft352">Definition&#160;5.41&#160;(equivalent&#160;cuts).&#160;Two&#160;cuts&#160;c(σ)&#160;and&#160;c0(σ0)&#160;are&#160;equivalent&#160;with&#160;respect&#160;to&#160;i&#160;if:</p>
<p style="position:absolute;top:549px;left:346px;white-space:nowrap" class="ft352">c(σ)&#160;∼i&#160;c</p>
<p style="position:absolute;top:546px;left:407px;white-space:nowrap" class="ft357">0(σ0)&#160;⇔&#160;c(σ)[i]&#160;=&#160;c0(σ0)[i]</p>
<p style="position:absolute;top:584px;left:108px;white-space:nowrap" class="ft355">We&#160;introduce&#160;two&#160;families&#160;of&#160;modal&#160;operators,&#160;denoted&#160;by&#160;Ki&#160;and&#160;Pi,&#160;respectively.&#160;Each&#160;family&#160;indexed&#160;by&#160;process<br/>identifiers.&#160;Given&#160;a&#160;fact&#160;φ,&#160;the&#160;modal&#160;operators&#160;are&#160;defined&#160;as&#160;follows:</p>
<p style="position:absolute;top:622px;left:108px;white-space:nowrap" class="ft355">Definition&#160;5.42&#160;(i&#160;knows&#160;φ).&#160;Ki(φ)&#160;represents&#160;the&#160;statement&#160;“φ&#160;is&#160;true&#160;in&#160;all&#160;possible&#160;consistent&#160;global&#160;states&#160;that<br/>include</p>
<p style="position:absolute;top:638px;left:156px;white-space:nowrap" class="ft352">i’s&#160;local&#160;state”.</p>
<p style="position:absolute;top:655px;left:285px;white-space:nowrap" class="ft352">c(σ)&#160;`&#160;Ki(φ)&#160;⇔&#160;∀c</p>
<p style="position:absolute;top:651px;left:408px;white-space:nowrap" class="ft357">0(σ0)(c0(σ0)&#160;∼</p>
<p style="position:absolute;top:660px;left:496px;white-space:nowrap" class="ft357">i&#160;c(σ)&#160;⇒&#160;c</p>
<p style="position:absolute;top:651px;left:572px;white-space:nowrap" class="ft357">0(σ0)&#160;`&#160;φ)</p>
<p style="position:absolute;top:677px;left:108px;white-space:nowrap" class="ft355">Definition&#160;5.43&#160;(i&#160;partially&#160;knows&#160;φ).&#160;Pi(φ)&#160;represents&#160;the&#160;statement&#160;“there&#160;is&#160;some&#160;consistent&#160;global&#160;state&#160;in&#160;this&#160;run<br/>that&#160;includes</p>
<p style="position:absolute;top:693px;left:189px;white-space:nowrap" class="ft352">i’s&#160;local&#160;state,&#160;in&#160;which&#160;φ&#160;is&#160;true.”</p>
<p style="position:absolute;top:719px;left:296px;white-space:nowrap" class="ft352">c(σ)&#160;`&#160;Pi(φ)&#160;⇔&#160;∃c</p>
<p style="position:absolute;top:715px;left:416px;white-space:nowrap" class="ft357">0(σ)(c0(σ)&#160;∼</p>
<p style="position:absolute;top:724px;left:495px;white-space:nowrap" class="ft357">i&#160;c(σ)&#160;∧&#160;c</p>
<p style="position:absolute;top:715px;left:565px;white-space:nowrap" class="ft357">0(σ)&#160;`&#160;φ)</p>
<p style="position:absolute;top:754px;left:108px;white-space:nowrap" class="ft355">The&#160;next&#160;modal&#160;operator&#160;is&#160;written&#160;M&#160;C&#160;and&#160;stands&#160;for&#160;“majority&#160;concurrently&#160;knows.”&#160;This&#160;is&#160;adapted&#160;from&#160;the<br/>“everyone&#160;concurrently&#160;knows”&#160;in&#160;CCK&#160;paper&#160;[9].&#160;The&#160;definition&#160;of&#160;M&#160;C&#160;(φ)&#160;is&#160;as&#160;follows.</p>
<p style="position:absolute;top:792px;left:108px;white-space:nowrap" class="ft352">Definition&#160;5.44&#160;(majority&#160;concurrently&#160;knows).</p>
<p style="position:absolute;top:822px;left:376px;white-space:nowrap" class="ft352">M</p>
<p style="position:absolute;top:819px;left:392px;white-space:nowrap" class="ft357">C&#160;(φ)&#160;=</p>
<p style="position:absolute;top:827px;left:439px;white-space:nowrap" class="ft357">def</p>
<p style="position:absolute;top:817px;left:464px;white-space:nowrap" class="ft352">^</p>
<p style="position:absolute;top:843px;left:462px;white-space:nowrap" class="ft357">i∈S</p>
<p style="position:absolute;top:822px;left:485px;white-space:nowrap" class="ft352">KiPi(φ),</p>
<p style="position:absolute;top:865px;left:108px;white-space:nowrap" class="ft352">where</p>
<p style="position:absolute;top:864px;left:148px;white-space:nowrap" class="ft352">S&#160;⊆&#160;P&#160;and&#160;|S|&#160;&gt;&#160;2n/3.</p>
<p style="position:absolute;top:895px;left:108px;white-space:nowrap" class="ft355">In&#160;the&#160;presence&#160;of&#160;one-third&#160;of&#160;faulty&#160;nodes,&#160;the&#160;original&#160;operator&#160;“everyone&#160;concurrently&#160;knows”&#160;is&#160;sometimes&#160;not<br/>feasible.&#160;Our&#160;modal&#160;operator&#160;M&#160;C&#160;(φ)&#160;fits&#160;precisely&#160;the&#160;semantics&#160;for&#160;BFT&#160;systems,&#160;in&#160;which&#160;unreliable&#160;processes&#160;may<br/>exist.</p>
<p style="position:absolute;top:952px;left:108px;white-space:nowrap" class="ft352">The&#160;last&#160;modal&#160;operator&#160;is&#160;concurrent&#160;common&#160;knowledge&#160;(CCK),&#160;denoted&#160;by&#160;CC&#160;.</p>
<p style="position:absolute;top:974px;left:108px;white-space:nowrap" class="ft352">Definition&#160;5.45&#160;(concurrent&#160;common&#160;knowledge).&#160;CC&#160;(φ)&#160;is&#160;defined&#160;as&#160;a&#160;fixed&#160;point&#160;of&#160;M&#160;C&#160;(φ&#160;∧&#160;X)</p>
<p style="position:absolute;top:1004px;left:108px;white-space:nowrap" class="ft355">CCK&#160;defines&#160;a&#160;state&#160;of&#160;process&#160;knowledge&#160;that&#160;implies&#160;that&#160;all&#160;processes&#160;are&#160;in&#160;that&#160;same&#160;state&#160;of&#160;knowledge,&#160;with<br/>respect&#160;to&#160;φ,&#160;along&#160;some&#160;cut&#160;of&#160;the&#160;run.&#160;In&#160;other&#160;words,&#160;we&#160;want&#160;a&#160;state&#160;of&#160;knowledge&#160;X&#160;satisfying:&#160;X&#160;=&#160;M&#160;C&#160;(φ&#160;∧&#160;X).<br/>CC&#160;will&#160;be&#160;defined&#160;semantically&#160;as&#160;the&#160;weakest&#160;such&#160;fixed&#160;point,&#160;namely&#160;as&#160;the&#160;greatest&#160;fixed-point&#160;of&#160;M&#160;C&#160;(φ&#160;∧&#160;X).&#160;It<br/>therefore&#160;satisfies:</p>
<p style="position:absolute;top:1070px;left:373px;white-space:nowrap" class="ft352">C</p>
<p style="position:absolute;top:1067px;left:385px;white-space:nowrap" class="ft357">C&#160;(φ)&#160;⇔&#160;MC(φ&#160;∧&#160;CC(φ))</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft352">34</p>
</div>
<!-- Page 36 -->
<a name="36"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page36-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft362">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:113px;left:108px;white-space:nowrap" class="ft365">Thus,&#160;Pi(φ)&#160;states&#160;that&#160;there&#160;is&#160;some&#160;cut&#160;in&#160;the&#160;same&#160;asynchronous&#160;run&#160;σ&#160;including&#160;i’s&#160;local&#160;state,&#160;such&#160;that&#160;φ&#160;is&#160;true&#160;in<br/>that&#160;cut.</p>
<p style="position:absolute;top:154px;left:108px;white-space:nowrap" class="ft362">Note&#160;that&#160;φ&#160;implies&#160;Pi(φ).&#160;But&#160;it&#160;is&#160;not&#160;the&#160;case,&#160;in&#160;general,&#160;that&#160;Pi(φ)&#160;implies&#160;φ&#160;or&#160;even&#160;that&#160;M</p>
<p style="position:absolute;top:151px;left:686px;white-space:nowrap" class="ft367">C&#160;(φ)&#160;implies&#160;φ.&#160;The</p>
<p style="position:absolute;top:170px;left:108px;white-space:nowrap" class="ft365">truth&#160;of&#160;M&#160;C&#160;(φ)&#160;is&#160;determined&#160;with&#160;respect&#160;to&#160;some&#160;cut&#160;c(σ).&#160;A&#160;process&#160;cannot&#160;distinguish&#160;which&#160;cut,&#160;of&#160;the&#160;perhaps<br/>many&#160;cuts&#160;that&#160;are&#160;in&#160;the&#160;run&#160;and&#160;consistent&#160;with&#160;its&#160;local&#160;state,&#160;satisfies&#160;φ;&#160;it&#160;can&#160;only&#160;know&#160;the&#160;existence&#160;of&#160;such&#160;a&#160;cut.</p>
<p style="position:absolute;top:209px;left:108px;white-space:nowrap" class="ft362">Definition&#160;5.46&#160;(global&#160;fact).&#160;Fact&#160;φ&#160;is&#160;valid&#160;in&#160;system&#160;Σ,&#160;denoted&#160;by&#160;Σ&#160;`&#160;φ,&#160;if&#160;φ&#160;is&#160;true&#160;in&#160;all&#160;cuts&#160;of&#160;all&#160;runs&#160;of&#160;Σ.</p>
<p style="position:absolute;top:235px;left:353px;white-space:nowrap" class="ft362">Σ&#160;`&#160;φ&#160;⇔&#160;(∀σ&#160;∈&#160;Σ)(∀c)(c(a)&#160;`&#160;φ)</p>
<p style="position:absolute;top:262px;left:108px;white-space:nowrap" class="ft362">Definition&#160;5.47.&#160;Fact&#160;φ&#160;is&#160;valid,&#160;denoted&#160;`&#160;φ,&#160;if&#160;φ&#160;is&#160;valid&#160;in&#160;all&#160;systems,&#160;i.e.&#160;(∀Σ)(Σ&#160;`&#160;φ).</p>
<p style="position:absolute;top:285px;left:108px;white-space:nowrap" class="ft362">Definition&#160;5.48&#160;(local&#160;fact).&#160;A&#160;fact&#160;φ&#160;is&#160;local&#160;to&#160;process&#160;i&#160;in&#160;system&#160;Σ&#160;if&#160;Σ&#160;`&#160;(φ&#160;⇒&#160;Kiφ)</p>
<p style="position:absolute;top:307px;left:108px;white-space:nowrap" class="ft362">Theorem&#160;5.20.&#160;If&#160;φ&#160;is&#160;local&#160;to&#160;process&#160;i&#160;in&#160;system&#160;Σ,&#160;then&#160;Σ&#160;`&#160;(Pi(φ)&#160;⇒&#160;φ).</p>
<p style="position:absolute;top:329px;left:108px;white-space:nowrap" class="ft365">Lemma&#160;5.21.&#160;If&#160;fact&#160;φ&#160;is&#160;local&#160;to&#160;2/3&#160;of&#160;the&#160;processes&#160;in&#160;a&#160;system&#160;Σ,&#160;then&#160;Σ&#160;`&#160;(M&#160;C&#160;(φ)&#160;⇒&#160;φ)&#160;and&#160;furthermore<br/>Σ&#160;`&#160;(CC&#160;(φ)&#160;⇒&#160;φ).</p>
<p style="position:absolute;top:368px;left:108px;white-space:nowrap" class="ft362">Definition&#160;5.49.&#160;A&#160;fact&#160;φ&#160;is&#160;attained&#160;in&#160;run&#160;σ&#160;if&#160;∃c(σ)(c(σ)&#160;`&#160;φ).</p>
<p style="position:absolute;top:399px;left:108px;white-space:nowrap" class="ft365">Often,&#160;we&#160;refer&#160;to&#160;“knowing”&#160;a&#160;fact&#160;φ&#160;in&#160;a&#160;state&#160;rather&#160;than&#160;in&#160;a&#160;consistent&#160;cut,&#160;since&#160;knowledge&#160;is&#160;dependent&#160;only&#160;on<br/>the&#160;local&#160;state&#160;of&#160;a&#160;process.&#160;Formally,&#160;i&#160;knows&#160;φ&#160;in&#160;state&#160;s&#160;is&#160;shorthand&#160;for</p>
<p style="position:absolute;top:441px;left:362px;white-space:nowrap" class="ft362">∀c(σ)(c(σ)[i]&#160;=&#160;s&#160;⇒&#160;c(σ)&#160;`&#160;φ)</p>
<p style="position:absolute;top:477px;left:108px;white-space:nowrap" class="ft365">For&#160;example,&#160;if&#160;a&#160;process&#160;in&#160;Lachesis&#160;protocol&#160;knows&#160;a&#160;fork&#160;exists&#160;(i.e.,&#160;φ&#160;is&#160;the&#160;exsistenc&#160;of&#160;fork)&#160;in&#160;its&#160;local&#160;state&#160;s<br/>(i.e.,&#160;gi</p>
<p style="position:absolute;top:500px;left:146px;white-space:nowrap" class="ft367">j&#160;),&#160;then&#160;a&#160;consistent&#160;cut&#160;contains&#160;the&#160;state&#160;s&#160;will&#160;know&#160;the&#160;existence&#160;of&#160;that&#160;fork.</p>
<p style="position:absolute;top:519px;left:108px;white-space:nowrap" class="ft362">Definition&#160;5.50&#160;(i&#160;learns&#160;φ).&#160;Process&#160;i&#160;learns&#160;φ&#160;in&#160;state&#160;si</p>
<p style="position:absolute;top:526px;left:449px;white-space:nowrap" class="ft367">j&#160;of&#160;run&#160;σ&#160;if&#160;i&#160;knows&#160;φ&#160;in&#160;s</p>
<p style="position:absolute;top:517px;left:608px;white-space:nowrap" class="ft369">i<br/>j&#160;and,&#160;for&#160;all&#160;previous&#160;states&#160;s</p>
<p style="position:absolute;top:517px;left:787px;white-space:nowrap" class="ft369">i<br/>k&#160;in</p>
<p style="position:absolute;top:536px;left:108px;white-space:nowrap" class="ft362">run</p>
<p style="position:absolute;top:535px;left:132px;white-space:nowrap" class="ft362">σ,&#160;k&#160;&lt;&#160;j,&#160;i&#160;does&#160;not&#160;know&#160;φ.</p>
<p style="position:absolute;top:566px;left:108px;white-space:nowrap" class="ft362">The&#160;following&#160;theorem&#160;says&#160;that&#160;if&#160;CC&#160;(φ&#160;is&#160;attained&#160;in&#160;a&#160;run&#160;then&#160;all&#160;processes&#160;i&#160;learn&#160;PiC</p>
<p style="position:absolute;top:563px;left:686px;white-space:nowrap" class="ft367">C&#160;(φ)&#160;along&#160;a&#160;single</p>
<p style="position:absolute;top:582px;left:108px;white-space:nowrap" class="ft362">consistent&#160;cut.</p>
<p style="position:absolute;top:605px;left:108px;white-space:nowrap" class="ft365">Theorem&#160;5.22&#160;(attainment).&#160;If&#160;CC&#160;(φ)&#160;is&#160;attained&#160;in&#160;a&#160;run&#160;σ,&#160;then&#160;the&#160;set&#160;of&#160;states&#160;in&#160;which&#160;all&#160;processes&#160;learn<br/>PiC</p>
<p style="position:absolute;top:619px;left:134px;white-space:nowrap" class="ft367">C&#160;(φ)&#160;forms&#160;a&#160;consistent&#160;cut&#160;in&#160;σ.</p>
<p style="position:absolute;top:652px;left:108px;white-space:nowrap" class="ft365">We&#160;have&#160;presented&#160;a&#160;formal&#160;semantics&#160;of&#160;Lachesis&#160;protocol&#160;based&#160;on&#160;the&#160;concepts&#160;and&#160;notations&#160;of&#160;concurrent&#160;common<br/>knowledge&#160;[9].&#160;For&#160;a&#160;proof&#160;of&#160;the&#160;above&#160;theorems&#160;and&#160;lemmas&#160;in&#160;this&#160;Section,&#160;we&#160;can&#160;use&#160;similar&#160;proofs&#160;as&#160;described<br/>in&#160;the&#160;original&#160;CCK&#160;paper.</p>
<p style="position:absolute;top:709px;left:108px;white-space:nowrap" class="ft365">With&#160;the&#160;formal&#160;semantics&#160;of&#160;Lachesis,&#160;the&#160;theorems&#160;and&#160;lemmas&#160;described&#160;in&#160;Section&#160;5.2&#160;can&#160;be&#160;expressed&#160;in&#160;term<br/>of&#160;CCK.&#160;For&#160;example,&#160;one&#160;can&#160;study&#160;a&#160;fact&#160;φ&#160;(or&#160;some&#160;primitive&#160;proposition&#160;p)&#160;in&#160;the&#160;following&#160;forms:&#160;‘is&#160;there&#160;any<br/>existence&#160;of&#160;fork?’.&#160;One&#160;can&#160;make&#160;Lachesis-specific&#160;questions&#160;like&#160;’is&#160;event&#160;block&#160;v&#160;a&#160;root?’,&#160;’is&#160;v&#160;a&#160;clotho?’,&#160;or&#160;’is<br/>v&#160;a&#160;atropos?’.&#160;This&#160;is&#160;a&#160;remarkable&#160;result,&#160;since&#160;we&#160;are&#160;the&#160;first&#160;that&#160;define&#160;such&#160;a&#160;formal&#160;semantics&#160;for&#160;DAG-based<br/>protocol.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft362">35</p>
</div>
<!-- Page 37 -->
<a name="37"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page37-div" style="position:relative;width:918px;height:1188px;">
<p style="position:absolute;top:55px;left:589px;white-space:nowrap" class="ft372">A&#160;PREPRINT&#160;-&#160;FEBRUARY&#160;27,&#160;2019</p>
<p style="position:absolute;top:111px;left:108px;white-space:nowrap" class="ft374">6</p>
<p style="position:absolute;top:111px;left:135px;white-space:nowrap" class="ft374">Reference</p>
<p style="position:absolute;top:145px;left:115px;white-space:nowrap" class="ft372">[1]&#160;Sang-Min&#160;Choi,&#160;Jiho&#160;Park,&#160;Quan&#160;Nguyen,&#160;Kiyoung&#160;Jang,&#160;Hyunjoon&#160;Cheob,&#160;Yo-Sub&#160;Han,&#160;and&#160;Byung-Ik&#160;Ahn.</p>
<p style="position:absolute;top:161px;left:140px;white-space:nowrap" class="ft372">Opera:&#160;Reasoning&#160;about&#160;continuous&#160;common&#160;knowledge&#160;in&#160;asynchronous&#160;distributed&#160;systems,&#160;2018.</p>
<p style="position:absolute;top:184px;left:115px;white-space:nowrap" class="ft372">[2]&#160;Leslie&#160;Lamport,&#160;Robert&#160;Shostak,&#160;and&#160;Marshall&#160;Pease.&#160;The&#160;byzantine&#160;generals&#160;problem.&#160;ACM&#160;Trans.&#160;Program.</p>
<p style="position:absolute;top:200px;left:140px;white-space:nowrap" class="ft372">Lang.&#160;Syst.</p>
<p style="position:absolute;top:200px;left:206px;white-space:nowrap" class="ft372">,&#160;4(3):382–401,&#160;July&#160;1982.</p>
<p style="position:absolute;top:222px;left:115px;white-space:nowrap" class="ft372">[3]&#160;Melanie&#160;Swan.&#160;Blockchain:&#160;Blueprint&#160;for&#160;a&#160;new&#160;economy.&#160;O’Reilly&#160;Media,&#160;2015.</p>
<p style="position:absolute;top:245px;left:115px;white-space:nowrap" class="ft372">[4]&#160;James&#160;Aspnes.&#160;Randomized&#160;protocols&#160;for&#160;asynchronous&#160;consensus.&#160;Distributed&#160;Computing,&#160;16(2-3):165–175,</p>
<p style="position:absolute;top:261px;left:140px;white-space:nowrap" class="ft372">2003.</p>
<p style="position:absolute;top:283px;left:115px;white-space:nowrap" class="ft372">[5]&#160;Leslie&#160;Lamport&#160;et&#160;al.&#160;Paxos&#160;made&#160;simple.&#160;ACM&#160;Sigact&#160;News,&#160;32(4):18–25,&#160;2001.</p>
<p style="position:absolute;top:306px;left:115px;white-space:nowrap" class="ft372">[6]&#160;Satoshi&#160;Nakamoto.&#160;Bitcoin:&#160;A&#160;peer-to-peer&#160;electronic&#160;cash&#160;system,&#160;2008.</p>
<p style="position:absolute;top:328px;left:115px;white-space:nowrap" class="ft372">[7]&#160;Scott&#160;Nadal&#160;Sunny&#160;King.&#160;Ppcoin:&#160;Peer-to-peer&#160;crypto-currency&#160;with&#160;proof-of-stake,&#160;2012.</p>
<p style="position:absolute;top:350px;left:115px;white-space:nowrap" class="ft372">[8]&#160;Daniel&#160;Larimer.&#160;Delegated&#160;proof-of-stake&#160;(dpos),&#160;2014.</p>
<p style="position:absolute;top:373px;left:115px;white-space:nowrap" class="ft372">[9]&#160;Prakash&#160;Panangaden&#160;and&#160;Kim&#160;Taylor.&#160;Concurrent&#160;common&#160;knowledge:&#160;defining&#160;agreement&#160;for&#160;asynchronous</p>
<p style="position:absolute;top:389px;left:140px;white-space:nowrap" class="ft372">systems.&#160;Distributed&#160;Computing,&#160;6(2):73–93,&#160;1992.</p>
<p style="position:absolute;top:411px;left:108px;white-space:nowrap" class="ft372">[10]&#160;Michael&#160;J.&#160;Fischer,&#160;Nancy&#160;A.&#160;Lynch,&#160;and&#160;Mike&#160;Paterson.&#160;Impossibility&#160;of&#160;distributed&#160;consensus&#160;with&#160;one&#160;faulty</p>
<p style="position:absolute;top:428px;left:140px;white-space:nowrap" class="ft372">process.&#160;J.&#160;ACM,&#160;32(2):374–382,&#160;1985.</p>
<p style="position:absolute;top:450px;left:108px;white-space:nowrap" class="ft372">[11]&#160;Leslie&#160;Lamport.&#160;Time,&#160;clocks,&#160;and&#160;the&#160;ordering&#160;of&#160;events&#160;in&#160;a&#160;distributed&#160;system.&#160;Communications&#160;of&#160;the&#160;ACM,</p>
<p style="position:absolute;top:467px;left:140px;white-space:nowrap" class="ft372">21(7):558–565,&#160;1978.</p>
<p style="position:absolute;top:1115px;left:452px;white-space:nowrap" class="ft372">36</p>
</div>
</body>
</html>
